!function(n){var t={};function r(e){if(t[e])return t[e].exports;var a=t[e]={i:e,l:!1,exports:{}};return n[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var a in n)r.d(e,a,function(t){return n[t]}.bind(null,a));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=15)}([function(n,t,r){var e,a;!function(){var i={version:"3.5.12"},u=[].slice,o=function(n){return u.call(n)},c=this.document;function f(n){return n&&(n.ownerDocument||n.document||n).documentElement}function l(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}if(c)try{o(c.documentElement.childNodes)[0].nodeType}catch(n){o=function(n){for(var t=n.length,r=new Array(t);t--;)r[t]=n[t];return r}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var s=this.Element.prototype,h=s.setAttribute,p=s.setAttributeNS,v=this.CSSStyleDeclaration.prototype,g=v.setProperty;s.setAttribute=function(n,t){h.call(this,n,t+"")},s.setAttributeNS=function(n,t,r){p.call(this,n,t,r+"")},v.setProperty=function(n,t,r){g.call(this,n,t+"",r)}}function d(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function y(n){return null===n?NaN:+n}function m(n){return!isNaN(n)}function b(n){return{left:function(t,r,e,a){for(arguments.length<3&&(e=0),arguments.length<4&&(a=t.length);e<a;){var i=e+a>>>1;n(t[i],r)<0?e=i+1:a=i}return e},right:function(t,r,e,a){for(arguments.length<3&&(e=0),arguments.length<4&&(a=t.length);e<a;){var i=e+a>>>1;n(t[i],r)>0?a=i:e=i+1}return e}}}i.ascending=d,i.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},i.min=function(n,t){var r,e,a=-1,i=n.length;if(1===arguments.length){for(;++a<i;)if(null!=(e=n[a])&&e>=e){r=e;break}for(;++a<i;)null!=(e=n[a])&&r>e&&(r=e)}else{for(;++a<i;)if(null!=(e=t.call(n,n[a],a))&&e>=e){r=e;break}for(;++a<i;)null!=(e=t.call(n,n[a],a))&&r>e&&(r=e)}return r},i.max=function(n,t){var r,e,a=-1,i=n.length;if(1===arguments.length){for(;++a<i;)if(null!=(e=n[a])&&e>=e){r=e;break}for(;++a<i;)null!=(e=n[a])&&e>r&&(r=e)}else{for(;++a<i;)if(null!=(e=t.call(n,n[a],a))&&e>=e){r=e;break}for(;++a<i;)null!=(e=t.call(n,n[a],a))&&e>r&&(r=e)}return r},i.extent=function(n,t){var r,e,a,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(e=n[i])&&e>=e){r=a=e;break}for(;++i<u;)null!=(e=n[i])&&(r>e&&(r=e),a<e&&(a=e))}else{for(;++i<u;)if(null!=(e=t.call(n,n[i],i))&&e>=e){r=a=e;break}for(;++i<u;)null!=(e=t.call(n,n[i],i))&&(r>e&&(r=e),a<e&&(a=e))}return[r,a]},i.sum=function(n,t){var r,e=0,a=n.length,i=-1;if(1===arguments.length)for(;++i<a;)m(r=+n[i])&&(e+=r);else for(;++i<a;)m(r=+t.call(n,n[i],i))&&(e+=r);return e},i.mean=function(n,t){var r,e=0,a=n.length,i=-1,u=a;if(1===arguments.length)for(;++i<a;)m(r=y(n[i]))?e+=r:--u;else for(;++i<a;)m(r=y(t.call(n,n[i],i)))?e+=r:--u;if(u)return e/u},i.quantile=function(n,t){var r=(n.length-1)*t+1,e=Math.floor(r),a=+n[e-1],i=r-e;return i?a+i*(n[e]-a):a},i.median=function(n,t){var r,e=[],a=n.length,u=-1;if(1===arguments.length)for(;++u<a;)m(r=y(n[u]))&&e.push(r);else for(;++u<a;)m(r=y(t.call(n,n[u],u)))&&e.push(r);if(e.length)return i.quantile(e.sort(d),.5)},i.variance=function(n,t){var r,e,a=n.length,i=0,u=0,o=-1,c=0;if(1===arguments.length)for(;++o<a;)m(r=y(n[o]))&&(u+=(e=r-i)*(r-(i+=e/++c)));else for(;++o<a;)m(r=y(t.call(n,n[o],o)))&&(u+=(e=r-i)*(r-(i+=e/++c)));if(c>1)return u/(c-1)},i.deviation=function(){var n=i.variance.apply(this,arguments);return n?Math.sqrt(n):n};var _=b(d);function x(n){return n.length}i.bisectLeft=_.left,i.bisect=i.bisectRight=_.right,i.bisector=function(n){return b(1===n.length?function(t,r){return d(n(t),r)}:n)},i.shuffle=function(n,t,r){(i=arguments.length)<3&&(r=n.length,i<2&&(t=0));for(var e,a,i=r-t;i;)a=Math.random()*i--|0,e=n[i+t],n[i+t]=n[a+t],n[a+t]=e;return n},i.permute=function(n,t){for(var r=t.length,e=new Array(r);r--;)e[r]=n[t[r]];return e},i.pairs=function(n){for(var t=0,r=n.length-1,e=n[0],a=new Array(r<0?0:r);t<r;)a[t]=[e,e=n[++t]];return a},i.zip=function(){if(!(e=arguments.length))return[];for(var n=-1,t=i.min(arguments,x),r=new Array(t);++n<t;)for(var e,a=-1,u=r[n]=new Array(e);++a<e;)u[a]=arguments[a][n];return r},i.transpose=function(n){return i.zip.apply(i,n)},i.keys=function(n){var t=[];for(var r in n)t.push(r);return t},i.values=function(n){var t=[];for(var r in n)t.push(n[r]);return t},i.entries=function(n){var t=[];for(var r in n)t.push({key:r,value:n[r]});return t},i.merge=function(n){for(var t,r,e,a=n.length,i=-1,u=0;++i<a;)u+=n[i].length;for(r=new Array(u);--a>=0;)for(t=(e=n[a]).length;--t>=0;)r[--u]=e[t];return r};var w=Math.abs;function M(n,t){for(var r in t)Object.defineProperty(n.prototype,r,{value:t[r],enumerable:!1})}function k(){this._=Object.create(null)}i.range=function(n,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=n,n=0)),(t-n)/r==1/0)throw new Error("infinite range");var e,a=[],i=function(n){var t=1;for(;n*t%1;)t*=10;return t}(w(r)),u=-1;if(n*=i,t*=i,(r*=i)<0)for(;(e=n+r*++u)>t;)a.push(e/i);else for(;(e=n+r*++u)<t;)a.push(e/i);return a},i.map=function(n,t){var r=new k;if(n instanceof k)n.forEach(function(n,t){r.set(n,t)});else if(Array.isArray(n)){var e,a=-1,i=n.length;if(1===arguments.length)for(;++a<i;)r.set(a,n[a]);else for(;++a<i;)r.set(t.call(n,e=n[a],a),e)}else for(var u in n)r.set(u,n[u]);return r};var A="__proto__",S="\0";function N(n){return(n+="")===A||n[0]===S?S+n:n}function E(n){return(n+="")[0]===S?n.slice(1):n}function C(n){return N(n)in this._}function j(n){return(n=N(n))in this._&&delete this._[n]}function z(){var n=[];for(var t in this._)n.push(E(t));return n}function L(){var n=0;for(var t in this._)++n;return n}function O(){for(var n in this._)return!1;return!0}function R(){this._=Object.create(null)}function T(n){return n}function q(n,t,r){return function(){var e=r.apply(t,arguments);return e===t?n:e}}function I(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var r=0,e=D.length;r<e;++r){var a=D[r]+t;if(a in n)return a}}M(k,{has:C,get:function(n){return this._[N(n)]},set:function(n,t){return this._[N(n)]=t},remove:j,keys:z,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:E(t),value:this._[t]});return n},size:L,empty:O,forEach:function(n){for(var t in this._)n.call(this,E(t),this._[t])}}),i.nest=function(){var n,t,r={},e=[],a=[];function u(a,i,o){if(o>=e.length)return t?t.call(r,i):n?i.sort(n):i;for(var c,f,l,s,h=-1,p=i.length,v=e[o++],g=new k;++h<p;)(s=g.get(c=v(f=i[h])))?s.push(f):g.set(c,[f]);return a?(f=a(),l=function(n,t){f.set(n,u(a,t,o))}):(f={},l=function(n,t){f[n]=u(a,t,o)}),g.forEach(l),f}return r.map=function(n,t){return u(t,n,0)},r.entries=function(n){return function n(t,r){if(r>=e.length)return t;var i=[],u=a[r++];return t.forEach(function(t,e){i.push({key:t,values:n(e,r)})}),u?i.sort(function(n,t){return u(n.key,t.key)}):i}(u(i.map,n,0),0)},r.key=function(n){return e.push(n),r},r.sortKeys=function(n){return a[e.length-1]=n,r},r.sortValues=function(t){return n=t,r},r.rollup=function(n){return t=n,r},r},i.set=function(n){var t=new R;if(n)for(var r=0,e=n.length;r<e;++r)t.add(n[r]);return t},M(R,{has:C,add:function(n){return this._[N(n+="")]=!0,n},remove:j,values:z,size:L,empty:O,forEach:function(n){for(var t in this._)n.call(this,E(t))}}),i.behavior={},i.rebind=function(n,t){for(var r,e=1,a=arguments.length;++e<a;)n[r=arguments[e]]=q(n,t,t[r]);return n};var D=["webkit","ms","moz","Moz","o","O"];function P(){}function F(){}function U(n){var t=[],r=new k;function e(){for(var r,e=t,a=-1,i=e.length;++a<i;)(r=e[a].on)&&r.apply(this,arguments);return n}return e.on=function(e,a){var i,u=r.get(e);return arguments.length<2?u&&u.on:(u&&(u.on=null,t=t.slice(0,i=t.indexOf(u)).concat(t.slice(i+1)),r.remove(e)),a&&t.push(r.set(e,{on:a})),n)},e}function B(){i.event.preventDefault()}function W(){for(var n,t=i.event;n=t.sourceEvent;)t=n;return t}function Y(n){for(var t=new F,r=0,e=arguments.length;++r<e;)t[arguments[r]]=U(t);return t.of=function(r,e){return function(a){try{var u=a.sourceEvent=i.event;a.target=n,i.event=a,t[a.type].apply(r,e)}finally{i.event=u}}},t}i.dispatch=function(){for(var n=new F,t=-1,r=arguments.length;++t<r;)n[arguments[t]]=U(n);return n},F.prototype.on=function(n,t){var r=n.indexOf("."),e="";if(r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),n)return arguments.length<2?this[n].on(e):this[n].on(e,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(e,null);return this}},i.event=null,i.requote=function(n){return n.replace($,"\\$&")};var $=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var r in t)n[r]=t[r]};function Z(n){return H(n,K),n}var V=function(n,t){return t.querySelector(n)},G=function(n,t){return t.querySelectorAll(n)},X=function(n,t){var r=n.matches||n[I(n,"matchesSelector")];return(X=function(n,t){return r.call(n,t)})(n,t)};"function"==typeof Sizzle&&(V=function(n,t){return Sizzle(n,t)[0]||null},G=Sizzle,X=Sizzle.matchesSelector),i.selection=function(){return i.select(c.documentElement)};var K=i.selection.prototype=[];function J(n){return"function"==typeof n?n:function(){return V(n,this)}}function Q(n){return"function"==typeof n?n:function(){return G(n,this)}}K.select=function(n){var t,r,e,a,i=[];n=J(n);for(var u=-1,o=this.length;++u<o;){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var c=-1,f=e.length;++c<f;)(a=e[c])?(t.push(r=n.call(a,a.__data__,c,u)),r&&"__data__"in a&&(r.__data__=a.__data__)):t.push(null)}return Z(i)},K.selectAll=function(n){var t,r,e=[];n=Q(n);for(var a=-1,i=this.length;++a<i;)for(var u=this[a],c=-1,f=u.length;++c<f;)(r=u[c])&&(e.push(t=o(n.call(r,r.__data__,c,a))),t.parentNode=r);return Z(e)};var nn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tn(n,t){return n=i.ns.qualify(n),null==t?n.local?function(){this.removeAttributeNS(n.space,n.local)}:function(){this.removeAttribute(n)}:"function"==typeof t?n.local?function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}:function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}:n.local?function(){this.setAttributeNS(n.space,n.local,t)}:function(){this.setAttribute(n,t)}}function rn(n){return n.trim().replace(/\s+/g," ")}function en(n){return new RegExp("(?:^|\\s+)"+i.requote(n)+"(?:\\s+|$)","g")}function an(n){return(n+"").trim().split(/^|\s+/)}function un(n,t){var r=(n=an(n).map(on)).length;return"function"==typeof t?function(){for(var e=-1,a=t.apply(this,arguments);++e<r;)n[e](this,a)}:function(){for(var e=-1;++e<r;)n[e](this,t)}}function on(n){var t=en(n);return function(r,e){if(a=r.classList)return e?a.add(n):a.remove(n);var a=r.getAttribute("class")||"";e?(t.lastIndex=0,t.test(a)||r.setAttribute("class",rn(a+" "+n))):r.setAttribute("class",rn(a.replace(t," ")))}}function cn(n,t,r){return null==t?function(){this.style.removeProperty(n)}:"function"==typeof t?function(){var e=t.apply(this,arguments);null==e?this.style.removeProperty(n):this.style.setProperty(n,e,r)}:function(){this.style.setProperty(n,t,r)}}function fn(n,t){return null==t?function(){delete this[n]}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?delete this[n]:this[n]=r}:function(){this[n]=t}}function ln(n){return"function"==typeof n?n:(n=i.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,r=this.namespaceURI;return r?t.createElementNS(r,n):t.createElement(n)}}function sn(){var n=this.parentNode;n&&n.removeChild(this)}function hn(n){return{__data__:n}}function pn(n){return function(){return X(this,n)}}function vn(n,t){for(var r=0,e=n.length;r<e;r++)for(var a,i=n[r],u=0,o=i.length;u<o;u++)(a=i[u])&&t(a,u,r);return n}function gn(n){return H(n,dn),n}i.ns={prefix:nn,qualify:function(n){var t=n.indexOf(":"),r=n;return t>=0&&"xmlns"!==(r=n.slice(0,t))&&(n=n.slice(t+1)),nn.hasOwnProperty(r)?{space:nn[r],local:n}:n}},K.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node();return(n=i.ns.qualify(n)).local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}for(t in n)this.each(tn(t,n[t]));return this}return this.each(tn(n,t))},K.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node(),e=(n=an(n)).length,a=-1;if(t=r.classList){for(;++a<e;)if(!t.contains(n[a]))return!1}else for(t=r.getAttribute("class");++a<e;)if(!en(n[a]).test(t))return!1;return!0}for(t in n)this.each(un(t,n[t]));return this}return this.each(un(n,t))},K.style=function(n,t,r){var e=arguments.length;if(e<3){if("string"!=typeof n){for(r in e<2&&(t=""),n)this.each(cn(r,n[r],t));return this}if(e<2){var a=this.node();return l(a).getComputedStyle(a,null).getPropertyValue(n)}r=""}return this.each(cn(n,t,r))},K.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(fn(t,n[t]));return this}return this.each(fn(n,t))},K.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},K.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},K.append=function(n){return n=ln(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},K.insert=function(n,t){return n=ln(n),t=J(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},K.remove=function(){return this.each(sn)},K.data=function(n,t){var r,e,a=-1,i=this.length;if(!arguments.length){for(n=new Array(i=(r=this[0]).length);++a<i;)(e=r[a])&&(n[a]=e.__data__);return n}function u(n,r){var e,a,i,u=n.length,l=r.length,s=Math.min(u,l),h=new Array(l),p=new Array(l),v=new Array(u);if(t){var g,d=new k,y=new Array(u);for(e=-1;++e<u;)(a=n[e])&&(d.has(g=t.call(a,a.__data__,e))?v[e]=a:d.set(g,a),y[e]=g);for(e=-1;++e<l;)(a=d.get(g=t.call(r,i=r[e],e)))?!0!==a&&(h[e]=a,a.__data__=i):p[e]=hn(i),d.set(g,!0);for(e=-1;++e<u;)e in y&&!0!==d.get(y[e])&&(v[e]=n[e])}else{for(e=-1;++e<s;)a=n[e],i=r[e],a?(a.__data__=i,h[e]=a):p[e]=hn(i);for(;e<l;++e)p[e]=hn(r[e]);for(;e<u;++e)v[e]=n[e]}p.update=h,p.parentNode=h.parentNode=v.parentNode=n.parentNode,o.push(p),c.push(h),f.push(v)}var o=gn([]),c=Z([]),f=Z([]);if("function"==typeof n)for(;++a<i;)u(r=this[a],n.call(r,r.parentNode.__data__,a));else for(;++a<i;)u(r=this[a],n);return c.enter=function(){return o},c.exit=function(){return f},c},K.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},K.filter=function(n){var t,r,e,a=[];"function"!=typeof n&&(n=pn(n));for(var i=0,u=this.length;i<u;i++){a.push(t=[]),t.parentNode=(r=this[i]).parentNode;for(var o=0,c=r.length;o<c;o++)(e=r[o])&&n.call(e,e.__data__,o,i)&&t.push(e)}return Z(a)},K.order=function(){for(var n=-1,t=this.length;++n<t;)for(var r,e=this[n],a=e.length-1,i=e[a];--a>=0;)(r=e[a])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},K.sort=function(n){n=function(n){arguments.length||(n=d);return function(t,r){return t&&r?n(t.__data__,r.__data__):!t-!r}}.apply(this,arguments);for(var t=-1,r=this.length;++t<r;)this[t].sort(n);return this.order()},K.each=function(n){return vn(this,function(t,r,e){n.call(t,t.__data__,r,e)})},K.call=function(n){var t=o(arguments);return n.apply(t[0]=this,t),this},K.empty=function(){return!this.node()},K.node=function(){for(var n=0,t=this.length;n<t;n++)for(var r=this[n],e=0,a=r.length;e<a;e++){var i=r[e];if(i)return i}return null},K.size=function(){var n=0;return vn(this,function(){++n}),n};var dn=[];function yn(n,t,r){var e="__on"+n,a=n.indexOf("."),u=bn;a>0&&(n=n.slice(0,a));var c=mn.get(n);function f(){var t=this[e];t&&(this.removeEventListener(n,t,t.$),delete this[e])}return c&&(n=c,u=_n),a?t?function(){var a=u(t,o(arguments));f.call(this),this.addEventListener(n,this[e]=a,a.$=r),a._=t}:f:t?P:function(){var t,r=new RegExp("^__on([^.]+)"+i.requote(n)+"$");for(var e in this)if(t=e.match(r)){var a=this[e];this.removeEventListener(t[1],a,a.$),delete this[e]}}}i.selection.enter=gn,i.selection.enter.prototype=dn,dn.append=K.append,dn.empty=K.empty,dn.node=K.node,dn.call=K.call,dn.size=K.size,dn.select=function(n){for(var t,r,e,a,i,u=[],o=-1,c=this.length;++o<c;){e=(a=this[o]).update,u.push(t=[]),t.parentNode=a.parentNode;for(var f=-1,l=a.length;++f<l;)(i=a[f])?(t.push(e[f]=r=n.call(a.parentNode,i.__data__,f,o)),r.__data__=i.__data__):t.push(null)}return Z(u)},dn.insert=function(n,t){var r,e,a;return arguments.length<2&&(r=this,t=function(n,t,i){var u,o=r[i].update,c=o.length;for(i!=a&&(a=i,e=0),t>=e&&(e=t+1);!(u=o[e])&&++e<c;);return u}),K.insert.call(this,n,t)},i.select=function(n){var t;return"string"==typeof n?(t=[V(n,c)]).parentNode=c.documentElement:(t=[n]).parentNode=f(n),Z([t])},i.selectAll=function(n){var t;return"string"==typeof n?(t=o(G(n,c))).parentNode=c.documentElement:(t=o(n)).parentNode=null,Z([t])},K.on=function(n,t,r){var e=arguments.length;if(e<3){if("string"!=typeof n){for(r in e<2&&(t=!1),n)this.each(yn(r,n[r],t));return this}if(e<2)return(e=this.node()["__on"+n])&&e._;r=!1}return this.each(yn(n,t,r))};var mn=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function bn(n,t){return function(r){var e=i.event;i.event=r,t[0]=this.__data__;try{n.apply(this,t)}finally{i.event=e}}}function _n(n,t){var r=bn(n,t);return function(n){var t=n.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||r.call(this,n)}}c&&mn.forEach(function(n){"on"+n in c&&mn.remove(n)});var xn,wn=0;function Mn(n){var t=".dragsuppress-"+ ++wn,r="click"+t,e=i.select(l(n)).on("touchmove"+t,B).on("dragstart"+t,B).on("selectstart"+t,B);if(null==xn&&(xn=!("onselectstart"in n)&&I(n.style,"userSelect")),xn){var a=f(n).style,u=a[xn];a[xn]="none"}return function(n){if(e.on(t,null),xn&&(a[xn]=u),n){var i=function(){e.on(r,null)};e.on(r,function(){B(),i()},!0),setTimeout(i,0)}}}i.mouse=function(n){return An(n,W())};var kn=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function An(n,t){t.changedTouches&&(t=t.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var e=r.createSVGPoint();if(kn<0){var a=l(n);if(a.scrollX||a.scrollY){var u=(r=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();kn=!(u.f||u.e),r.remove()}}return kn?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),[(e=e.matrixTransform(n.getScreenCTM().inverse())).x,e.y]}var o=n.getBoundingClientRect();return[t.clientX-o.left-n.clientLeft,t.clientY-o.top-n.clientTop]}function Sn(){return i.event.changedTouches[0].identifier}i.touch=function(n,t,r){if(arguments.length<3&&(r=t,t=W().changedTouches),t)for(var e,a=0,i=t.length;a<i;++a)if((e=t[a]).identifier===r)return An(n,e)},i.behavior.drag=function(){var n=Y(a,"drag","dragstart","dragend"),t=null,r=u(P,i.mouse,l,"mousemove","mouseup"),e=u(Sn,i.touch,T,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",e)}function u(r,e,a,u,o){return function(){var c,f=i.event.target,l=this.parentNode,s=n.of(this,arguments),h=0,p=r(),v=".drag"+(null==p?"":"-"+p),g=i.select(a(f)).on(u+v,function(){var n,t,r=e(l,p);if(!r)return;n=r[0]-y[0],t=r[1]-y[1],h|=n|t,y=r,s({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:t})}).on(o+v,function(){if(!e(l,p))return;g.on(u+v,null).on(o+v,null),d(h),s({type:"dragend"})}),d=Mn(f),y=e(l,p);c=t?[(c=t.apply(this,arguments)).x-y[0],c.y-y[1]]:[0,0],s({type:"dragstart"})}}return a.origin=function(n){return arguments.length?(t=n,a):t},i.rebind(a,n,"on")},i.touches=function(n,t){return arguments.length<2&&(t=W().touches),t?o(t).map(function(t){var r=An(n,t);return r.identifier=t.identifier,r}):[]};var Nn=1e-6,En=Nn*Nn,Cn=Math.PI,jn=2*Cn,zn=jn-Nn,Ln=Cn/2,On=Cn/180,Rn=180/Cn;function Tn(n){return n>0?1:n<0?-1:0}function qn(n,t,r){return(t[0]-n[0])*(r[1]-n[1])-(t[1]-n[1])*(r[0]-n[0])}function In(n){return n>1?0:n<-1?Cn:Math.acos(n)}function Dn(n){return n>1?Ln:n<-1?-Ln:Math.asin(n)}function Pn(n){return((n=Math.exp(n))+1/n)/2}function Fn(n){return(n=Math.sin(n/2))*n}var Un=Math.SQRT2;i.interpolateZoom=function(n,t){var r,e,a=n[0],i=n[1],u=n[2],o=t[0],c=t[1],f=t[2],l=o-a,s=c-i,h=l*l+s*s;if(h<En)e=Math.log(f/u)/Un,r=function(n){return[a+n*l,i+n*s,u*Math.exp(Un*n*e)]};else{var p=Math.sqrt(h),v=(f*f-u*u+4*h)/(2*u*2*p),g=(f*f-u*u-4*h)/(2*f*2*p),d=Math.log(Math.sqrt(v*v+1)-v),y=Math.log(Math.sqrt(g*g+1)-g);e=(y-d)/Un,r=function(n){var t,r=n*e,o=Pn(d),c=u/(2*p)*(o*(t=Un*r+d,((t=Math.exp(2*t))-1)/(t+1))-function(n){return((n=Math.exp(n))-1/n)/2}(d));return[a+c*l,i+c*s,u*o/Pn(Un*r+d)]}}return r.duration=1e3*e,r},i.behavior.zoom=function(){var n,t,r,e,a,u,o,f,s,h={x:0,y:0,k:1},p=[960,500],v=Yn,g=250,d=0,y="mousedown.zoom",m="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",x=Y(w,"zoomstart","zoom","zoomend");function w(n){n.on(y,z).on(Wn+".zoom",O).on("dblclick.zoom",R).on(_,L)}function M(n){return[(n[0]-h.x)/h.k,(n[1]-h.y)/h.k]}function k(n){h.k=Math.max(v[0],Math.min(v[1],n))}function A(n,t){t=function(n){return[n[0]*h.k+h.x,n[1]*h.k+h.y]}(t),h.x+=n[0]-t[0],h.y+=n[1]-t[1]}function S(n,r,e,a){n.__chart__={x:h.x,y:h.y,k:h.k},k(Math.pow(2,a)),A(t=r,e),n=i.select(n),g>0&&(n=n.transition().duration(g)),n.call(w.event)}function N(){o&&o.domain(u.range().map(function(n){return(n-h.x)/h.k}).map(u.invert)),s&&s.domain(f.range().map(function(n){return(n-h.y)/h.k}).map(f.invert))}function E(n){d++||n({type:"zoomstart"})}function C(n){N(),n({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function j(n){--d||(n({type:"zoomend"}),t=null)}function z(){var n=this,t=x.of(n,arguments),r=0,e=i.select(l(n)).on(m,function(){r=1,A(i.mouse(n),a),C(t)}).on(b,function(){e.on(m,null).on(b,null),u(r),j(t)}),a=M(i.mouse(n)),u=Mn(n);go.call(n),E(t)}function L(){var n,t=this,r=x.of(t,arguments),e={},u=0,o=".zoom-"+i.event.changedTouches[0].identifier,c="touchmove"+o,f="touchend"+o,l=[],s=i.select(t),p=Mn(t);function v(){var r=i.touches(t);return n=h.k,r.forEach(function(n){n.identifier in e&&(e[n.identifier]=M(n))}),r}function g(){var n=i.event.target;i.select(n).on(c,d).on(f,m),l.push(n);for(var r=i.event.changedTouches,o=0,s=r.length;o<s;++o)e[r[o].identifier]=null;var p=v(),g=Date.now();if(1===p.length){if(g-a<500){var y=p[0];S(t,y,e[y.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),B()}a=g}else if(p.length>1){y=p[0];var b=p[1],_=y[0]-b[0],x=y[1]-b[1];u=_*_+x*x}}function d(){var o,c,f,l,s=i.touches(t);go.call(t);for(var h=0,p=s.length;h<p;++h,l=null)if(f=s[h],l=e[f.identifier]){if(c)break;o=f,c=l}if(l){var v=(v=f[0]-o[0])*v+(v=f[1]-o[1])*v,g=u&&Math.sqrt(v/u);o=[(o[0]+f[0])/2,(o[1]+f[1])/2],c=[(c[0]+l[0])/2,(c[1]+l[1])/2],k(g*n)}a=null,A(o,c),C(r)}function m(){if(i.event.touches.length){for(var n=i.event.changedTouches,t=0,a=n.length;t<a;++t)delete e[n[t].identifier];for(var u in e)return void v()}i.selectAll(l).on(o,null),s.on(y,z).on(_,L),p(),j(r)}g(),E(r),s.on(y,null).on(_,g)}function O(){var a=x.of(this,arguments);e?clearTimeout(e):(go.call(this),n=M(t=r||i.mouse(this)),E(a)),e=setTimeout(function(){e=null,j(a)},50),B(),k(Math.pow(2,.002*Bn())*h.k),A(t,n),C(a)}function R(){var n=i.mouse(this),t=Math.log(h.k)/Math.LN2;S(this,n,M(n),i.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Wn||(Wn="onwheel"in c?(Bn=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(Bn=function(){return i.event.wheelDelta},"mousewheel"):(Bn=function(){return-i.event.detail},"MozMousePixelScroll")),w.event=function(n){n.each(function(){var n=x.of(this,arguments),r=h;bo?i.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},E(n)}).tween("zoom:zoom",function(){var e=p[0],a=p[1],u=t?t[0]:e/2,o=t?t[1]:a/2,c=i.interpolateZoom([(u-h.x)/h.k,(o-h.y)/h.k,e/h.k],[(u-r.x)/r.k,(o-r.y)/r.k,e/r.k]);return function(t){var r=c(t),a=e/r[2];this.__chart__=h={x:u-r[0]*a,y:o-r[1]*a,k:a},C(n)}}).each("interrupt.zoom",function(){j(n)}).each("end.zoom",function(){j(n)}):(this.__chart__=h,E(n),C(n),j(n))})},w.translate=function(n){return arguments.length?(h={x:+n[0],y:+n[1],k:h.k},N(),w):[h.x,h.y]},w.scale=function(n){return arguments.length?(h={x:h.x,y:h.y,k:null},k(+n),N(),w):h.k},w.scaleExtent=function(n){return arguments.length?(v=null==n?Yn:[+n[0],+n[1]],w):v},w.center=function(n){return arguments.length?(r=n&&[+n[0],+n[1]],w):r},w.size=function(n){return arguments.length?(p=n&&[+n[0],+n[1]],w):p},w.duration=function(n){return arguments.length?(g=+n,w):g},w.x=function(n){return arguments.length?(o=n,u=n.copy(),h={x:0,y:0,k:1},w):o},w.y=function(n){return arguments.length?(s=n,f=n.copy(),h={x:0,y:0,k:1},w):s},i.rebind(w,x,"on")};var Bn,Wn,Yn=[0,1/0];function $n(){}function Hn(n,t,r){return this instanceof Hn?(this.h=+n,this.s=+t,void(this.l=+r)):arguments.length<2?n instanceof Hn?new Hn(n.h,n.s,n.l):vt(""+n,gt,Hn):new Hn(n,t,r)}i.color=$n,$n.prototype.toString=function(){return this.rgb()+""},i.hsl=Hn;var Zn=Hn.prototype=new $n;function Vn(n,t,r){var e,a;function i(n){return Math.round(255*function(n){return n>360?n-=360:n<0&&(n+=360),n<60?e+(a-e)*n/60:n<180?a:n<240?e+(a-e)*(240-n)/60:e}(n))}return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,e=2*(r=r<0?0:r>1?1:r)-(a=r<=.5?r*(1+t):r+t-r*t),new ft(i(n+120),i(n),i(n-120))}function Gn(n,t,r){return this instanceof Gn?(this.h=+n,this.c=+t,void(this.l=+r)):arguments.length<2?n instanceof Gn?new Gn(n.h,n.c,n.l):it(n instanceof Jn?n.l:(n=dt((n=i.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new Gn(n,t,r)}Zn.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new Hn(this.h,this.s,this.l/n)},Zn.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new Hn(this.h,this.s,n*this.l)},Zn.rgb=function(){return Vn(this.h,this.s,this.l)},i.hcl=Gn;var Xn=Gn.prototype=new $n;function Kn(n,t,r){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new Jn(r,Math.cos(n*=On)*t,Math.sin(n)*t)}function Jn(n,t,r){return this instanceof Jn?(this.l=+n,this.a=+t,void(this.b=+r)):arguments.length<2?n instanceof Jn?new Jn(n.l,n.a,n.b):n instanceof Gn?Kn(n.h,n.c,n.l):dt((n=ft(n)).r,n.g,n.b):new Jn(n,t,r)}Xn.brighter=function(n){return new Gn(this.h,this.c,Math.min(100,this.l+Qn*(arguments.length?n:1)))},Xn.darker=function(n){return new Gn(this.h,this.c,Math.max(0,this.l-Qn*(arguments.length?n:1)))},Xn.rgb=function(){return Kn(this.h,this.c,this.l).rgb()},i.lab=Jn;var Qn=18,nt=.95047,tt=1,rt=1.08883,et=Jn.prototype=new $n;function at(n,t,r){var e=(n+16)/116,a=e+t/500,i=e-r/200;return new ft(ct(3.2404542*(a=ut(a)*nt)-1.5371385*(e=ut(e)*tt)-.4985314*(i=ut(i)*rt)),ct(-.969266*a+1.8760108*e+.041556*i),ct(.0556434*a-.2040259*e+1.0572252*i))}function it(n,t,r){return n>0?new Gn(Math.atan2(r,t)*Rn,Math.sqrt(t*t+r*r),n):new Gn(NaN,NaN,n)}function ut(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function ot(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function ct(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function ft(n,t,r){return this instanceof ft?(this.r=~~n,this.g=~~t,void(this.b=~~r)):arguments.length<2?n instanceof ft?new ft(n.r,n.g,n.b):vt(""+n,ft,Vn):new ft(n,t,r)}function lt(n){return new ft(n>>16,n>>8&255,255&n)}function st(n){return lt(n)+""}et.brighter=function(n){return new Jn(Math.min(100,this.l+Qn*(arguments.length?n:1)),this.a,this.b)},et.darker=function(n){return new Jn(Math.max(0,this.l-Qn*(arguments.length?n:1)),this.a,this.b)},et.rgb=function(){return at(this.l,this.a,this.b)},i.rgb=ft;var ht=ft.prototype=new $n;function pt(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function vt(n,t,r){var e,a,i,u=0,o=0,c=0;if(e=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(a=e[2].split(","),e[1]){case"hsl":return r(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(mt(a[0]),mt(a[1]),mt(a[2]))}return(i=bt.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(u=(3840&i)>>4,u|=u>>4,o=240&i,o|=o>>4,c=15&i,c|=c<<4):7===n.length&&(u=(16711680&i)>>16,o=(65280&i)>>8,c=255&i)),t(u,o,c))}function gt(n,t,r){var e,a,i=Math.min(n/=255,t/=255,r/=255),u=Math.max(n,t,r),o=u-i,c=(u+i)/2;return o?(a=c<.5?o/(u+i):o/(2-u-i),e=n==u?(t-r)/o+(t<r?6:0):t==u?(r-n)/o+2:(n-t)/o+4,e*=60):(e=NaN,a=c>0&&c<1?0:e),new Hn(e,a,c)}function dt(n,t,r){var e=ot((.4124564*(n=yt(n))+.3575761*(t=yt(t))+.1804375*(r=yt(r)))/nt),a=ot((.2126729*n+.7151522*t+.072175*r)/tt);return Jn(116*a-16,500*(e-a),200*(a-ot((.0193339*n+.119192*t+.9503041*r)/rt)))}function yt(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function mt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}ht.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,r=this.g,e=this.b,a=30;return t||r||e?(t&&t<a&&(t=a),r&&r<a&&(r=a),e&&e<a&&(e=a),new ft(Math.min(255,t/n),Math.min(255,r/n),Math.min(255,e/n))):new ft(a,a,a)},ht.darker=function(n){return new ft((n=Math.pow(.7,arguments.length?n:1))*this.r,n*this.g,n*this.b)},ht.hsl=function(){return gt(this.r,this.g,this.b)},ht.toString=function(){return"#"+pt(this.r)+pt(this.g)+pt(this.b)};var bt=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _t(n){return"function"==typeof n?n:function(){return n}}function xt(n){return function(t,r,e){return 2===arguments.length&&"function"==typeof r&&(e=r,r=null),wt(t,r,n,e)}}function wt(n,t,r,e){var a={},u=i.dispatch("beforesend","progress","load","error"),c={},f=new XMLHttpRequest,l=null;function s(){var n,t=f.status;if(!t&&function(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}(f)||t>=200&&t<300||304===t){try{n=r.call(a,f)}catch(n){return void u.error.call(a,n)}u.load.call(a,n)}else u.error.call(a,f)}return!this.XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(n)||(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=s:f.onreadystatechange=function(){f.readyState>3&&s()},f.onprogress=function(n){var t=i.event;i.event=n;try{u.progress.call(a,f)}finally{i.event=t}},a.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?c[n]:(null==t?delete c[n]:c[n]=t+"",a)},a.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",a):t},a.responseType=function(n){return arguments.length?(l=n,a):l},a.response=function(n){return r=n,a},["get","post"].forEach(function(n){a[n]=function(){return a.send.apply(a,[n].concat(o(arguments)))}}),a.send=function(r,e,i){if(2===arguments.length&&"function"==typeof e&&(i=e,e=null),f.open(r,n,!0),null==t||"accept"in c||(c.accept=t+",*/*"),f.setRequestHeader)for(var o in c)f.setRequestHeader(o,c[o]);return null!=t&&f.overrideMimeType&&f.overrideMimeType(t),null!=l&&(f.responseType=l),null!=i&&a.on("error",i).on("load",function(n){i(null,n)}),u.beforesend.call(a,f),f.send(null==e?null:e),a},a.abort=function(){return f.abort(),a},i.rebind(a,u,"on"),null==e?a:a.get(function(n){return 1===n.length?function(t,r){n(null==t?r:null)}:n}(e))}bt.forEach(function(n,t){bt.set(n,lt(t))}),i.functor=_t,i.xhr=xt(T),i.dsv=function(n,t){var r=new RegExp('["'+n+"\n]"),e=n.charCodeAt(0);function a(n,r,e){arguments.length<3&&(e=r,r=null);var a=wt(n,t,null==r?i:u(r),e);return a.row=function(n){return arguments.length?a.response(null==(r=n)?i:u(n)):r},a}function i(n){return a.parse(n.responseText)}function u(n){return function(t){return a.parse(t.responseText,n)}}function o(t){return t.map(c).join(n)}function c(n){return r.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return a.parse=function(n,t){var r;return a.parseRows(n,function(n,e){if(r)return r(n,e-1);var a=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,r){return t(a(n),r)}:a})},a.parseRows=function(n,t){var r,a,i={},u={},o=[],c=n.length,f=0,l=0;function s(){if(f>=c)return u;if(a)return a=!1,i;var t=f;if(34===n.charCodeAt(t)){for(var r=t;r++<c;)if(34===n.charCodeAt(r)){if(34!==n.charCodeAt(r+1))break;++r}return f=r+2,13===(o=n.charCodeAt(r+1))?(a=!0,10===n.charCodeAt(r+2)&&++f):10===o&&(a=!0),n.slice(t+1,r).replace(/""/g,'"')}for(;f<c;){var o,l=1;if(10===(o=n.charCodeAt(f++)))a=!0;else if(13===o)a=!0,10===n.charCodeAt(f)&&(++f,++l);else if(o!==e)continue;return n.slice(t,f-l)}return n.slice(t)}for(;(r=s())!==u;){for(var h=[];r!==i&&r!==u;)h.push(r),r=s();t&&null==(h=t(h,l++))||o.push(h)}return o},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var r=new R,e=[];return t.forEach(function(n){for(var t in n)r.has(t)||e.push(r.add(t))}),[e.map(c).join(n)].concat(t.map(function(t){return e.map(function(n){return c(t[n])}).join(n)})).join("\n")},a.formatRows=function(n){return n.map(o).join("\n")},a},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var Mt,kt,At,St,Nt=this[I(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};function Et(n,t,r){var e=arguments.length;e<2&&(t=0),e<3&&(r=Date.now());var a={c:n,t:r+t,n:null};return kt?kt.n=a:Mt=a,kt=a,At||(St=clearTimeout(St),At=1,Nt(Ct)),a}function Ct(){var n=jt(),t=zt()-n;t>24?(isFinite(t)&&(clearTimeout(St),St=setTimeout(Ct,t)),At=0):(At=1,Nt(Ct))}function jt(){for(var n=Date.now(),t=Mt;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function zt(){for(var n,t=Mt,r=1/0;t;)t.c?(t.t<r&&(r=t.t),t=(n=t).n):t=n?n.n=t.n:Mt=t.n;return kt=n,r}function Lt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}i.timer=function(){Et.apply(this,arguments)},i.timer.flush=function(){jt(),zt()},i.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Ot=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(n,t){var r=Math.pow(10,3*w(8-t));return{scale:t>8?function(n){return n/r}:function(n){return n*r},symbol:n}});function Rt(n){var t=n.decimal,r=n.thousands,e=n.grouping,a=n.currency,u=e&&r?function(n,t){for(var a=n.length,i=[],u=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>t&&(o=Math.max(1,t-c)),i.push(n.substring(a-=o,a+o)),!((c+=o+1)>t));)o=e[u=(u+1)%e.length];return i.reverse().join(r)}:T;return function(n){var r=Tt.exec(n),e=r[1]||" ",o=r[2]||">",c=r[3]||"-",f=r[4]||"",l=r[5],s=+r[6],h=r[7],p=r[8],v=r[9],g=1,d="",y="",m=!1,b=!0;switch(p&&(p=+p.substring(1)),(l||"0"===e&&"="===o)&&(l=e="0",o="="),v){case"n":h=!0,v="g";break;case"%":g=100,y="%",v="f";break;case"p":g=100,y="%",v="r";break;case"b":case"o":case"x":case"X":"#"===f&&(d="0"+v.toLowerCase());case"c":b=!1;case"d":m=!0,p=0;break;case"s":g=-1,v="r"}"$"===f&&(d=a[0],y=a[1]),"r"!=v||p||(v="g"),null!=p&&("g"==v?p=Math.max(1,Math.min(21,p)):"e"!=v&&"f"!=v||(p=Math.max(0,Math.min(20,p)))),v=qt.get(v)||It;var _=l&&h;return function(n){var r=y;if(m&&n%1)return"";var a=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===c?"":c;if(g<0){var f=i.formatPrefix(n,p);n=f.scale(n),r=f.symbol+y}else n*=g;var x,w,M=(n=v(n,p)).lastIndexOf(".");if(M<0){var k=b?n.lastIndexOf("e"):-1;k<0?(x=n,w=""):(x=n.substring(0,k),w=n.substring(k))}else x=n.substring(0,M),w=t+n.substring(M+1);!l&&h&&(x=u(x,1/0));var A=d.length+x.length+w.length+(_?0:a.length),S=A<s?new Array(A=s-A+1).join(e):"";return _&&(x=u(S+x,S.length?s-w.length:1/0)),a+=d,n=x+w,("<"===o?a+n+S:">"===o?S+a+n:"^"===o?S.substring(0,A>>=1)+a+n+S.substring(A):a+(_?n:S+n))+r}}}i.formatPrefix=function(n,t){var r=0;return(n=+n)&&(n<0&&(n*=-1),t&&(n=i.round(n,Lt(n,t))),r=1+Math.floor(1e-12+Math.log(n)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Ot[8+r/3]};var Tt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,qt=i.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=i.round(n,Lt(n,t))).toFixed(Math.max(0,Math.min(20,Lt(n*(1+1e-15),t))))}});function It(n){return n+""}var Dt=i.time={},Pt=Date;function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ut.setUTCDate.apply(this._,arguments)},setDay:function(){Ut.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ut.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ut.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ut.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ut.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ut.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ut.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ut.setTime.apply(this._,arguments)}};var Ut=Date.prototype;function Bt(n,t,r){function e(t){var r=n(t),e=i(r,1);return t-r<e-t?r:e}function a(r){return t(r=n(new Pt(r-1)),1),r}function i(n,r){return t(n=new Pt(+n),r),n}function u(n,e,i){var u=a(n),o=[];if(i>1)for(;u<e;)r(u)%i||o.push(new Date(+u)),t(u,1);else for(;u<e;)o.push(new Date(+u)),t(u,1);return o}n.floor=n,n.round=e,n.ceil=a,n.offset=i,n.range=u;var o=n.utc=Wt(n);return o.floor=o,o.round=Wt(e),o.ceil=Wt(a),o.offset=Wt(i),o.range=function(n,t,r){try{Pt=Ft;var e=new Ft;return e._=n,u(e,t,r)}finally{Pt=Date}},n}function Wt(n){return function(t,r){try{Pt=Ft;var e=new Ft;return e._=t,n(e,r)._}finally{Pt=Date}}}function Yt(n){var t=n.dateTime,r=n.date,e=n.time,a=n.periods,u=n.days,o=n.shortDays,c=n.months,f=n.shortMonths;function l(n){var t=n.length;function r(r){for(var e,a,i,u=[],o=-1,c=0;++o<t;)37===n.charCodeAt(o)&&(u.push(n.slice(c,o)),null!=(a=$t[e=n.charAt(++o)])&&(e=n.charAt(++o)),(i=x[e])&&(e=i(r,null==a?"e"===e?" ":"0":a)),u.push(e),c=o+1);return u.push(n.slice(c,o)),u.join("")}return r.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(s(r,n,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var e=null!=r.Z&&Pt!==Ft,a=new(e?Ft:Pt);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),e?a._:a},r.toString=function(){return n},r}function s(n,t,r,e){for(var a,i,u,o=0,c=t.length,f=r.length;o<c;){if(e>=f)return-1;if(37===(a=t.charCodeAt(o++))){if(u=t.charAt(o++),!(i=w[u in $t?t.charAt(o++):u])||(e=i(n,r,e))<0)return-1}else if(a!=r.charCodeAt(e++))return-1}return e}l.utc=function(n){var t=l(n);function r(n){try{var r=new(Pt=Ft);return r._=n,t(r)}finally{Pt=Date}}return r.parse=function(n){try{Pt=Ft;var r=t.parse(n);return r&&r._}finally{Pt=Date}},r.toString=t.toString,r},l.multi=l.utc.multi=hr;var h=i.map(),p=Gt(u),v=Xt(u),g=Gt(o),d=Xt(o),y=Gt(c),m=Xt(c),b=Gt(f),_=Xt(f);a.forEach(function(n,t){h.set(n.toLowerCase(),t)});var x={a:function(n){return o[n.getDay()]},A:function(n){return u[n.getDay()]},b:function(n){return f[n.getMonth()]},B:function(n){return c[n.getMonth()]},c:l(t),d:function(n,t){return Vt(n.getDate(),t,2)},e:function(n,t){return Vt(n.getDate(),t,2)},H:function(n,t){return Vt(n.getHours(),t,2)},I:function(n,t){return Vt(n.getHours()%12||12,t,2)},j:function(n,t){return Vt(1+Dt.dayOfYear(n),t,3)},L:function(n,t){return Vt(n.getMilliseconds(),t,3)},m:function(n,t){return Vt(n.getMonth()+1,t,2)},M:function(n,t){return Vt(n.getMinutes(),t,2)},p:function(n){return a[+(n.getHours()>=12)]},S:function(n,t){return Vt(n.getSeconds(),t,2)},U:function(n,t){return Vt(Dt.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Vt(Dt.mondayOfYear(n),t,2)},x:l(r),X:l(e),y:function(n,t){return Vt(n.getFullYear()%100,t,2)},Y:function(n,t){return Vt(n.getFullYear()%1e4,t,4)},Z:lr,"%":function(){return"%"}},w={a:function(n,t,r){g.lastIndex=0;var e=g.exec(t.slice(r));return e?(n.w=d.get(e[0].toLowerCase()),r+e[0].length):-1},A:function(n,t,r){p.lastIndex=0;var e=p.exec(t.slice(r));return e?(n.w=v.get(e[0].toLowerCase()),r+e[0].length):-1},b:function(n,t,r){b.lastIndex=0;var e=b.exec(t.slice(r));return e?(n.m=_.get(e[0].toLowerCase()),r+e[0].length):-1},B:function(n,t,r){y.lastIndex=0;var e=y.exec(t.slice(r));return e?(n.m=m.get(e[0].toLowerCase()),r+e[0].length):-1},c:function(n,t,r){return s(n,x.c.toString(),t,r)},d:ar,e:ar,H:ur,I:ur,j:ir,L:fr,m:er,M:or,p:function(n,t,r){var e=h.get(t.slice(r,r+=2).toLowerCase());return null==e?-1:(n.p=e,r)},S:cr,U:Jt,w:Kt,W:Qt,x:function(n,t,r){return s(n,x.x.toString(),t,r)},X:function(n,t,r){return s(n,x.X.toString(),t,r)},y:tr,Y:nr,Z:rr,"%":sr};return l}Dt.year=Bt(function(n){return(n=Dt.day(n)).setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),Dt.years=Dt.year.range,Dt.years.utc=Dt.year.utc.range,Dt.day=Bt(function(n){var t=new Pt(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),Dt.days=Dt.day.range,Dt.days.utc=Dt.day.utc.range,Dt.dayOfYear=function(n){var t=Dt.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var r=Dt[n]=Bt(function(n){return(n=Dt.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var r=Dt.year(n).getDay();return Math.floor((Dt.dayOfYear(n)+(r+t)%7)/7)-(r!==t)});Dt[n+"s"]=r.range,Dt[n+"s"].utc=r.utc.range,Dt[n+"OfYear"]=function(n){var r=Dt.year(n).getDay();return Math.floor((Dt.dayOfYear(n)+(r+t)%7)/7)}}),Dt.week=Dt.sunday,Dt.weeks=Dt.sunday.range,Dt.weeks.utc=Dt.sunday.utc.range,Dt.weekOfYear=Dt.sundayOfYear;var $t={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,Zt=/^%/;function Vt(n,t,r){var e=n<0?"-":"",a=(e?-n:n)+"",i=a.length;return e+(i<r?new Array(r-i+1).join(t)+a:a)}function Gt(n){return new RegExp("^(?:"+n.map(i.requote).join("|")+")","i")}function Xt(n){for(var t=new k,r=-1,e=n.length;++r<e;)t.set(n[r].toLowerCase(),r);return t}function Kt(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+1));return e?(n.w=+e[0],r+e[0].length):-1}function Jt(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r));return e?(n.U=+e[0],r+e[0].length):-1}function Qt(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r));return e?(n.W=+e[0],r+e[0].length):-1}function nr(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+4));return e?(n.y=+e[0],r+e[0].length):-1}function tr(n,t,r){Ht.lastIndex=0;var e,a=Ht.exec(t.slice(r,r+2));return a?(n.y=(e=+a[0])+(e>68?1900:2e3),r+a[0].length):-1}function rr(n,t,r){return/^[+-]\d{4}$/.test(t=t.slice(r,r+5))?(n.Z=-t,r+5):-1}function er(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+2));return e?(n.m=e[0]-1,r+e[0].length):-1}function ar(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+2));return e?(n.d=+e[0],r+e[0].length):-1}function ir(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+3));return e?(n.j=+e[0],r+e[0].length):-1}function ur(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+2));return e?(n.H=+e[0],r+e[0].length):-1}function or(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+2));return e?(n.M=+e[0],r+e[0].length):-1}function cr(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+2));return e?(n.S=+e[0],r+e[0].length):-1}function fr(n,t,r){Ht.lastIndex=0;var e=Ht.exec(t.slice(r,r+3));return e?(n.L=+e[0],r+e[0].length):-1}function lr(n){var t=n.getTimezoneOffset(),r=t>0?"-":"+",e=w(t)/60|0,a=w(t)%60;return r+Vt(e,"0",2)+Vt(a,"0",2)}function sr(n,t,r){Zt.lastIndex=0;var e=Zt.exec(t.slice(r,r+1));return e?r+e[0].length:-1}function hr(n){for(var t=n.length,r=-1;++r<t;)n[r][0]=this(n[r][0]);return function(t){for(var r=0,e=n[r];!e[1](t);)e=n[++r];return e[0](t)}}i.locale=function(n){return{numberFormat:Rt(n),timeFormat:Yt(n)}};var pr=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vr(){}i.format=pr.numberFormat,i.geo={},vr.prototype={s:0,t:0,add:function(n){dr(n,this.t,gr),dr(gr.s,this.s,this),this.s?this.t+=gr.t:this.s=gr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gr=new vr;function dr(n,t,r){var e=r.s=n+t,a=e-n,i=e-a;r.t=n-i+(t-a)}function yr(n,t){n&&br.hasOwnProperty(n.type)&&br[n.type](n,t)}i.geo.stream=function(n,t){n&&mr.hasOwnProperty(n.type)?mr[n.type](n,t):yr(n,t)};var mr={Feature:function(n,t){yr(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,a=r.length;++e<a;)yr(r[e].geometry,t)}},br={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,a=r.length;++e<a;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){_r(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,a=r.length;++e<a;)_r(r[e],t,0)},Polygon:function(n,t){xr(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,a=r.length;++e<a;)xr(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,a=r.length;++e<a;)yr(r[e],t)}};function _r(n,t,r){var e,a=-1,i=n.length-r;for(t.lineStart();++a<i;)e=n[a],t.point(e[0],e[1],e[2]);t.lineEnd()}function xr(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)_r(n[r],t,1);t.polygonEnd()}i.geo.area=function(n){return wr=0,i.geo.stream(n,Tr),wr};var wr,Mr,kr,Ar,Sr,Nr,Er,Cr,jr,zr,Lr,Or,Rr=new vr,Tr={sphere:function(){wr+=4*Cn},point:P,lineStart:P,lineEnd:P,polygonStart:function(){Rr.reset(),Tr.lineStart=qr},polygonEnd:function(){var n=2*Rr;wr+=n<0?4*Cn+n:n,Tr.lineStart=Tr.lineEnd=Tr.point=P}};function qr(){var n,t,r,e,a;function i(n,t){t=t*On/2+Cn/4;var i=(n*=On)-r,u=i>=0?1:-1,o=u*i,c=Math.cos(t),f=Math.sin(t),l=a*f,s=e*c+l*Math.cos(o),h=l*u*Math.sin(o);Rr.add(Math.atan2(h,s)),r=n,e=c,a=f}Tr.point=function(u,o){Tr.point=i,r=(n=u)*On,e=Math.cos(o=(t=o)*On/2+Cn/4),a=Math.sin(o)},Tr.lineEnd=function(){i(n,t)}}function Ir(n){var t=n[0],r=n[1],e=Math.cos(r);return[e*Math.cos(t),e*Math.sin(t),Math.sin(r)]}function Dr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Pr(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Fr(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ur(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Br(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Wr(n){return[Math.atan2(n[1],n[0]),Dn(n[2])]}function Yr(n,t){return w(n[0]-t[0])<Nn&&w(n[1]-t[1])<Nn}i.geo.bounds=function(){var n,t,r,e,a,u,o,c,f,l,s,h={point:p,lineStart:g,lineEnd:d,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=b,f=0,Tr.polygonStart()},polygonEnd:function(){Tr.polygonEnd(),h.point=p,h.lineStart=g,h.lineEnd=d,Rr<0?(n=-(r=180),t=-(e=90)):f>Nn?e=90:f<-Nn&&(t=-90),s[0]=n,s[1]=r}};function p(a,i){l.push(s=[n=a,r=a]),i<t&&(t=i),i>e&&(e=i)}function v(i,u){var o=Ir([i*On,u*On]);if(c){var f=Pr(c,o),l=Pr([f[1],-f[0],0],f);Br(l),l=Wr(l);var s=i-a,h=s>0?1:-1,v=l[0]*Rn*h,g=w(s)>180;if(g^(h*a<v&&v<h*i))(d=l[1]*Rn)>e&&(e=d);else if(g^(h*a<(v=(v+360)%360-180)&&v<h*i)){var d;(d=-l[1]*Rn)<t&&(t=d)}else u<t&&(t=u),u>e&&(e=u);g?i<a?_(n,i)>_(n,r)&&(r=i):_(i,r)>_(n,r)&&(n=i):r>=n?(i<n&&(n=i),i>r&&(r=i)):i>a?_(n,i)>_(n,r)&&(r=i):_(i,r)>_(n,r)&&(n=i)}else p(i,u);c=o,a=i}function g(){h.point=v}function d(){s[0]=n,s[1]=r,h.point=p,c=null}function y(n,t){if(c){var r=n-a;f+=w(r)>180?r+(r>0?360:-360):r}else u=n,o=t;Tr.point(n,t),v(n,t)}function m(){Tr.lineStart()}function b(){y(u,o),Tr.lineEnd(),w(f)>Nn&&(n=-(r=180)),s[0]=n,s[1]=r,c=null}function _(n,t){return(t-=n)<0?t+360:t}function x(n,t){return n[0]-t[0]}function M(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}return function(a){if(e=r=-(n=t=1/0),l=[],i.geo.stream(a,h),f=l.length){l.sort(x);for(var u=1,o=[g=l[0]];u<f;++u)M((p=l[u])[0],g)||M(p[1],g)?(_(g[0],p[1])>_(g[0],g[1])&&(g[1]=p[1]),_(p[0],g[1])>_(g[0],g[1])&&(g[0]=p[0])):o.push(g=p);for(var c,f,p,v=-1/0,g=(u=0,o[f=o.length-1]);u<=f;g=p,++u)p=o[u],(c=_(g[1],p[0]))>v&&(v=c,n=p[0],r=g[1])}return l=s=null,n===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[n,t],[r,e]]}}(),i.geo.centroid=function(n){Mr=kr=Ar=Sr=Nr=Er=Cr=jr=zr=Lr=Or=0,i.geo.stream(n,$r);var t=zr,r=Lr,e=Or,a=t*t+r*r+e*e;return a<En&&(t=Er,r=Cr,e=jr,kr<Nn&&(t=Ar,r=Sr,e=Nr),(a=t*t+r*r+e*e)<En)?[NaN,NaN]:[Math.atan2(r,t)*Rn,Dn(e/Math.sqrt(a))*Rn]};var $r={sphere:P,point:Hr,lineStart:Vr,lineEnd:Gr,polygonStart:function(){$r.lineStart=Xr},polygonEnd:function(){$r.lineStart=Vr}};function Hr(n,t){n*=On;var r=Math.cos(t*=On);Zr(r*Math.cos(n),r*Math.sin(n),Math.sin(t))}function Zr(n,t,r){Ar+=(n-Ar)/++Mr,Sr+=(t-Sr)/Mr,Nr+=(r-Nr)/Mr}function Vr(){var n,t,r;function e(e,a){e*=On;var i=Math.cos(a*=On),u=i*Math.cos(e),o=i*Math.sin(e),c=Math.sin(a),f=Math.atan2(Math.sqrt((f=t*c-r*o)*f+(f=r*u-n*c)*f+(f=n*o-t*u)*f),n*u+t*o+r*c);kr+=f,Er+=f*(n+(n=u)),Cr+=f*(t+(t=o)),jr+=f*(r+(r=c)),Zr(n,t,r)}$r.point=function(a,i){a*=On;var u=Math.cos(i*=On);n=u*Math.cos(a),t=u*Math.sin(a),r=Math.sin(i),$r.point=e,Zr(n,t,r)}}function Gr(){$r.point=Hr}function Xr(){var n,t,r,e,a;function i(n,t){n*=On;var i=Math.cos(t*=On),u=i*Math.cos(n),o=i*Math.sin(n),c=Math.sin(t),f=e*c-a*o,l=a*u-r*c,s=r*o-e*u,h=Math.sqrt(f*f+l*l+s*s),p=r*u+e*o+a*c,v=h&&-In(p)/h,g=Math.atan2(h,p);zr+=v*f,Lr+=v*l,Or+=v*s,kr+=g,Er+=g*(r+(r=u)),Cr+=g*(e+(e=o)),jr+=g*(a+(a=c)),Zr(r,e,a)}$r.point=function(u,o){n=u,t=o,$r.point=i,u*=On;var c=Math.cos(o*=On);r=c*Math.cos(u),e=c*Math.sin(u),a=Math.sin(o),Zr(r,e,a)},$r.lineEnd=function(){i(n,t),$r.lineEnd=Gr,$r.point=Hr}}function Kr(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}function Jr(){return!0}function Qr(n,t,r,e,a){var i=[],u=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r=n[0],e=n[t];if(Yr(r,e)){a.lineStart();for(var o=0;o<t;++o)a.point((r=n[o])[0],r[1]);a.lineEnd()}else{var c=new te(r,n,null,!0),f=new te(r,null,c,!1);c.o=f,i.push(c),u.push(f),c=new te(e,n,null,!1),f=new te(e,null,c,!0),c.o=f,i.push(c),u.push(f)}}}),u.sort(t),ne(i),ne(u),i.length){for(var o=0,c=r,f=u.length;o<f;++o)u[o].e=c=!c;for(var l,s,h=i[0];;){for(var p=h,v=!0;p.v;)if((p=p.n)===h)return;l=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if(v)for(o=0,f=l.length;o<f;++o)a.point((s=l[o])[0],s[1]);else e(p.x,p.n.x,1,a);p=p.n}else{if(v)for(o=(l=p.p.z).length-1;o>=0;--o)a.point((s=l[o])[0],s[1]);else e(p.x,p.p.x,-1,a);p=p.p}l=(p=p.o).z,v=!v}while(!p.v);a.lineEnd()}}}function ne(n){if(t=n.length){for(var t,r,e=0,a=n[0];++e<t;)a.n=r=n[e],r.p=a,a=r;a.n=r=n[0],r.p=a}}function te(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function re(n,t,r,e){return function(a,u){var o,c=t(u),f=a.invert(e[0],e[1]),l={point:s,lineStart:p,lineEnd:v,polygonStart:function(){l.point=_,l.lineStart=x,l.lineEnd=w,o=[],g=[]},polygonEnd:function(){l.point=s,l.lineStart=p,l.lineEnd=v,o=i.merge(o);var n=function(n,t){var r=n[0],e=n[1],a=[Math.sin(r),-Math.cos(r),0],i=0,u=0;Rr.reset();for(var o=0,c=t.length;o<c;++o){var f=t[o],l=f.length;if(l)for(var s=f[0],h=s[0],p=s[1]/2+Cn/4,v=Math.sin(p),g=Math.cos(p),d=1;;){d===l&&(d=0);var y=(n=f[d])[0],m=n[1]/2+Cn/4,b=Math.sin(m),_=Math.cos(m),x=y-h,w=x>=0?1:-1,M=w*x,k=M>Cn,A=v*b;if(Rr.add(Math.atan2(A*w*Math.sin(M),g*_+A*Math.cos(M))),i+=k?x+w*jn:x,k^h>=r^y>=r){var S=Pr(Ir(s),Ir(n));Br(S);var N=Pr(a,S);Br(N);var E=(k^x>=0?-1:1)*Dn(N[2]);(e>E||e===E&&(S[0]||S[1]))&&(u+=k^x>=0?1:-1)}if(!d++)break;h=y,v=b,g=_,s=n}}return(i<-Nn||i<Nn&&Rr<0)^1&u}(f,g);o.length?(b||(u.polygonStart(),b=!0),Qr(o,ie,n,r,u)):n&&(b||(u.polygonStart(),b=!0),u.lineStart(),r(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),o=g=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function s(t,r){var e=a(t,r);n(t=e[0],r=e[1])&&u.point(t,r)}function h(n,t){var r=a(n,t);c.point(r[0],r[1])}function p(){l.point=h,c.lineStart()}function v(){l.point=s,c.lineEnd()}var g,d,y=ae(),m=t(y),b=!1;function _(n,t){d.push([n,t]);var r=a(n,t);m.point(r[0],r[1])}function x(){m.lineStart(),d=[]}function w(){_(d[0][0],d[0][1]),m.lineEnd();var n,t=m.clean(),r=y.buffer(),e=r.length;if(d.pop(),g.push(d),d=null,e)if(1&t){var a,i=-1;if((e=(n=r[0]).length-1)>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++i<e;)u.point((a=n[i])[0],a[1]);u.lineEnd()}}else e>1&&2&t&&r.push(r.pop().concat(r.shift())),o.push(r.filter(ee))}return l}}function ee(n){return n.length>1}function ae(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,r){n.push([t,r])},lineEnd:P,buffer:function(){var r=t;return t=[],n=null,r},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ie(n,t){return((n=n.x)[0]<0?n[1]-Ln-Nn:Ln-n[1])-((t=t.x)[0]<0?t[1]-Ln-Nn:Ln-t[1])}var ue=re(Jr,function(n){var t,r=NaN,e=NaN,a=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,u){var o=i>0?Cn:-Cn,c=w(i-r);w(c-Cn)<Nn?(n.point(r,e=(e+u)/2>0?Ln:-Ln),n.point(a,e),n.lineEnd(),n.lineStart(),n.point(o,e),n.point(i,e),t=0):a!==o&&c>=Cn&&(w(r-a)<Nn&&(r-=a*Nn),w(i-o)<Nn&&(i-=o*Nn),e=function(n,t,r,e){var a,i,u=Math.sin(n-r);return w(u)>Nn?Math.atan((Math.sin(t)*(i=Math.cos(e))*Math.sin(r)-Math.sin(e)*(a=Math.cos(t))*Math.sin(n))/(a*i*u)):(t+e)/2}(r,e,i,u),n.point(a,e),n.lineEnd(),n.lineStart(),n.point(o,e),t=0),n.point(r=i,e=u),a=o},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}},function(n,t,r,e){var a;if(null==n)a=r*Ln,e.point(-Cn,a),e.point(0,a),e.point(Cn,a),e.point(Cn,0),e.point(Cn,-a),e.point(0,-a),e.point(-Cn,-a),e.point(-Cn,0),e.point(-Cn,a);else if(w(n[0]-t[0])>Nn){var i=n[0]<t[0]?Cn:-Cn;a=r*i/2,e.point(-i,a),e.point(0,a),e.point(i,a)}else e.point(t[0],t[1])},[-Cn,-Cn/2]);function oe(n,t,r,e){return function(a){var i,u=a.a,o=a.b,c=u.x,f=u.y,l=0,s=1,h=o.x-c,p=o.y-f;if(i=n-c,h||!(i>0)){if(i/=h,h<0){if(i<l)return;i<s&&(s=i)}else if(h>0){if(i>s)return;i>l&&(l=i)}if(i=r-c,h||!(i<0)){if(i/=h,h<0){if(i>s)return;i>l&&(l=i)}else if(h>0){if(i<l)return;i<s&&(s=i)}if(i=t-f,p||!(i>0)){if(i/=p,p<0){if(i<l)return;i<s&&(s=i)}else if(p>0){if(i>s)return;i>l&&(l=i)}if(i=e-f,p||!(i<0)){if(i/=p,p<0){if(i>s)return;i>l&&(l=i)}else if(p>0){if(i<l)return;i<s&&(s=i)}return l>0&&(a.a={x:c+l*h,y:f+l*p}),s<1&&(a.b={x:c+s*h,y:f+s*p}),a}}}}}}var ce=1e9;function fe(n,t,r,e){return function(c){var f,l,s,h,p,v,g,d,y,m,b,_=c,x=ae(),w=oe(n,t,r,e),M={point:S,lineStart:function(){M.point=N,l&&l.push(s=[]);m=!0,y=!1,g=d=NaN},lineEnd:function(){f&&(N(h,p),v&&y&&x.rejoin(),f.push(x.buffer()));M.point=S,y&&c.lineEnd()},polygonStart:function(){c=x,f=[],l=[],b=!0},polygonEnd:function(){c=_,f=i.merge(f);var t=function(n){for(var t=0,r=l.length,e=n[1],a=0;a<r;++a)for(var i,u=1,o=l[a],c=o.length,f=o[0];u<c;++u)i=o[u],f[1]<=e?i[1]>e&&qn(f,i,n)>0&&++t:i[1]<=e&&qn(f,i,n)<0&&--t,f=i;return 0!==t}([n,e]),r=b&&t,a=f.length;(r||a)&&(c.polygonStart(),r&&(c.lineStart(),k(null,null,1,c),c.lineEnd()),a&&Qr(f,u,t,k,c),c.polygonEnd()),f=l=s=null}};function k(i,u,c,f){var l=0,s=0;if(null==i||(l=a(i,c))!==(s=a(u,c))||o(i,u)<0^c>0)do{f.point(0===l||3===l?n:r,l>1?e:t)}while((l=(l+c+4)%4)!==s);else f.point(u[0],u[1])}function A(a,i){return n<=a&&a<=r&&t<=i&&i<=e}function S(n,t){A(n,t)&&c.point(n,t)}function N(n,t){var r=A(n=Math.max(-ce,Math.min(ce,n)),t=Math.max(-ce,Math.min(ce,t)));if(l&&s.push([n,t]),m)h=n,p=t,v=r,m=!1,r&&(c.lineStart(),c.point(n,t));else if(r&&y)c.point(n,t);else{var e={a:{x:g,y:d},b:{x:n,y:t}};w(e)?(y||(c.lineStart(),c.point(e.a.x,e.a.y)),c.point(e.b.x,e.b.y),r||c.lineEnd(),b=!1):r&&(c.lineStart(),c.point(n,t),b=!1)}g=n,d=t,y=r}return M};function a(e,a){return w(e[0]-n)<Nn?a>0?0:3:w(e[0]-r)<Nn?a>0?2:1:w(e[1]-t)<Nn?a>0?1:0:a>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var r=a(n,1),e=a(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}}function le(n){var t=0,r=Cn/3,e=Re(n),a=e(t,r);return a.parallels=function(n){return arguments.length?e(t=n[0]*Cn/180,r=n[1]*Cn/180):[t/Cn*180,r/Cn*180]},a}function se(n,t){var r=Math.sin(n),e=(r+Math.sin(t))/2,a=1+r*(2*e-r),i=Math.sqrt(a)/e;function u(n,t){var r=Math.sqrt(a-2*e*Math.sin(t))/e;return[r*Math.sin(n*=e),i-r*Math.cos(n)]}return u.invert=function(n,t){var r=i-t;return[Math.atan2(n,r)/e,Dn((a-(n*n+r*r)*e*e)/(2*e))]},u}i.geo.clipExtent=function(){var n,t,r,e,a,i,u={stream:function(n){return a&&(a.valid=!1),(a=i(n)).valid=!0,a},extent:function(o){return arguments.length?(i=fe(n=+o[0][0],t=+o[0][1],r=+o[1][0],e=+o[1][1]),a&&(a.valid=!1,a=null),u):[[n,t],[r,e]]}};return u.extent([[0,0],[960,500]])},(i.geo.conicEqualArea=function(){return le(se)}).raw=se,i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},i.geo.albersUsa=function(){var n,t,r,e,a=i.geo.albers(),u=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=i.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,r){n=[t,r]}};function f(a){var i=a[0],u=a[1];return n=null,t(i,u),n||(r(i,u),n)||e(i,u),n}return f.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.12&&i<.234&&e>=-.425&&e<-.214?u:i>=.166&&i<.234&&e>=-.214&&e<-.115?o:a).invert(n)},f.stream=function(n){var t=a.stream(n),r=u.stream(n),e=o.stream(n);return{point:function(n,a){t.point(n,a),r.point(n,a),e.point(n,a)},sphere:function(){t.sphere(),r.sphere(),e.sphere()},lineStart:function(){t.lineStart(),r.lineStart(),e.lineStart()},lineEnd:function(){t.lineEnd(),r.lineEnd(),e.lineEnd()},polygonStart:function(){t.polygonStart(),r.polygonStart(),e.polygonStart()},polygonEnd:function(){t.polygonEnd(),r.polygonEnd(),e.polygonEnd()}}},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),o.precision(n),f):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),o.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var i=a.scale(),l=+n[0],s=+n[1];return t=a.translate(n).clipExtent([[l-.455*i,s-.238*i],[l+.455*i,s+.238*i]]).stream(c).point,r=u.translate([l-.307*i,s+.201*i]).clipExtent([[l-.425*i+Nn,s+.12*i+Nn],[l-.214*i-Nn,s+.234*i-Nn]]).stream(c).point,e=o.translate([l-.205*i,s+.212*i]).clipExtent([[l-.214*i+Nn,s+.166*i+Nn],[l-.115*i-Nn,s+.234*i-Nn]]).stream(c).point,f},f.scale(1070)};var he,pe,ve,ge,de,ye,me={point:P,lineStart:P,lineEnd:P,polygonStart:function(){pe=0,me.lineStart=be},polygonEnd:function(){me.lineStart=me.lineEnd=me.point=P,he+=w(pe/2)}};function be(){var n,t,r,e;function a(n,t){pe+=e*n-r*t,r=n,e=t}me.point=function(i,u){me.point=a,n=r=i,t=e=u},me.lineEnd=function(){a(n,t)}}var _e={point:function(n,t){n<ve&&(ve=n);n>de&&(de=n);t<ge&&(ge=t);t>ye&&(ye=t)},lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P};function xe(){var n=we(4.5),t=[],r={point:e,lineStart:function(){r.point=a},lineEnd:u,polygonStart:function(){r.lineEnd=o},polygonEnd:function(){r.lineEnd=u,r.point=e},pointRadius:function(t){return n=we(t),r},result:function(){if(t.length){var n=t.join("");return t=[],n}}};function e(r,e){t.push("M",r,",",e,n)}function a(n,e){t.push("M",n,",",e),r.point=i}function i(n,r){t.push("L",n,",",r)}function u(){r.point=e}function o(){t.push("Z")}return r}function we(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var Me,ke={point:Ae,lineStart:Se,lineEnd:Ne,polygonStart:function(){ke.lineStart=Ee},polygonEnd:function(){ke.point=Ae,ke.lineStart=Se,ke.lineEnd=Ne}};function Ae(n,t){Ar+=n,Sr+=t,++Nr}function Se(){var n,t;function r(r,e){var a=r-n,i=e-t,u=Math.sqrt(a*a+i*i);Er+=u*(n+r)/2,Cr+=u*(t+e)/2,jr+=u,Ae(n=r,t=e)}ke.point=function(e,a){ke.point=r,Ae(n=e,t=a)}}function Ne(){ke.point=Ae}function Ee(){var n,t,r,e;function a(n,t){var a=n-r,i=t-e,u=Math.sqrt(a*a+i*i);Er+=u*(r+n)/2,Cr+=u*(e+t)/2,jr+=u,zr+=(u=e*n-r*t)*(r+n),Lr+=u*(e+t),Or+=3*u,Ae(r=n,e=t)}ke.point=function(i,u){ke.point=a,Ae(n=r=i,t=e=u)},ke.lineEnd=function(){a(n,t)}}function Ce(n){var t=4.5,r={point:e,lineStart:function(){r.point=a},lineEnd:u,polygonStart:function(){r.lineEnd=o},polygonEnd:function(){r.lineEnd=u,r.point=e},pointRadius:function(n){return t=n,r},result:P};function e(r,e){n.moveTo(r+t,e),n.arc(r,e,t,0,jn)}function a(t,e){n.moveTo(t,e),r.point=i}function i(t,r){n.lineTo(t,r)}function u(){r.point=e}function o(){n.closePath()}return r}function je(n){var t=.5,r=Math.cos(30*On),e=16;function a(t){return(e?function(t){var r,a,u,o,c,f,l,s,h,p,v,g,d={point:y,lineStart:m,lineEnd:_,polygonStart:function(){t.polygonStart(),d.lineStart=x},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function y(r,e){r=n(r,e),t.point(r[0],r[1])}function m(){s=NaN,d.point=b,t.lineStart()}function b(r,a){var u=Ir([r,a]),o=n(r,a);i(s,h,l,p,v,g,s=o[0],h=o[1],l=r,p=u[0],v=u[1],g=u[2],e,t),t.point(s,h)}function _(){d.point=y,t.lineEnd()}function x(){m(),d.point=w,d.lineEnd=M}function w(n,t){b(r=n,t),a=s,u=h,o=p,c=v,f=g,d.point=b}function M(){i(s,h,l,p,v,g,a,u,r,o,c,f,e,t),d.lineEnd=_,_()}return d}:function(t){return Le(t,function(r,e){r=n(r,e),t.point(r[0],r[1])})})(t)}function i(e,a,u,o,c,f,l,s,h,p,v,g,d,y){var m=l-e,b=s-a,_=m*m+b*b;if(_>4*t&&d--){var x=o+p,M=c+v,k=f+g,A=Math.sqrt(x*x+M*M+k*k),S=Math.asin(k/=A),N=w(w(k)-1)<Nn||w(u-h)<Nn?(u+h)/2:Math.atan2(M,x),E=n(N,S),C=E[0],j=E[1],z=C-e,L=j-a,O=b*z-m*L;(O*O/_>t||w((m*z+b*L)/_-.5)>.3||o*p+c*v+f*g<r)&&(i(e,a,u,o,c,f,C,j,N,x/=A,M/=A,k,d,y),y.point(C,j),i(C,j,N,x,M,k,l,s,h,p,v,g,d,y))}}return a.precision=function(n){return arguments.length?(e=(t=n*n)>0&&16,a):Math.sqrt(t)},a}function ze(n){this.stream=n}function Le(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function Oe(n){return Re(function(){return n})()}function Re(n){var t,r,e,a,u,o,c=je(function(n,r){return[(n=t(n,r))[0]*f+a,u-n[1]*f]}),f=150,l=480,s=250,h=0,p=0,v=0,g=0,d=0,y=ue,m=T,b=null,_=null;function x(n){return[(n=e(n[0]*On,n[1]*On))[0]*f+a,u-n[1]*f]}function M(n){return(n=e.invert((n[0]-a)/f,(u-n[1])/f))&&[n[0]*Rn,n[1]*Rn]}function k(){e=Kr(r=De(v,g,d),t);var n=t(h,p);return a=l-n[0]*f,u=s+n[1]*f,A()}function A(){return o&&(o.valid=!1,o=null),x}return x.stream=function(n){return o&&(o.valid=!1),(o=Te(y(r,c(m(n))))).valid=!0,o},x.clipAngle=function(n){return arguments.length?(y=null==n?(b=n,ue):function(n){var t=Math.cos(n),r=t>0,e=w(t)>Nn;return re(a,function(n){var t,o,c,f,l;return{lineStart:function(){f=c=!1,l=1},point:function(s,h){var p,v=[s,h],g=a(s,h),d=r?g?0:u(s,h):g?u(s+(s<0?Cn:-Cn),h):0;if(!t&&(f=c=g)&&n.lineStart(),g!==c&&(p=i(t,v),(Yr(t,p)||Yr(v,p))&&(v[0]+=Nn,v[1]+=Nn,g=a(v[0],v[1]))),g!==c)l=0,g?(n.lineStart(),p=i(v,t),n.point(p[0],p[1])):(p=i(t,v),n.point(p[0],p[1]),n.lineEnd()),t=p;else if(e&&t&&r^g){var y;d&o||!(y=i(v,t,!0))||(l=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!g||t&&Yr(t,v)||n.point(v[0],v[1]),t=v,c=g,o=d},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return l|(f&&c)<<1}}},Be(n,6*On),r?[0,-n]:[-Cn,n-Cn]);function a(n,r){return Math.cos(n)*Math.cos(r)>t}function i(n,r,e){var a=[1,0,0],i=Pr(Ir(n),Ir(r)),u=Dr(i,i),o=i[0],c=u-o*o;if(!c)return!e&&n;var f=t*u/c,l=-t*o/c,s=Pr(a,i),h=Ur(a,f);Fr(h,Ur(i,l));var p=s,v=Dr(h,p),g=Dr(p,p),d=v*v-g*(Dr(h,h)-1);if(!(d<0)){var y=Math.sqrt(d),m=Ur(p,(-v-y)/g);if(Fr(m,h),m=Wr(m),!e)return m;var b,_=n[0],x=r[0],M=n[1],k=r[1];x<_&&(b=_,_=x,x=b);var A=x-_,S=w(A-Cn)<Nn;if(!S&&k<M&&(b=M,M=k,k=b),S||A<Nn?S?M+k>0^m[1]<(w(m[0]-_)<Nn?M:k):M<=m[1]&&m[1]<=k:A>Cn^(_<=m[0]&&m[0]<=x)){var N=Ur(p,(-v+y)/g);return Fr(N,h),[m,Wr(N)]}}}function u(t,e){var a=r?n:Cn-n,i=0;return t<-a?i|=1:t>a&&(i|=2),e<-a?i|=4:e>a&&(i|=8),i}}((b=+n)*On),A()):b},x.clipExtent=function(n){return arguments.length?(_=n,m=n?fe(n[0][0],n[0][1],n[1][0],n[1][1]):T,A()):_},x.scale=function(n){return arguments.length?(f=+n,k()):f},x.translate=function(n){return arguments.length?(l=+n[0],s=+n[1],k()):[l,s]},x.center=function(n){return arguments.length?(h=n[0]%360*On,p=n[1]%360*On,k()):[h*Rn,p*Rn]},x.rotate=function(n){return arguments.length?(v=n[0]%360*On,g=n[1]%360*On,d=n.length>2?n[2]%360*On:0,k()):[v*Rn,g*Rn,d*Rn]},i.rebind(x,c,"precision"),function(){return t=n.apply(this,arguments),x.invert=t.invert&&M,k()}}function Te(n){return Le(n,function(t,r){n.point(t*On,r*On)})}function qe(n,t){return[n,t]}function Ie(n,t){return[n>Cn?n-jn:n<-Cn?n+jn:n,t]}function De(n,t,r){return n?t||r?Kr(Fe(n),Ue(t,r)):Fe(n):t||r?Ue(t,r):Ie}function Pe(n){return function(t,r){return[(t+=n)>Cn?t-jn:t<-Cn?t+jn:t,r]}}function Fe(n){var t=Pe(n);return t.invert=Pe(-n),t}function Ue(n,t){var r=Math.cos(n),e=Math.sin(n),a=Math.cos(t),i=Math.sin(t);function u(n,t){var u=Math.cos(t),o=Math.cos(n)*u,c=Math.sin(n)*u,f=Math.sin(t),l=f*r+o*e;return[Math.atan2(c*a-l*i,o*r-f*e),Dn(l*a+c*i)]}return u.invert=function(n,t){var u=Math.cos(t),o=Math.cos(n)*u,c=Math.sin(n)*u,f=Math.sin(t),l=f*a-c*i;return[Math.atan2(c*a+f*i,o*r+l*e),Dn(l*r-o*e)]},u}function Be(n,t){var r=Math.cos(n),e=Math.sin(n);return function(a,i,u,o){var c=u*t;null!=a?(a=We(r,a),i=We(r,i),(u>0?a<i:a>i)&&(a+=u*jn)):(a=n+u*jn,i=n-.5*c);for(var f,l=a;u>0?l>i:l<i;l-=c)o.point((f=Wr([r,-e*Math.cos(l),-e*Math.sin(l)]))[0],f[1])}}function We(n,t){var r=Ir(t);r[0]-=n,Br(r);var e=In(-r[1]);return((-r[2]<0?-e:e)+2*Math.PI-Nn)%(2*Math.PI)}function Ye(n,t,r){var e=i.range(n,t-Nn,r).concat(t);return function(n){return e.map(function(t){return[n,t]})}}function $e(n,t,r){var e=i.range(n,t-Nn,r).concat(t);return function(n){return e.map(function(t){return[t,n]})}}function He(n){return n.source}function Ze(n){return n.target}i.geo.path=function(){var n,t,r,e,a,u=4.5;function o(n){return n&&("function"==typeof u&&e.pointRadius(+u.apply(this,arguments)),a&&a.valid||(a=r(e)),i.geo.stream(n,a)),e.result()}function c(){return a=null,o}return o.area=function(n){return he=0,i.geo.stream(n,r(me)),he},o.centroid=function(n){return Ar=Sr=Nr=Er=Cr=jr=zr=Lr=Or=0,i.geo.stream(n,r(ke)),Or?[zr/Or,Lr/Or]:jr?[Er/jr,Cr/jr]:Nr?[Ar/Nr,Sr/Nr]:[NaN,NaN]},o.bounds=function(n){return de=ye=-(ve=ge=1/0),i.geo.stream(n,r(_e)),[[ve,ge],[de,ye]]},o.projection=function(t){return arguments.length?(r=(n=t)?t.stream||(e=t,a=je(function(n,t){return e([n*Rn,t*Rn])}),function(n){return Te(a(n))}):T,c()):n;var e,a},o.context=function(n){return arguments.length?(e=null==(t=n)?new xe:new Ce(n),"function"!=typeof u&&e.pointRadius(u),c()):t},o.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:(e.pointRadius(+n),+n),o):u},o.projection(i.geo.albersUsa()).context(null)},i.geo.transform=function(n){return{stream:function(t){var r=new ze(t);for(var e in n)r[e]=n[e];return r}}},ze.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},i.geo.projection=Oe,i.geo.projectionMutator=Re,(i.geo.equirectangular=function(){return Oe(qe)}).raw=qe.invert=qe,i.geo.rotation=function(n){function t(t){return(t=n(t[0]*On,t[1]*On))[0]*=Rn,t[1]*=Rn,t}return n=De(n[0]%360*On,n[1]*On,n.length>2?n[2]*On:0),t.invert=function(t){return(t=n.invert(t[0]*On,t[1]*On))[0]*=Rn,t[1]*=Rn,t},t},Ie.invert=qe,i.geo.circle=function(){var n,t,r=[0,0],e=6;function a(){var n="function"==typeof r?r.apply(this,arguments):r,e=De(-n[0]*On,-n[1]*On,0).invert,a=[];return t(null,null,1,{point:function(n,t){a.push(n=e(n,t)),n[0]*=Rn,n[1]*=Rn}}),{type:"Polygon",coordinates:[a]}}return a.origin=function(n){return arguments.length?(r=n,a):r},a.angle=function(r){return arguments.length?(t=Be((n=+r)*On,e*On),a):n},a.precision=function(r){return arguments.length?(t=Be(n*On,(e=+r)*On),a):e},a.angle(90)},i.geo.distance=function(n,t){var r,e=(t[0]-n[0])*On,a=n[1]*On,i=t[1]*On,u=Math.sin(e),o=Math.cos(e),c=Math.sin(a),f=Math.cos(a),l=Math.sin(i),s=Math.cos(i);return Math.atan2(Math.sqrt((r=s*u)*r+(r=f*l-c*s*o)*r),c*l+f*s*o)},i.geo.graticule=function(){var n,t,r,e,a,u,o,c,f,l,s,h,p=10,v=p,g=90,d=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:b()}}function b(){return i.range(Math.ceil(e/g)*g,r,g).map(s).concat(i.range(Math.ceil(c/d)*d,o,d).map(h)).concat(i.range(Math.ceil(t/p)*p,n,p).filter(function(n){return w(n%g)>Nn}).map(f)).concat(i.range(Math.ceil(u/v)*v,a,v).filter(function(n){return w(n%d)>Nn}).map(l))}return m.lines=function(){return b().map(function(n){return{type:"LineString",coordinates:n}})},m.outline=function(){return{type:"Polygon",coordinates:[s(e).concat(h(o).slice(1),s(r).reverse().slice(1),h(c).reverse().slice(1))]}},m.extent=function(n){return arguments.length?m.majorExtent(n).minorExtent(n):m.minorExtent()},m.majorExtent=function(n){return arguments.length?(e=+n[0][0],r=+n[1][0],c=+n[0][1],o=+n[1][1],e>r&&(n=e,e=r,r=n),c>o&&(n=c,c=o,o=n),m.precision(y)):[[e,c],[r,o]]},m.minorExtent=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],u=+r[0][1],a=+r[1][1],t>n&&(r=t,t=n,n=r),u>a&&(r=u,u=a,a=r),m.precision(y)):[[t,u],[n,a]]},m.step=function(n){return arguments.length?m.majorStep(n).minorStep(n):m.minorStep()},m.majorStep=function(n){return arguments.length?(g=+n[0],d=+n[1],m):[g,d]},m.minorStep=function(n){return arguments.length?(p=+n[0],v=+n[1],m):[p,v]},m.precision=function(i){return arguments.length?(y=+i,f=Ye(u,a,90),l=$e(t,n,y),s=Ye(c,o,90),h=$e(e,r,y),m):y},m.majorExtent([[-180,-90+Nn],[180,90-Nn]]).minorExtent([[-180,-80-Nn],[180,80+Nn]])},i.geo.greatArc=function(){var n,t,r=He,e=Ze;function a(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),t||e.apply(this,arguments)]}}return a.distance=function(){return i.geo.distance(n||r.apply(this,arguments),t||e.apply(this,arguments))},a.source=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,a):r},a.target=function(n){return arguments.length?(e=n,t="function"==typeof n?null:n,a):e},a.precision=function(){return arguments.length?a:0},a},i.geo.interpolate=function(n,t){return r=n[0]*On,e=n[1]*On,a=t[0]*On,i=t[1]*On,u=Math.cos(e),o=Math.sin(e),c=Math.cos(i),f=Math.sin(i),l=u*Math.cos(r),s=u*Math.sin(r),h=c*Math.cos(a),p=c*Math.sin(a),v=2*Math.asin(Math.sqrt(Fn(i-e)+u*c*Fn(a-r))),g=1/Math.sin(v),(d=v?function(n){var t=Math.sin(n*=v)*g,r=Math.sin(v-n)*g,e=r*l+t*h,a=r*s+t*p,i=r*o+t*f;return[Math.atan2(a,e)*Rn,Math.atan2(i,Math.sqrt(e*e+a*a))*Rn]}:function(){return[r*Rn,e*Rn]}).distance=v,d;var r,e,a,i,u,o,c,f,l,s,h,p,v,g,d},i.geo.length=function(n){return Me=0,i.geo.stream(n,Ve),Me};var Ve={sphere:P,point:P,lineStart:function(){var n,t,r;function e(e,a){var i=Math.sin(a*=On),u=Math.cos(a),o=w((e*=On)-n),c=Math.cos(o);Me+=Math.atan2(Math.sqrt((o=u*Math.sin(o))*o+(o=r*i-t*u*c)*o),t*i+r*u*c),n=e,t=i,r=u}Ve.point=function(a,i){n=a*On,t=Math.sin(i*=On),r=Math.cos(i),Ve.point=e},Ve.lineEnd=function(){Ve.point=Ve.lineEnd=P}},lineEnd:P,polygonStart:P,polygonEnd:P};function Ge(n,t){function r(t,r){var e=Math.cos(t),a=Math.cos(r),i=n(e*a);return[i*a*Math.sin(t),i*Math.sin(r)]}return r.invert=function(n,r){var e=Math.sqrt(n*n+r*r),a=t(e),i=Math.sin(a),u=Math.cos(a);return[Math.atan2(n*i,e*u),Math.asin(e&&r*i/e)]},r}var Xe=Ge(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(i.geo.azimuthalEqualArea=function(){return Oe(Xe)}).raw=Xe;var Ke=Ge(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},T);function Je(n,t){var r=Math.cos(n),e=function(n){return Math.tan(Cn/4+n/2)},a=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(e(t)/e(n)),i=r*Math.pow(e(n),a)/a;if(!a)return ta;function u(n,t){i>0?t<-Ln+Nn&&(t=-Ln+Nn):t>Ln-Nn&&(t=Ln-Nn);var r=i/Math.pow(e(t),a);return[r*Math.sin(a*n),i-r*Math.cos(a*n)]}return u.invert=function(n,t){var r=i-t,e=Tn(a)*Math.sqrt(n*n+r*r);return[Math.atan2(n,r)/a,2*Math.atan(Math.pow(i/e,1/a))-Ln]},u}function Qe(n,t){var r=Math.cos(n),e=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),a=r/e+n;if(w(e)<Nn)return qe;function i(n,t){var r=a-t;return[r*Math.sin(e*n),a-r*Math.cos(e*n)]}return i.invert=function(n,t){var r=a-t;return[Math.atan2(n,r)/e,a-Tn(e)*Math.sqrt(n*n+r*r)]},i}(i.geo.azimuthalEquidistant=function(){return Oe(Ke)}).raw=Ke,(i.geo.conicConformal=function(){return le(Je)}).raw=Je,(i.geo.conicEquidistant=function(){return le(Qe)}).raw=Qe;var na=Ge(function(n){return 1/n},Math.atan);function ta(n,t){return[n,Math.log(Math.tan(Cn/4+t/2))]}function ra(n){var t,r=Oe(n),e=r.scale,a=r.translate,i=r.clipExtent;return r.scale=function(){var n=e.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.translate=function(){var n=a.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.clipExtent=function(n){var u=i.apply(r,arguments);if(u===r){if(t=null==n){var o=Cn*e(),c=a();i([[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]])}}else t&&(u=null);return u},r.clipExtent(null)}(i.geo.gnomonic=function(){return Oe(na)}).raw=na,ta.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ln]},(i.geo.mercator=function(){return ra(ta)}).raw=ta;var ea=Ge(function(){return 1},Math.asin);(i.geo.orthographic=function(){return Oe(ea)}).raw=ea;var aa=Ge(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});function ia(n,t){return[Math.log(Math.tan(Cn/4+t/2)),-n]}function ua(n){return n[0]}function oa(n){return n[1]}function ca(n){for(var t=n.length,r=[0,1],e=2,a=2;a<t;a++){for(;e>1&&qn(n[r[e-2]],n[r[e-1]],n[a])<=0;)--e;r[e++]=a}return r.slice(0,e)}function fa(n,t){return n[0]-t[0]||n[1]-t[1]}(i.geo.stereographic=function(){return Oe(aa)}).raw=aa,ia.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ln]},(i.geo.transverseMercator=function(){var n=ra(ia),t=n.center,r=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return n?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90])}).raw=ia,i.geom={},i.geom.hull=function(n){var t=ua,r=oa;if(arguments.length)return e(n);function e(n){if(n.length<3)return[];var e,a=_t(t),i=_t(r),u=n.length,o=[],c=[];for(e=0;e<u;e++)o.push([+a.call(this,n[e],e),+i.call(this,n[e],e),e]);for(o.sort(fa),e=0;e<u;e++)c.push([o[e][0],-o[e][1]]);var f=ca(o),l=ca(c),s=l[0]===f[0],h=l[l.length-1]===f[f.length-1],p=[];for(e=f.length-1;e>=0;--e)p.push(n[o[f[e]][2]]);for(e=+s;e<l.length-h;++e)p.push(n[o[l[e]][2]]);return p}return e.x=function(n){return arguments.length?(t=n,e):t},e.y=function(n){return arguments.length?(r=n,e):r},e},i.geom.polygon=function(n){return H(n,la),n};var la=i.geom.polygon.prototype=[];function sa(n,t,r){return(r[0]-t[0])*(n[1]-t[1])<(r[1]-t[1])*(n[0]-t[0])}function ha(n,t,r,e){var a=n[0],i=r[0],u=t[0]-a,o=e[0]-i,c=n[1],f=r[1],l=t[1]-c,s=e[1]-f,h=(o*(c-f)-s*(a-i))/(s*u-o*l);return[a+h*u,c+h*l]}function pa(n){var t=n[0],r=n[n.length-1];return!(t[0]-r[0]||t[1]-r[1])}la.area=function(){for(var n,t=-1,r=this.length,e=this[r-1],a=0;++t<r;)n=e,e=this[t],a+=n[1]*e[0]-n[0]*e[1];return.5*a},la.centroid=function(n){var t,r,e=-1,a=this.length,i=0,u=0,o=this[a-1];for(arguments.length||(n=-1/(6*this.area()));++e<a;)t=o,o=this[e],r=t[0]*o[1]-o[0]*t[1],i+=(t[0]+o[0])*r,u+=(t[1]+o[1])*r;return[i*n,u*n]},la.clip=function(n){for(var t,r,e,a,i,u,o=pa(n),c=-1,f=this.length-pa(this),l=this[f-1];++c<f;){for(t=n.slice(),n.length=0,a=this[c],i=t[(e=t.length-o)-1],r=-1;++r<e;)sa(u=t[r],l,a)?(sa(i,l,a)||n.push(ha(i,u,l,a)),n.push(u)):sa(i,l,a)&&n.push(ha(i,u,l,a)),i=u;o&&n.push(n[0]),l=a}return n};var va,ga,da,ya,ma,ba=[],_a=[];function xa(){Pa(this),this.edge=this.site=this.circle=null}function wa(n){var t=ba.pop()||new xa;return t.site=n,t}function Ma(n){La(n),da.remove(n),ba.push(n),Pa(n)}function ka(n){var t=n.circle,r=t.x,e=t.cy,a={x:r,y:e},i=n.P,u=n.N,o=[n];Ma(n);for(var c=i;c.circle&&w(r-c.circle.x)<Nn&&w(e-c.circle.cy)<Nn;)i=c.P,o.unshift(c),Ma(c),c=i;o.unshift(c),La(c);for(var f=u;f.circle&&w(r-f.circle.x)<Nn&&w(e-f.circle.cy)<Nn;)u=f.N,o.push(f),Ma(f),f=u;o.push(f),La(f);var l,s=o.length;for(l=1;l<s;++l)f=o[l],c=o[l-1],qa(f.edge,c.site,f.site,a);c=o[0],(f=o[s-1]).edge=Ta(c.site,f.site,null,a),za(c),za(f)}function Aa(n){for(var t,r,e,a,i=n.x,u=n.y,o=da._;o;)if((e=Sa(o,u)-i)>Nn)o=o.L;else{if(!((a=i-Na(o,u))>Nn)){e>-Nn?(t=o.P,r=o):a>-Nn?(t=o,r=o.N):t=r=o;break}if(!o.R){t=o;break}o=o.R}var c=wa(n);if(da.insert(t,c),t||r){if(t===r)return La(t),r=wa(t.site),da.insert(c,r),c.edge=r.edge=Ta(t.site,c.site),za(t),void za(r);if(r){La(t),La(r);var f=t.site,l=f.x,s=f.y,h=n.x-l,p=n.y-s,v=r.site,g=v.x-l,d=v.y-s,y=2*(h*d-p*g),m=h*h+p*p,b=g*g+d*d,_={x:(d*m-p*b)/y+l,y:(h*b-g*m)/y+s};qa(r.edge,f,v,_),c.edge=Ta(f,n,null,_),r.edge=Ta(n,v,null,_),za(t),za(r)}else c.edge=Ta(t.site,c.site)}}function Sa(n,t){var r=n.site,e=r.x,a=r.y,i=a-t;if(!i)return e;var u=n.P;if(!u)return-1/0;var o=(r=u.site).x,c=r.y,f=c-t;if(!f)return o;var l=o-e,s=1/i-1/f,h=l/f;return s?(-h+Math.sqrt(h*h-2*s*(l*l/(-2*f)-c+f/2+a-i/2)))/s+e:(e+o)/2}function Na(n,t){var r=n.N;if(r)return Sa(r,t);var e=n.site;return e.y===t?e.x:1/0}function Ea(n){this.site=n,this.edges=[]}function Ca(n,t){return t.angle-n.angle}function ja(){Pa(this),this.x=this.y=this.arc=this.site=this.cy=null}function za(n){var t=n.P,r=n.N;if(t&&r){var e=t.site,a=n.site,i=r.site;if(e!==i){var u=a.x,o=a.y,c=e.x-u,f=e.y-o,l=i.x-u,s=2*(c*(d=i.y-o)-f*l);if(!(s>=-En)){var h=c*c+f*f,p=l*l+d*d,v=(d*h-f*p)/s,g=(c*p-l*h)/s,d=g+o,y=_a.pop()||new ja;y.arc=n,y.site=a,y.x=v+u,y.y=d+Math.sqrt(v*v+g*g),y.cy=d,n.circle=y;for(var m=null,b=ma._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}ma.insert(m,y),m||(ya=y)}}}}function La(n){var t=n.circle;t&&(t.P||(ya=t.N),ma.remove(t),_a.push(t),Pa(t),n.circle=null)}function Oa(n,t){var r=n.b;if(r)return!0;var e,a,i=n.a,u=t[0][0],o=t[1][0],c=t[0][1],f=t[1][1],l=n.l,s=n.r,h=l.x,p=l.y,v=s.x,g=s.y,d=(h+v)/2,y=(p+g)/2;if(g===p){if(d<u||d>=o)return;if(h>v){if(i){if(i.y>=f)return}else i={x:d,y:c};r={x:d,y:f}}else{if(i){if(i.y<c)return}else i={x:d,y:f};r={x:d,y:c}}}else if(a=y-(e=(h-v)/(g-p))*d,e<-1||e>1)if(h>v){if(i){if(i.y>=f)return}else i={x:(c-a)/e,y:c};r={x:(f-a)/e,y:f}}else{if(i){if(i.y<c)return}else i={x:(f-a)/e,y:f};r={x:(c-a)/e,y:c}}else if(p<g){if(i){if(i.x>=o)return}else i={x:u,y:e*u+a};r={x:o,y:e*o+a}}else{if(i){if(i.x<u)return}else i={x:o,y:e*o+a};r={x:u,y:e*u+a}}return n.a=i,n.b=r,!0}function Ra(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ta(n,t,r,e){var a=new Ra(n,t);return va.push(a),r&&qa(a,n,t,r),e&&qa(a,t,n,e),ga[n.i].edges.push(new Ia(a,n,t)),ga[t.i].edges.push(new Ia(a,t,n)),a}function qa(n,t,r,e){n.a||n.b?n.l===r?n.b=e:n.a=e:(n.a=e,n.l=t,n.r=r)}function Ia(n,t,r){var e=n.a,a=n.b;this.edge=n,this.site=t,this.angle=r?Math.atan2(r.y-t.y,r.x-t.x):n.l===t?Math.atan2(a.x-e.x,e.y-a.y):Math.atan2(e.x-a.x,a.y-e.y)}function Da(){this._=null}function Pa(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Fa(n,t){var r=t,e=t.R,a=r.U;a?a.L===r?a.L=e:a.R=e:n._=e,e.U=a,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function Ua(n,t){var r=t,e=t.L,a=r.U;a?a.L===r?a.L=e:a.R=e:n._=e,e.U=a,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function Ba(n){for(;n.L;)n=n.L;return n}function Wa(n,t){var r,e,a,i=n.sort(Ya).pop();for(va=[],ga=new Array(n.length),da=new Da,ma=new Da;;)if(a=ya,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===r&&i.y===e||(ga[i.i]=new Ea(i),Aa(i),r=i.x,e=i.y),i=n.pop();else{if(!a)break;ka(a.arc)}t&&(function(n){for(var t,r=va,e=oe(n[0][0],n[0][1],n[1][0],n[1][1]),a=r.length;a--;)(!Oa(t=r[a],n)||!e(t)||w(t.a.x-t.b.x)<Nn&&w(t.a.y-t.b.y)<Nn)&&(t.a=t.b=null,r.splice(a,1))}(t),function(n){for(var t,r,e,a,i,u,o,c,f,l,s=n[0][0],h=n[1][0],p=n[0][1],v=n[1][1],g=ga,d=g.length;d--;)if((i=g[d])&&i.prepare())for(c=(o=i.edges).length,u=0;u<c;)e=(l=o[u].end()).x,a=l.y,t=(f=o[++u%c].start()).x,r=f.y,(w(e-t)>Nn||w(a-r)>Nn)&&(o.splice(u,0,new Ia((y=i.site,m=l,b=w(e-s)<Nn&&v-a>Nn?{x:s,y:w(t-s)<Nn?r:v}:w(a-v)<Nn&&h-e>Nn?{x:w(r-v)<Nn?t:h,y:v}:w(e-h)<Nn&&a-p>Nn?{x:h,y:w(t-h)<Nn?r:p}:w(a-p)<Nn&&e-s>Nn?{x:w(r-p)<Nn?t:s,y:p}:null,_=void 0,_=new Ra(y,null),_.a=m,_.b=b,va.push(_),_),i.site,null)),++c);var y,m,b,_}(t));var u={cells:ga,edges:va};return da=ma=va=ga=null,u}function Ya(n,t){return t.y-n.y||t.x-n.x}Ea.prototype.prepare=function(){for(var n,t=this.edges,r=t.length;r--;)(n=t[r].edge).b&&n.a||t.splice(r,1);return t.sort(Ca),t.length},Ia.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Da.prototype={insert:function(n,t){var r,e,a;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;r=n}else this._?(n=Ba(this._),t.P=null,t.N=n,n.P=n.L=t,r=n):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,n=t;r&&r.C;)r===(e=r.U).L?(a=e.R)&&a.C?(r.C=a.C=!1,e.C=!0,n=e):(n===r.R&&(Fa(this,r),r=(n=r).U),r.C=!1,e.C=!0,Ua(this,e)):(a=e.L)&&a.C?(r.C=a.C=!1,e.C=!0,n=e):(n===r.L&&(Ua(this,r),r=(n=r).U),r.C=!1,e.C=!0,Fa(this,e)),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,r,e,a=n.U,i=n.L,u=n.R;if(r=i?u?Ba(u):i:u,a?a.L===n?a.L=r:a.R=r:this._=r,i&&u?(e=r.C,r.C=n.C,r.L=i,i.U=r,r!==u?(a=r.U,r.U=n.U,n=r.R,a.L=n,r.R=u,u.U=r):(r.U=a,a=r,n=r.R)):(e=n.C,n=r),n&&(n.U=a),!e)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===a.L){if((t=a.R).C&&(t.C=!1,a.C=!0,Fa(this,a),t=a.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Ua(this,t),t=a.R),t.C=a.C,a.C=t.R.C=!1,Fa(this,a),n=this._;break}}else if((t=a.L).C&&(t.C=!1,a.C=!0,Ua(this,a),t=a.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Fa(this,t),t=a.L),t.C=a.C,a.C=t.L.C=!1,Ua(this,a),n=this._;break}t.C=!0,n=a,a=a.U}while(!n.C);n&&(n.C=!1)}}},i.geom.voronoi=function(n){var t=ua,r=oa,e=t,a=r,i=$a;if(n)return u(n);function u(n){var t=new Array(n.length),r=i[0][0],e=i[0][1],a=i[1][0],u=i[1][1];return Wa(o(n),i).cells.forEach(function(i,o){var c=i.edges,f=i.site;(t[o]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):f.x>=r&&f.x<=a&&f.y>=e&&f.y<=u?[[r,u],[a,u],[a,e],[r,e]]:[]).point=n[o]}),t}function o(n){return n.map(function(n,t){return{x:Math.round(e(n,t)/Nn)*Nn,y:Math.round(a(n,t)/Nn)*Nn,i:t}})}return u.links=function(n){return Wa(o(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},u.triangles=function(n){var t=[];return Wa(o(n)).cells.forEach(function(r,e){for(var a,i,u,o,c=r.site,f=r.edges.sort(Ca),l=-1,s=f.length,h=f[s-1].edge,p=h.l===c?h.r:h.l;++l<s;)h,a=p,p=(h=f[l].edge).l===c?h.r:h.l,e<a.i&&e<p.i&&(u=a,o=p,((i=c).x-o.x)*(u.y-i.y)-(i.x-u.x)*(o.y-i.y)<0)&&t.push([n[e],n[a.i],n[p.i]])}),t},u.x=function(n){return arguments.length?(e=_t(t=n),u):t},u.y=function(n){return arguments.length?(a=_t(r=n),u):r},u.clipExtent=function(n){return arguments.length?(i=null==n?$a:n,u):i===$a?null:i},u.size=function(n){return arguments.length?u.clipExtent(n&&[[0,0],n]):i===$a?null:i&&i[1]},u};var $a=[[-1e6,-1e6],[1e6,1e6]];function Ha(n){return n.x}function Za(n){return n.y}function Va(n,t){n=i.rgb(n),t=i.rgb(t);var r=n.r,e=n.g,a=n.b,u=t.r-r,o=t.g-e,c=t.b-a;return function(n){return"#"+pt(Math.round(r+u*n))+pt(Math.round(e+o*n))+pt(Math.round(a+c*n))}}function Ga(n,t){var r,e={},a={};for(r in n)r in t?e[r]=ni(n[r],t[r]):a[r]=n[r];for(r in t)r in n||(a[r]=t[r]);return function(n){for(r in e)a[r]=e[r](n);return a}}function Xa(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}}function Ka(n,t){var r,e,a,i=Ja.lastIndex=Qa.lastIndex=0,u=-1,o=[],c=[];for(n+="",t+="";(r=Ja.exec(n))&&(e=Qa.exec(t));)(a=e.index)>i&&(a=t.slice(i,a),o[u]?o[u]+=a:o[++u]=a),(r=r[0])===(e=e[0])?o[u]?o[u]+=e:o[++u]=e:(o[++u]=null,c.push({i:u,x:Xa(r,e)})),i=Qa.lastIndex;return i<t.length&&(a=t.slice(i),o[u]?o[u]+=a:o[++u]=a),o.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var r,e=0;e<t;++e)o[(r=c[e]).i]=r.x(n);return o.join("")})}i.geom.delaunay=function(n){return i.geom.voronoi().triangles(n)},i.geom.quadtree=function(n,t,r,e,a){var i,u=ua,o=oa;if(i=arguments.length)return u=Ha,o=Za,3===i&&(a=r,e=t,r=t=0),c(n);function c(n){var c,f,l,s,h,p,v,g,d,y=_t(u),m=_t(o);if(null!=t)p=t,v=r,g=e,d=a;else if(g=d=-(p=v=1/0),f=[],l=[],h=n.length,i)for(s=0;s<h;++s)(c=n[s]).x<p&&(p=c.x),c.y<v&&(v=c.y),c.x>g&&(g=c.x),c.y>d&&(d=c.y),f.push(c.x),l.push(c.y);else for(s=0;s<h;++s){var b=+y(c=n[s],s),_=+m(c,s);b<p&&(p=b),_<v&&(v=_),b>g&&(g=b),_>d&&(d=_),f.push(b),l.push(_)}var x=g-p,M=d-v;function k(n,t,r,e,a,i,u,o){if(!isNaN(r)&&!isNaN(e))if(n.leaf){var c=n.x,f=n.y;if(null!=c)if(w(c-r)+w(f-e)<.01)A(n,t,r,e,a,i,u,o);else{var l=n.point;n.x=n.y=n.point=null,A(n,l,c,f,a,i,u,o),A(n,t,r,e,a,i,u,o)}else n.x=r,n.y=e,n.point=t}else A(n,t,r,e,a,i,u,o)}function A(n,t,r,e,a,i,u,o){var c=.5*(a+u),f=.5*(i+o),l=r>=c,s=e>=f,h=s<<1|l;n.leaf=!1,l?a=c:u=c,s?i=f:o=f,k(n=n.nodes[h]||(n.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,r,e,a,i,u,o)}x>M?d=v+x:g=p+M;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(n){k(S,n,+y(n,++s),+m(n,s),p,v,g,d)}};if(S.visit=function(n){!function n(t,r,e,a,i,u){if(!t(r,e,a,i,u)){var o=.5*(e+i),c=.5*(a+u),f=r.nodes;f[0]&&n(t,f[0],e,a,o,c),f[1]&&n(t,f[1],o,a,i,c),f[2]&&n(t,f[2],e,c,o,u),f[3]&&n(t,f[3],o,c,i,u)}}(n,S,p,v,g,d)},S.find=function(n){return function(n,t,r,e,a,i,u){var o,c=1/0;return function n(f,l,s,h,p){if(!(l>i||s>u||h<e||p<a)){if(v=f.point){var v,g=t-f.x,d=r-f.y,y=g*g+d*d;if(y<c){var m=Math.sqrt(c=y);e=t-m,a=r-m,i=t+m,u=r+m,o=v}}for(var b=f.nodes,_=.5*(l+h),x=.5*(s+p),w=(r>=x)<<1|t>=_,M=w+4;w<M;++w)if(f=b[3&w])switch(3&w){case 0:n(f,l,s,_,x);break;case 1:n(f,_,s,h,x);break;case 2:n(f,l,x,_,p);break;case 3:n(f,_,x,h,p)}}}(n,e,a,i,u),o}(S,n[0],n[1],p,v,g,d)},s=-1,null==t){for(;++s<h;)k(S,n[s],f[s],l[s],p,v,g,d);--s}else n.forEach(S.add);return f=l=n=c=null,S}return c.x=function(n){return arguments.length?(u=n,c):u},c.y=function(n){return arguments.length?(o=n,c):o},c.extent=function(n){return arguments.length?(null==n?t=r=e=a=null:(t=+n[0][0],r=+n[0][1],e=+n[1][0],a=+n[1][1]),c):null==t?null:[[t,r],[e,a]]},c.size=function(n){return arguments.length?(null==n?t=r=e=a=null:(t=r=0,e=+n[0],a=+n[1]),c):null==t?null:[e-t,a-r]},c},i.interpolateRgb=Va,i.interpolateObject=Ga,i.interpolateNumber=Xa,i.interpolateString=Ka;var Ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qa=new RegExp(Ja.source,"g");function ni(n,t){for(var r,e=i.interpolators.length;--e>=0&&!(r=i.interpolators[e](n,t)););return r}function ti(n,t){var r,e=[],a=[],i=n.length,u=t.length,o=Math.min(n.length,t.length);for(r=0;r<o;++r)e.push(ni(n[r],t[r]));for(;r<i;++r)a[r]=n[r];for(;r<u;++r)a[r]=t[r];return function(n){for(r=0;r<o;++r)a[r]=e[r](n);return a}}i.interpolate=ni,i.interpolators=[function(n,t){var r=typeof t;return("string"===r?bt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Va:Ka:t instanceof $n?Va:Array.isArray(t)?ti:"object"===r&&isNaN(t)?Ga:Xa)(n,t)}],i.interpolateArray=ti;var ri=function(){return T},ei=i.map({linear:ri,poly:function(n){return function(t){return Math.pow(t,n)}},quad:function(){return oi},cubic:function(){return ci},sin:function(){return li},exp:function(){return si},circle:function(){return hi},elastic:function(n,t){var r;arguments.length<2&&(t=.45);arguments.length?r=t/jn*Math.asin(1/n):(n=1,r=t/4);return function(e){return 1+n*Math.pow(2,-10*e)*Math.sin((e-r)*jn/t)}},back:function(n){n||(n=1.70158);return function(t){return t*t*((n+1)*t-n)}},bounce:function(){return pi}}),ai=i.map({in:T,out:ii,"in-out":ui,"out-in":function(n){return ui(ii(n))}});function ii(n){return function(t){return 1-n(1-t)}}function ui(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function oi(n){return n*n}function ci(n){return n*n*n}function fi(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,r=t*n;return 4*(n<.5?r:3*(n-t)+r-.75)}function li(n){return 1-Math.cos(n*Ln)}function si(n){return Math.pow(2,10*(n-1))}function hi(n){return 1-Math.sqrt(1-n*n)}function pi(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function vi(n,t){return t-=n,function(r){return Math.round(n+t*r)}}function gi(n){var t,r,e,a=[n.a,n.b],i=[n.c,n.d],u=yi(a),o=di(a,i),c=yi(((t=i)[0]+=(e=-o)*(r=a)[0],t[1]+=e*r[1],t))||0;a[0]*i[1]<i[0]*a[1]&&(a[0]*=-1,a[1]*=-1,u*=-1,o*=-1),this.rotate=(u?Math.atan2(a[1],a[0]):Math.atan2(-i[0],i[1]))*Rn,this.translate=[n.e,n.f],this.scale=[u,c],this.skew=c?Math.atan2(o,c)*Rn:0}function di(n,t){return n[0]*t[0]+n[1]*t[1]}function yi(n){var t=Math.sqrt(di(n,n));return t&&(n[0]/=t,n[1]/=t),t}i.ease=function(n){var t,r=n.indexOf("-"),e=r>=0?n.slice(0,r):n,a=r>=0?n.slice(r+1):"in";return e=ei.get(e)||ri,a=ai.get(a)||T,t=a(e.apply(null,u.call(arguments,1))),function(n){return n<=0?0:n>=1?1:t(n)}},i.interpolateHcl=function(n,t){n=i.hcl(n),t=i.hcl(t);var r=n.h,e=n.c,a=n.l,u=t.h-r,o=t.c-e,c=t.l-a;isNaN(o)&&(o=0,e=isNaN(e)?t.c:e);isNaN(u)?(u=0,r=isNaN(r)?t.h:r):u>180?u-=360:u<-180&&(u+=360);return function(n){return Kn(r+u*n,e+o*n,a+c*n)+""}},i.interpolateHsl=function(n,t){n=i.hsl(n),t=i.hsl(t);var r=n.h,e=n.s,a=n.l,u=t.h-r,o=t.s-e,c=t.l-a;isNaN(o)&&(o=0,e=isNaN(e)?t.s:e);isNaN(u)?(u=0,r=isNaN(r)?t.h:r):u>180?u-=360:u<-180&&(u+=360);return function(n){return Vn(r+u*n,e+o*n,a+c*n)+""}},i.interpolateLab=function(n,t){n=i.lab(n),t=i.lab(t);var r=n.l,e=n.a,a=n.b,u=t.l-r,o=t.a-e,c=t.b-a;return function(n){return at(r+u*n,e+o*n,a+c*n)+""}},i.interpolateRound=vi,i.transform=function(n){var t=c.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(n){if(null!=n){t.setAttribute("transform",n);var r=t.transform.baseVal.consolidate()}return new gi(r?r.matrix:mi)})(n)},gi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var mi={a:1,b:0,c:0,d:1,e:0,f:0};function bi(n){return n.length?n.pop()+",":""}function _i(n,t){var r=[],e=[];return n=i.transform(n),t=i.transform(t),function(n,t,r,e){if(n[0]!==t[0]||n[1]!==t[1]){var a=r.push("translate(",null,",",null,")");e.push({i:a-4,x:Xa(n[0],t[0])},{i:a-2,x:Xa(n[1],t[1])})}else(t[0]||t[1])&&r.push("translate("+t+")")}(n.translate,t.translate,r,e),function(n,t,r,e){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),e.push({i:r.push(bi(r)+"rotate(",null,")")-2,x:Xa(n,t)})):t&&r.push(bi(r)+"rotate("+t+")")}(n.rotate,t.rotate,r,e),function(n,t,r,e){n!==t?e.push({i:r.push(bi(r)+"skewX(",null,")")-2,x:Xa(n,t)}):t&&r.push(bi(r)+"skewX("+t+")")}(n.skew,t.skew,r,e),function(n,t,r,e){if(n[0]!==t[0]||n[1]!==t[1]){var a=r.push(bi(r)+"scale(",null,",",null,")");e.push({i:a-4,x:Xa(n[0],t[0])},{i:a-2,x:Xa(n[1],t[1])})}else 1===t[0]&&1===t[1]||r.push(bi(r)+"scale("+t+")")}(n.scale,t.scale,r,e),n=t=null,function(n){for(var t,a=-1,i=e.length;++a<i;)r[(t=e[a]).i]=t.x(n);return r.join("")}}function xi(n,t){return t=(t-=n=+n)||1/t,function(r){return(r-n)/t}}function wi(n,t){return t=(t-=n=+n)||1/t,function(r){return Math.max(0,Math.min(1,(r-n)/t))}}function Mi(n){for(var t=n.source,r=n.target,e=function(n,t){if(n===t)return n;var r=ki(n),e=ki(t),a=r.pop(),i=e.pop(),u=null;for(;a===i;)u=a,a=r.pop(),i=e.pop();return u}(t,r),a=[t];t!==e;)t=t.parent,a.push(t);for(var i=a.length;r!==e;)a.splice(i,0,r),r=r.parent;return a}function ki(n){for(var t=[],r=n.parent;null!=r;)t.push(n),n=r,r=r.parent;return t.push(n),t}function Ai(n){n.fixed|=2}function Si(n){n.fixed&=-7}function Ni(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Ei(n){n.fixed&=-5}i.interpolateTransform=_i,i.layout={},i.layout.bundle=function(){return function(n){for(var t=[],r=-1,e=n.length;++r<e;)t.push(Mi(n[r]));return t}},i.layout.chord=function(){var n,t,r,e,a,u,o,c={},f=0;function l(){var c,l,h,p,v,g={},d=[],y=i.range(e),m=[];for(n=[],t=[],c=0,p=-1;++p<e;){for(l=0,v=-1;++v<e;)l+=r[p][v];d.push(l),m.push(i.range(e)),c+=l}for(a&&y.sort(function(n,t){return a(d[n],d[t])}),u&&m.forEach(function(n,t){n.sort(function(n,e){return u(r[t][n],r[t][e])})}),c=(jn-f*e)/c,l=0,p=-1;++p<e;){for(h=l,v=-1;++v<e;){var b=y[p],_=m[b][v],x=r[b][_],w=l,M=l+=x*c;g[b+"-"+_]={index:b,subindex:_,startAngle:w,endAngle:M,value:x}}t[b]={index:b,startAngle:h,endAngle:l,value:d[b]},l+=f}for(p=-1;++p<e;)for(v=p-1;++v<e;){var k=g[p+"-"+v],A=g[v+"-"+p];(k.value||A.value)&&n.push(k.value<A.value?{source:A,target:k}:{source:k,target:A})}o&&s()}function s(){n.sort(function(n,t){return o((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}return c.matrix=function(a){return arguments.length?(e=(r=a)&&r.length,n=t=null,c):r},c.padding=function(r){return arguments.length?(f=r,n=t=null,c):f},c.sortGroups=function(r){return arguments.length?(a=r,n=t=null,c):a},c.sortSubgroups=function(t){return arguments.length?(u=t,n=null,c):u},c.sortChords=function(t){return arguments.length?(o=t,n&&s(),c):o},c.chords=function(){return n||l(),n},c.groups=function(){return t||l(),t},c},i.layout.force=function(){var n,t,r,e,a,u,o={},c=i.dispatch("start","tick","end"),f=[1,1],l=.9,s=Ci,h=ji,p=-30,v=zi,g=.1,d=.64,y=[],m=[];function b(n){return function(t,r,e,a){if(t.point!==n){var i=t.cx-n.x,u=t.cy-n.y,o=a-r,c=i*i+u*u;if(o*o/d<c){if(c<v){var f=t.charge/c;n.px-=i*f,n.py-=u*f}return!0}if(t.point&&c&&c<v){f=t.pointCharge/c;n.px-=i*f,n.py-=u*f}}return!t.charge}}function _(n){n.px=i.event.x,n.py=i.event.y,o.resume()}return o.tick=function(){if((r*=.99)<.005)return n=null,c.end({type:"end",alpha:r=0}),!0;var t,o,s,h,v,d,_,x,w,M=y.length,k=m.length;for(o=0;o<k;++o)h=(s=m[o]).source,(d=(x=(v=s.target).x-h.x)*x+(w=v.y-h.y)*w)&&(x*=d=r*a[o]*((d=Math.sqrt(d))-e[o])/d,w*=d,v.x-=x*(_=h.weight+v.weight?h.weight/(h.weight+v.weight):.5),v.y-=w*_,h.x+=x*(_=1-_),h.y+=w*_);if((_=r*g)&&(x=f[0]/2,w=f[1]/2,o=-1,_))for(;++o<M;)(s=y[o]).x+=(x-s.x)*_,s.y+=(w-s.y)*_;if(p)for(!function n(t,r,e){var a=0,i=0;t.charge=0;if(!t.leaf)for(var u,o=t.nodes,c=o.length,f=-1;++f<c;)null!=(u=o[f])&&(n(u,r,e),t.charge+=u.charge,a+=u.charge*u.cx,i+=u.charge*u.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=r*e[t.point.index];t.charge+=t.pointCharge=l,a+=l*t.point.x,i+=l*t.point.y}t.cx=a/t.charge;t.cy=i/t.charge}(t=i.geom.quadtree(y),r,u),o=-1;++o<M;)(s=y[o]).fixed||t.visit(b(s));for(o=-1;++o<M;)(s=y[o]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);c.tick({type:"tick",alpha:r})},o.nodes=function(n){return arguments.length?(y=n,o):y},o.links=function(n){return arguments.length?(m=n,o):m},o.size=function(n){return arguments.length?(f=n,o):f},o.linkDistance=function(n){return arguments.length?(s="function"==typeof n?n:+n,o):s},o.distance=o.linkDistance,o.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,o):h},o.friction=function(n){return arguments.length?(l=+n,o):l},o.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,o):p},o.chargeDistance=function(n){return arguments.length?(v=n*n,o):Math.sqrt(v)},o.gravity=function(n){return arguments.length?(g=+n,o):g},o.theta=function(n){return arguments.length?(d=n*n,o):Math.sqrt(d)},o.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:r=0})):t>0&&(c.start({type:"start",alpha:r=t}),n=Et(o.tick)),o):r},o.start=function(){var n,t,r,i=y.length,c=m.length,l=f[0],v=f[1];for(n=0;n<i;++n)(r=y[n]).index=n,r.weight=0;for(n=0;n<c;++n)"number"==typeof(r=m[n]).source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(n=0;n<i;++n)r=y[n],isNaN(r.x)&&(r.x=g("x",l)),isNaN(r.y)&&(r.y=g("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(e=[],"function"==typeof s)for(n=0;n<c;++n)e[n]=+s.call(this,m[n],n);else for(n=0;n<c;++n)e[n]=s;if(a=[],"function"==typeof h)for(n=0;n<c;++n)a[n]=+h.call(this,m[n],n);else for(n=0;n<c;++n)a[n]=h;if(u=[],"function"==typeof p)for(n=0;n<i;++n)u[n]=+p.call(this,y[n],n);else for(n=0;n<i;++n)u[n]=p;function g(r,e){if(!t){for(t=new Array(i),f=0;f<i;++f)t[f]=[];for(f=0;f<c;++f){var a=m[f];t[a.source.index].push(a.target),t[a.target.index].push(a.source)}}for(var u,o=t[n],f=-1,l=o.length;++f<l;)if(!isNaN(u=o[f][r]))return u;return Math.random()*e}return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(t||(t=i.behavior.drag().origin(T).on("dragstart.force",Ai).on("drag.force",_).on("dragend.force",Si)),!arguments.length)return t;this.on("mouseover.force",Ni).on("mouseout.force",Ei).call(t)},i.rebind(o,c,"on")};var Ci=20,ji=1,zi=1/0;function Li(n,t){return i.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=Di,n}function Oi(n,t){for(var r=[n];null!=(n=r.pop());)if(t(n),(a=n.children)&&(e=a.length))for(var e,a;--e>=0;)r.push(a[e])}function Ri(n,t){for(var r=[n],e=[];null!=(n=r.pop());)if(e.push(n),(i=n.children)&&(a=i.length))for(var a,i,u=-1;++u<a;)r.push(i[u]);for(;null!=(n=e.pop());)t(n)}function Ti(n){return n.children}function qi(n){return n.value}function Ii(n,t){return t.value-n.value}function Di(n){return i.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}i.layout.hierarchy=function(){var n=Ii,t=Ti,r=qi;function e(a){var i,u=[a],o=[];for(a.depth=0;null!=(i=u.pop());)if(o.push(i),(f=t.call(e,i,i.depth))&&(c=f.length)){for(var c,f,l;--c>=0;)u.push(l=f[c]),l.parent=i,l.depth=i.depth+1;r&&(i.value=0),i.children=f}else r&&(i.value=+r.call(e,i,i.depth)||0),delete i.children;return Ri(a,function(t){var e,a;n&&(e=t.children)&&e.sort(n),r&&(a=t.parent)&&(a.value+=t.value)}),o}return e.sort=function(t){return arguments.length?(n=t,e):n},e.children=function(n){return arguments.length?(t=n,e):t},e.value=function(n){return arguments.length?(r=n,e):r},e.revalue=function(n){return r&&(Oi(n,function(n){n.children&&(n.value=0)}),Ri(n,function(n){var t;n.children||(n.value=+r.call(e,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),n},e},i.layout.partition=function(){var n=i.layout.hierarchy(),t=[1,1];function r(r,e){var a=n.call(this,r,e);return function n(t,r,e,a){var i=t.children;if(t.x=r,t.y=t.depth*a,t.dx=e,t.dy=a,i&&(u=i.length)){var u,o,c,f=-1;for(e=t.value?e/t.value:0;++f<u;)n(o=i[f],r,c=o.value*e,a),r+=c}}(a[0],0,t[0],t[1]/function n(t){var r=t.children,e=0;if(r&&(a=r.length))for(var a,i=-1;++i<a;)e=Math.max(e,n(r[i]));return 1+e}(a[0])),a}return r.size=function(n){return arguments.length?(t=n,r):t},Li(r,n)},i.layout.pie=function(){var n=Number,t=Pi,r=0,e=jn,a=0;function u(o){var c,f=o.length,l=o.map(function(t,r){return+n.call(u,t,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof e?e.apply(this,arguments):e)-s,p=Math.min(Math.abs(h)/f,+("function"==typeof a?a.apply(this,arguments):a)),v=p*(h<0?-1:1),g=i.sum(l),d=g?(h-f*v)/g:0,y=i.range(f),m=[];return null!=t&&y.sort(t===Pi?function(n,t){return l[t]-l[n]}:function(n,r){return t(o[n],o[r])}),y.forEach(function(n){m[n]={data:o[n],value:c=l[n],startAngle:s,endAngle:s+=c*d+v,padAngle:p}}),m}return u.value=function(t){return arguments.length?(n=t,u):n},u.sort=function(n){return arguments.length?(t=n,u):t},u.startAngle=function(n){return arguments.length?(r=n,u):r},u.endAngle=function(n){return arguments.length?(e=n,u):e},u.padAngle=function(n){return arguments.length?(a=n,u):a},u};var Pi={};function Fi(n){return n.x}function Ui(n){return n.y}function Bi(n,t,r){n.y0=t,n.y=r}i.layout.stack=function(){var n=T,t=$i,r=Hi,e=Bi,a=Fi,u=Ui;function o(c,f){if(!(p=c.length))return c;var l=c.map(function(t,r){return n.call(o,t,r)}),s=l.map(function(n){return n.map(function(n,t){return[a.call(o,n,t),u.call(o,n,t)]})}),h=t.call(o,s,f);l=i.permute(l,h),s=i.permute(s,h);var p,v,g,d,y=r.call(o,s,f),m=l[0].length;for(g=0;g<m;++g)for(e.call(o,l[0][g],d=y[g],s[0][g][1]),v=1;v<p;++v)e.call(o,l[v][g],d+=s[v-1][g][1],s[v][g][1]);return c}return o.values=function(t){return arguments.length?(n=t,o):n},o.order=function(n){return arguments.length?(t="function"==typeof n?n:Wi.get(n)||$i,o):t},o.offset=function(n){return arguments.length?(r="function"==typeof n?n:Yi.get(n)||Hi,o):r},o.x=function(n){return arguments.length?(a=n,o):a},o.y=function(n){return arguments.length?(u=n,o):u},o.out=function(n){return arguments.length?(e=n,o):e},o};var Wi=i.map({"inside-out":function(n){var t,r,e=n.length,a=n.map(Zi),u=n.map(Vi),o=i.range(e).sort(function(n,t){return a[n]-a[t]}),c=0,f=0,l=[],s=[];for(t=0;t<e;++t)r=o[t],c<f?(c+=u[r],l.push(r)):(f+=u[r],s.push(r));return s.reverse().concat(l)},reverse:function(n){return i.range(n.length).reverse()},default:$i}),Yi=i.map({silhouette:function(n){var t,r,e,a=n.length,i=n[0].length,u=[],o=0,c=[];for(r=0;r<i;++r){for(t=0,e=0;t<a;t++)e+=n[t][r][1];e>o&&(o=e),u.push(e)}for(r=0;r<i;++r)c[r]=(o-u[r])/2;return c},wiggle:function(n){var t,r,e,a,i,u,o,c,f,l=n.length,s=n[0],h=s.length,p=[];for(p[0]=c=f=0,r=1;r<h;++r){for(t=0,a=0;t<l;++t)a+=n[t][r][1];for(t=0,i=0,o=s[r][0]-s[r-1][0];t<l;++t){for(e=0,u=(n[t][r][1]-n[t][r-1][1])/(2*o);e<t;++e)u+=(n[e][r][1]-n[e][r-1][1])/o;i+=u*n[t][r][1]}p[r]=c-=a?i/a*o:0,c<f&&(f=c)}for(r=0;r<h;++r)p[r]-=f;return p},expand:function(n){var t,r,e,a=n.length,i=n[0].length,u=1/a,o=[];for(r=0;r<i;++r){for(t=0,e=0;t<a;t++)e+=n[t][r][1];if(e)for(t=0;t<a;t++)n[t][r][1]/=e;else for(t=0;t<a;t++)n[t][r][1]=u}for(r=0;r<i;++r)o[r]=0;return o},zero:Hi});function $i(n){return i.range(n.length)}function Hi(n){for(var t=-1,r=n[0].length,e=[];++t<r;)e[t]=0;return e}function Zi(n){for(var t,r=1,e=0,a=n[0][1],i=n.length;r<i;++r)(t=n[r][1])>a&&(e=r,a=t);return e}function Vi(n){return n.reduce(Gi,0)}function Gi(n,t){return n+t[1]}function Xi(n,t){return Ki(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ki(n,t){for(var r=-1,e=+n[0],a=(n[1]-e)/t,i=[];++r<=t;)i[r]=a*r+e;return i}function Ji(n){return[i.min(n),i.max(n)]}function Qi(n,t){return n.value-t.value}function nu(n,t){var r=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=r,r._pack_prev=t}function tu(n,t){n._pack_next=t,t._pack_prev=n}function ru(n,t){var r=t.x-n.x,e=t.y-n.y,a=n.r+t.r;return.999*a*a>r*r+e*e}function eu(n){if((t=n.children)&&(c=t.length)){var t,r,e,a,i,u,o,c,f=1/0,l=-1/0,s=1/0,h=-1/0;if(t.forEach(au),(r=t[0]).x=-r.r,r.y=0,b(r),c>1&&((e=t[1]).x=e.r,e.y=0,b(e),c>2))for(uu(r,e,a=t[2]),b(a),nu(r,a),r._pack_prev=a,nu(a,e),e=r._pack_next,i=3;i<c;i++){uu(r,e,a=t[i]);var p=0,v=1,g=1;for(u=e._pack_next;u!==e;u=u._pack_next,v++)if(ru(u,a)){p=1;break}if(1==p)for(o=r._pack_prev;o!==u._pack_prev&&!ru(o,a);o=o._pack_prev,g++);p?(v<g||v==g&&e.r<r.r?tu(r,e=u):tu(r=o,e),i--):(nu(r,a),e=a,b(a))}var d=(f+l)/2,y=(s+h)/2,m=0;for(i=0;i<c;i++)(a=t[i]).x-=d,a.y-=y,m=Math.max(m,a.r+Math.sqrt(a.x*a.x+a.y*a.y));n.r=m,t.forEach(iu)}function b(n){f=Math.min(n.x-n.r,f),l=Math.max(n.x+n.r,l),s=Math.min(n.y-n.r,s),h=Math.max(n.y+n.r,h)}}function au(n){n._pack_next=n._pack_prev=n}function iu(n){delete n._pack_next,delete n._pack_prev}function uu(n,t,r){var e=n.r+r.r,a=t.x-n.x,i=t.y-n.y;if(e&&(a||i)){var u=t.r+r.r,o=a*a+i*i,c=.5+((e*=e)-(u*=u))/(2*o),f=Math.sqrt(Math.max(0,2*u*(e+o)-(e-=o)*e-u*u))/(2*o);r.x=n.x+c*a+f*i,r.y=n.y+c*i-f*a}else r.x=n.x+e,r.y=n.y}function ou(n,t){return n.parent==t.parent?1:2}function cu(n){var t=n.children;return t.length?t[0]:n.t}function fu(n){var t,r=n.children;return(t=r.length)?r[t-1]:n.t}function lu(n,t,r){var e=r/(t.i-n.i);t.c-=e,t.s+=r,n.c+=e,t.z+=r,t.m+=r}function su(n,t,r){return n.a.parent===t.parent?n.a:r}function hu(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function pu(n,t){var r=n.x+t[3],e=n.y+t[0],a=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return a<0&&(r+=a/2,a=0),i<0&&(e+=i/2,i=0),{x:r,y:e,dx:a,dy:i}}function vu(n){var t=n[0],r=n[n.length-1];return t<r?[t,r]:[r,t]}function gu(n){return n.rangeExtent?n.rangeExtent():vu(n.range())}function du(n,t,r,e){var a=r(n[0],n[1]),i=e(t[0],t[1]);return function(n){return i(a(n))}}function yu(n,t){var r,e=0,a=n.length-1,i=n[e],u=n[a];return u<i&&(r=e,e=a,a=r,r=i,i=u,u=r),n[e]=t.floor(i),n[a]=t.ceil(u),n}function mu(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:bu}i.layout.histogram=function(){var n=!0,t=Number,r=Ji,e=Xi;function a(a,u){for(var o,c,f=[],l=a.map(t,this),s=r.call(this,l,u),h=e.call(this,s,l,u),p=(u=-1,l.length),v=h.length-1,g=n?1:1/p;++u<v;)(o=f[u]=[]).dx=h[u+1]-(o.x=h[u]),o.y=0;if(v>0)for(u=-1;++u<p;)(c=l[u])>=s[0]&&c<=s[1]&&((o=f[i.bisect(h,c,1,v)-1]).y+=g,o.push(a[u]));return f}return a.value=function(n){return arguments.length?(t=n,a):t},a.range=function(n){return arguments.length?(r=_t(n),a):r},a.bins=function(n){return arguments.length?(e="number"==typeof n?function(t){return Ki(t,n)}:_t(n),a):e},a.frequency=function(t){return arguments.length?(n=!!t,a):n},a},i.layout.pack=function(){var n,t=i.layout.hierarchy().sort(Qi),r=0,e=[1,1];function a(a,i){var u=t.call(this,a,i),o=u[0],c=e[0],f=e[1],l=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(o.x=o.y=0,Ri(o,function(n){n.r=+l(n.value)}),Ri(o,eu),r){var s=r*(n?1:Math.max(2*o.r/c,2*o.r/f))/2;Ri(o,function(n){n.r+=s}),Ri(o,eu),Ri(o,function(n){n.r-=s})}return function n(t,r,e,a){var i=t.children;t.x=r+=a*t.x;t.y=e+=a*t.y;t.r*=a;if(i)for(var u=-1,o=i.length;++u<o;)n(i[u],r,e,a)}(o,c/2,f/2,n?1:1/Math.max(2*o.r/c,2*o.r/f)),u}return a.size=function(n){return arguments.length?(e=n,a):e},a.radius=function(t){return arguments.length?(n=null==t||"function"==typeof t?t:+t,a):n},a.padding=function(n){return arguments.length?(r=+n,a):r},Li(a,t)},i.layout.tree=function(){var n=i.layout.hierarchy().sort(null).value(null),t=ou,r=[1,1],e=null;function a(a,i){var f=n.call(this,a,i),l=f[0],s=function(n){var t,r={A:null,children:[n]},e=[r];for(;null!=(t=e.pop());)for(var a,i=t.children,u=0,o=i.length;u<o;++u)e.push((i[u]=a={_:i[u],parent:t,children:(a=i[u].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=a);return r.children[0]}(l);if(Ri(s,u),s.parent.m=-s.z,Oi(s,o),e)Oi(l,c);else{var h=l,p=l,v=l;Oi(l,function(n){n.x<h.x&&(h=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var g=t(h,p)/2-h.x,d=r[0]/(p.x+t(p,h)/2+g),y=r[1]/(v.depth||1);Oi(l,function(n){n.x=(n.x+g)*d,n.y=n.depth*y})}return f}function u(n){var r=n.children,e=n.parent.children,a=n.i?e[n.i-1]:null;if(r.length){!function(n){var t,r=0,e=0,a=n.children,i=a.length;for(;--i>=0;)(t=a[i]).z+=r,t.m+=r,r+=t.s+(e+=t.c)}(n);var i=(r[0].z+r[r.length-1].z)/2;a?(n.z=a.z+t(n._,a._),n.m=n.z-i):n.z=i}else a&&(n.z=a.z+t(n._,a._));n.parent.A=function(n,r,e){if(r){for(var a,i=n,u=n,o=r,c=i.parent.children[0],f=i.m,l=u.m,s=o.m,h=c.m;o=fu(o),i=cu(i),o&&i;)c=cu(c),(u=fu(u)).a=n,(a=o.z+s-i.z-f+t(o._,i._))>0&&(lu(su(o,n,e),n,a),f+=a,l+=a),s+=o.m,f+=i.m,h+=c.m,l+=u.m;o&&!fu(u)&&(u.t=o,u.m+=s-l),i&&!cu(c)&&(c.t=i,c.m+=f-h,e=n)}return e}(n,a,n.parent.A||e[0])}function o(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function c(n){n.x*=r[0],n.y=n.depth*r[1]}return a.separation=function(n){return arguments.length?(t=n,a):t},a.size=function(n){return arguments.length?(e=null==(r=n)?c:null,a):e?null:r},a.nodeSize=function(n){return arguments.length?(e=null==(r=n)?null:c,a):e?r:null},Li(a,n)},i.layout.cluster=function(){var n=i.layout.hierarchy().sort(null).value(null),t=ou,r=[1,1],e=!1;function a(a,u){var o,c=n.call(this,a,u),f=c[0],l=0;Ri(f,function(n){var r=n.children;r&&r.length?(n.x=function(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}(r),n.y=function(n){return 1+i.max(n,function(n){return n.y})}(r)):(n.x=o?l+=t(n,o):0,n.y=0,o=n)});var s=function n(t){var r=t.children;return r&&r.length?n(r[0]):t}(f),h=function n(t){var r,e=t.children;return e&&(r=e.length)?n(e[r-1]):t}(f),p=s.x-t(s,h)/2,v=h.x+t(h,s)/2;return Ri(f,e?function(n){n.x=(n.x-f.x)*r[0],n.y=(f.y-n.y)*r[1]}:function(n){n.x=(n.x-p)/(v-p)*r[0],n.y=(1-(f.y?n.y/f.y:1))*r[1]}),c}return a.separation=function(n){return arguments.length?(t=n,a):t},a.size=function(n){return arguments.length?(e=null==(r=n),a):e?null:r},a.nodeSize=function(n){return arguments.length?(e=null!=(r=n),a):e?r:null},Li(a,n)},i.layout.treemap=function(){var n,t=i.layout.hierarchy(),r=Math.round,e=[1,1],a=null,u=hu,o=!1,c="squarify",f=.5*(1+Math.sqrt(5));function l(n,t){for(var r,e,a=-1,i=n.length;++a<i;)e=(r=n[a]).value*(t<0?0:t),r.area=isNaN(e)||e<=0?0:e}function s(n){var t=n.children;if(t&&t.length){var r,e,a,i=u(n),o=[],f=t.slice(),h=1/0,g="slice"===c?i.dx:"dice"===c?i.dy:"slice-dice"===c?1&n.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(l(f,i.dx*i.dy/n.value),o.area=0;(a=f.length)>0;)o.push(r=f[a-1]),o.area+=r.area,"squarify"!==c||(e=p(o,g))<=h?(f.pop(),h=e):(o.area-=o.pop().area,v(o,g,i,!1),g=Math.min(i.dx,i.dy),o.length=o.area=0,h=1/0);o.length&&(v(o,g,i,!0),o.length=o.area=0),t.forEach(s)}}function h(n){var t=n.children;if(t&&t.length){var r,e=u(n),a=t.slice(),i=[];for(l(a,e.dx*e.dy/n.value),i.area=0;r=a.pop();)i.push(r),i.area+=r.area,null!=r.z&&(v(i,r.z?e.dx:e.dy,e,!a.length),i.length=i.area=0);t.forEach(h)}}function p(n,t){for(var r,e=n.area,a=0,i=1/0,u=-1,o=n.length;++u<o;)(r=n[u].area)&&(r<i&&(i=r),r>a&&(a=r));return t*=t,(e*=e)?Math.max(t*a*f/e,e/(t*i*f)):1/0}function v(n,t,e,a){var i,u=-1,o=n.length,c=e.x,f=e.y,l=t?r(n.area/t):0;if(t==e.dx){for((a||l>e.dy)&&(l=e.dy);++u<o;)(i=n[u]).x=c,i.y=f,i.dy=l,c+=i.dx=Math.min(e.x+e.dx-c,l?r(i.area/l):0);i.z=!0,i.dx+=e.x+e.dx-c,e.y+=l,e.dy-=l}else{for((a||l>e.dx)&&(l=e.dx);++u<o;)(i=n[u]).x=c,i.y=f,i.dx=l,f+=i.dy=Math.min(e.y+e.dy-f,l?r(i.area/l):0);i.z=!1,i.dy+=e.y+e.dy-f,e.x+=l,e.dx-=l}}function g(r){var a=n||t(r),i=a[0];return i.x=i.y=0,i.value?(i.dx=e[0],i.dy=e[1]):i.dx=i.dy=0,n&&t.revalue(i),l([i],i.dx*i.dy/i.value),(n?h:s)(i),o&&(n=a),a}return g.size=function(n){return arguments.length?(e=n,g):e},g.padding=function(n){if(!arguments.length)return a;function t(t){return pu(t,n)}var r;return u=null==(a=n)?hu:"function"==(r=typeof n)?function(t){var r=n.call(g,t,t.depth);return null==r?hu(t):pu(t,"number"==typeof r?[r,r,r,r]:r)}:"number"===r?(n=[n,n,n,n],t):t,g},g.round=function(n){return arguments.length?(r=n?Math.round:Number,g):r!=Number},g.sticky=function(t){return arguments.length?(o=t,n=null,g):o},g.ratio=function(n){return arguments.length?(f=n,g):f},g.mode=function(n){return arguments.length?(c=n+"",g):c},Li(g,t)},i.random={normal:function(n,t){var r=arguments.length;return r<2&&(t=1),r<1&&(n=0),function(){var r,e,a;do{a=(r=2*Math.random()-1)*r+(e=2*Math.random()-1)*e}while(!a||a>1);return n+t*r*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var n=i.random.normal.apply(i,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=i.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,r=0;r<n;r++)t+=Math.random();return t}}},i.scale={};var bu={floor:T,ceil:T};function _u(n,t,r,e){var a=[],u=[],o=0,c=Math.min(n.length,t.length)-1;for(n[c]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=c;)a.push(r(n[o-1],n[o])),u.push(e(t[o-1],t[o]));return function(t){var r=i.bisect(n,t,1,c)-1;return u[r](a[r](t))}}function xu(n,t){return i.rebind(n,t,"range","rangeRound","interpolate","clamp")}function wu(n,t){return yu(n,mu(Mu(n,t)[2])),yu(n,mu(Mu(n,t)[2])),n}function Mu(n,t){null==t&&(t=10);var r=vu(n),e=r[1]-r[0],a=Math.pow(10,Math.floor(Math.log(e/t)/Math.LN10)),i=t/e*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),r[0]=Math.ceil(r[0]/a)*a,r[1]=Math.floor(r[1]/a)*a+.5*a,r[2]=a,r}function ku(n,t){return i.range.apply(i,Mu(n,t))}function Au(n,t,r){var e=Mu(n,t);if(r){var a=Tt.exec(r);if(a.shift(),"s"===a[8]){var u=i.formatPrefix(Math.max(w(e[0]),w(e[1])));return a[7]||(a[7]="."+Nu(u.scale(e[2]))),a[8]="f",r=i.format(a.join("")),function(n){return r(u.scale(n))+u.symbol}}a[7]||(a[7]="."+function(n,t){var r=Nu(t[2]);return n in Su?Math.abs(r-Nu(Math.max(w(t[0]),w(t[1]))))+ +("e"!==n):r-2*("%"===n)}(a[8],e)),r=a.join("")}else r=",."+Nu(e[2])+"f";return i.format(r)}i.scale.linear=function(){return function n(t,r,e,a){var i,u;function o(){var n=Math.min(t.length,r.length)>2?_u:du,o=a?wi:xi;return i=n(t,r,o,e),u=n(r,t,o,ni),c}function c(n){return i(n)}c.invert=function(n){return u(n)};c.domain=function(n){return arguments.length?(t=n.map(Number),o()):t};c.range=function(n){return arguments.length?(r=n,o()):r};c.rangeRound=function(n){return c.range(n).interpolate(vi)};c.clamp=function(n){return arguments.length?(a=n,o()):a};c.interpolate=function(n){return arguments.length?(e=n,o()):e};c.ticks=function(n){return ku(t,n)};c.tickFormat=function(n,r){return Au(t,n,r)};c.nice=function(n){return wu(t,n),o()};c.copy=function(){return n(t,r,e,a)};return o()}([0,1],[0,1],ni,!1)};var Su={s:1,g:1,p:1,r:1,e:1};function Nu(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}i.scale.log=function(){return function n(t,r,e,a){function u(n){return(e?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(r)}function o(n){return e?Math.pow(r,n):-Math.pow(r,-n)}function c(n){return t(u(n))}c.invert=function(n){return o(t.invert(n))};c.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((a=n.map(Number)).map(u)),c):a};c.base=function(n){return arguments.length?(r=+n,t.domain(a.map(u)),c):r};c.nice=function(){var n=yu(a.map(u),e?Math:Cu);return t.domain(n),a=n.map(o),c};c.ticks=function(){var n=vu(a),t=[],i=n[0],c=n[1],f=Math.floor(u(i)),l=Math.ceil(u(c)),s=r%1?2:r;if(isFinite(l-f)){if(e){for(;f<l;f++)for(var h=1;h<s;h++)t.push(o(f)*h);t.push(o(f))}else for(t.push(o(f));f++<l;)for(var h=s-1;h>0;h--)t.push(o(f)*h);for(f=0;t[f]<i;f++);for(l=t.length;t[l-1]>c;l--);t=t.slice(f,l)}return t};c.tickFormat=function(n,t){if(!arguments.length)return Eu;arguments.length<2?t=Eu:"function"!=typeof t&&(t=i.format(t));var e=Math.max(1,r*n/c.ticks().length);return function(n){var a=n/o(Math.round(u(n)));return a*r<r-.5&&(a*=r),a<=e?t(n):""}};c.copy=function(){return n(t.copy(),r,e,a)};return xu(c,t)}(i.scale.linear().domain([0,1]),10,!0,[1,10])};var Eu=i.format(".0e"),Cu={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};function ju(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}i.scale.pow=function(){return function n(t,r,e){var a=ju(r),i=ju(1/r);function u(n){return t(a(n))}u.invert=function(n){return i(t.invert(n))};u.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(a)),u):e};u.ticks=function(n){return ku(e,n)};u.tickFormat=function(n,t){return Au(e,n,t)};u.nice=function(n){return u.domain(wu(e,n))};u.exponent=function(n){return arguments.length?(a=ju(r=n),i=ju(1/r),t.domain(e.map(a)),u):r};u.copy=function(){return n(t.copy(),r,e)};return xu(u,t)}(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return function n(t,r){var e,a,u;function o(n){return a[((e.get(n)||("range"===r.t?e.set(n,t.push(n)):NaN))-1)%a.length]}function c(n,r){return i.range(t.length).map(function(t){return n+r*t})}o.domain=function(n){if(!arguments.length)return t;t=[],e=new k;for(var a,i=-1,u=n.length;++i<u;)e.has(a=n[i])||e.set(a,t.push(a));return o[r.t].apply(o,r.a)};o.range=function(n){return arguments.length?(a=n,u=0,r={t:"range",a:arguments},o):a};o.rangePoints=function(n,e){arguments.length<2&&(e=0);var i=n[0],f=n[1],l=t.length<2?(i=(i+f)/2,0):(f-i)/(t.length-1+e);return a=c(i+l*e/2,l),u=0,r={t:"rangePoints",a:arguments},o};o.rangeRoundPoints=function(n,e){arguments.length<2&&(e=0);var i=n[0],f=n[1],l=t.length<2?(i=f=Math.round((i+f)/2),0):(f-i)/(t.length-1+e)|0;return a=c(i+Math.round(l*e/2+(f-i-(t.length-1+e)*l)/2),l),u=0,r={t:"rangeRoundPoints",a:arguments},o};o.rangeBands=function(n,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var f=n[1]<n[0],l=n[f-0],s=n[1-f],h=(s-l)/(t.length-e+2*i);return a=c(l+h*i,h),f&&a.reverse(),u=h*(1-e),r={t:"rangeBands",a:arguments},o};o.rangeRoundBands=function(n,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var f=n[1]<n[0],l=n[f-0],s=n[1-f],h=Math.floor((s-l)/(t.length-e+2*i));return a=c(l+Math.round((s-l-(t.length-e)*h)/2),h),f&&a.reverse(),u=Math.round(h*(1-e)),r={t:"rangeRoundBands",a:arguments},o};o.rangeBand=function(){return u};o.rangeExtent=function(){return vu(r.a[0])};o.copy=function(){return n(t,r)};return o.domain(t)}([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(zu)},i.scale.category20=function(){return i.scale.ordinal().range(Lu)},i.scale.category20b=function(){return i.scale.ordinal().range(Ou)},i.scale.category20c=function(){return i.scale.ordinal().range(Ru)};var zu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),Lu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),Ou=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),Ru=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);function Tu(){return 0}i.scale.quantile=function(){return function n(t,r){var e;function a(){var n=0,a=r.length;for(e=[];++n<a;)e[n-1]=i.quantile(t,n/a);return u}function u(n){if(!isNaN(n=+n))return r[i.bisect(e,n)]}u.domain=function(n){return arguments.length?(t=n.map(y).filter(m).sort(d),a()):t};u.range=function(n){return arguments.length?(r=n,a()):r};u.quantiles=function(){return e};u.invertExtent=function(n){return(n=r.indexOf(n))<0?[NaN,NaN]:[n>0?e[n-1]:t[0],n<e.length?e[n]:t[t.length-1]]};u.copy=function(){return n(t,r)};return a()}([],[])},i.scale.quantize=function(){return function n(t,r,e){var a,i;function u(n){return e[Math.max(0,Math.min(i,Math.floor(a*(n-t))))]}function o(){return a=e.length/(r-t),i=e.length-1,u}u.domain=function(n){return arguments.length?(t=+n[0],r=+n[n.length-1],o()):[t,r]};u.range=function(n){return arguments.length?(e=n,o()):e};u.invertExtent=function(n){return[n=(n=e.indexOf(n))<0?NaN:n/a+t,n+1/a]};u.copy=function(){return n(t,r,e)};return o()}(0,1,[0,1])},i.scale.threshold=function(){return function n(t,r){function e(n){if(n<=n)return r[i.bisect(t,n)]}e.domain=function(n){return arguments.length?(t=n,e):t};e.range=function(n){return arguments.length?(r=n,e):r};e.invertExtent=function(n){return n=r.indexOf(n),[t[n-1],t[n]]};e.copy=function(){return n(t,r)};return e}([.5],[0,1])},i.scale.identity=function(){return function n(t){function r(n){return+n}r.invert=r;r.domain=r.range=function(n){return arguments.length?(t=n.map(r),r):t};r.ticks=function(n){return ku(t,n)};r.tickFormat=function(n,r){return Au(t,n,r)};r.copy=function(){return n(t)};return r}([0,1])},i.svg={},i.svg.arc=function(){var n=Iu,t=Du,r=Tu,e=qu,a=Pu,i=Fu,u=Uu;function o(){var o=Math.max(0,+n.apply(this,arguments)),f=Math.max(0,+t.apply(this,arguments)),l=a.apply(this,arguments)-Ln,s=i.apply(this,arguments)-Ln,h=Math.abs(s-l),p=l>s?0:1;if(f<o&&(v=f,f=o,o=v),h>=zn)return c(f,p)+(o?c(o,1-p):"")+"Z";var v,g,d,y,m,b,_,x,w,M,k,A,S=0,N=0,E=[];if((y=(+u.apply(this,arguments)||0)/2)&&(d=e===qu?Math.sqrt(o*o+f*f):+e.apply(this,arguments),p||(N*=-1),f&&(N=Dn(d/f*Math.sin(y))),o&&(S=Dn(d/o*Math.sin(y)))),f){m=f*Math.cos(l+N),b=f*Math.sin(l+N),_=f*Math.cos(s-N),x=f*Math.sin(s-N);var C=Math.abs(s-l-2*N)<=Cn?0:1;if(N&&Bu(m,b,_,x)===p^C){var j=(l+s)/2;m=f*Math.cos(j),b=f*Math.sin(j),_=x=null}}else m=b=0;if(o){w=o*Math.cos(s-S),M=o*Math.sin(s-S),k=o*Math.cos(l+S),A=o*Math.sin(l+S);var z=Math.abs(l-s+2*S)<=Cn?0:1;if(S&&Bu(w,M,k,A)===1-p^z){var L=(l+s)/2;w=o*Math.cos(L),M=o*Math.sin(L),k=A=null}}else w=M=0;if(h>Nn&&(v=Math.min(Math.abs(f-o)/2,+r.apply(this,arguments)))>.001){g=o<f^p?0:1;var O=v,R=v;if(h<Cn){var T=null==k?[w,M]:null==_?[m,b]:ha([m,b],[k,A],[_,x],[w,M]),q=m-T[0],I=b-T[1],D=_-T[0],P=x-T[1],F=1/Math.sin(Math.acos((q*D+I*P)/(Math.sqrt(q*q+I*I)*Math.sqrt(D*D+P*P)))/2),U=Math.sqrt(T[0]*T[0]+T[1]*T[1]);R=Math.min(v,(o-U)/(F-1)),O=Math.min(v,(f-U)/(F+1))}if(null!=_){var B=Wu(null==k?[w,M]:[k,A],[m,b],f,O,p),W=Wu([_,x],[w,M],f,O,p);v===O?E.push("M",B[0],"A",O,",",O," 0 0,",g," ",B[1],"A",f,",",f," 0 ",1-p^Bu(B[1][0],B[1][1],W[1][0],W[1][1]),",",p," ",W[1],"A",O,",",O," 0 0,",g," ",W[0]):E.push("M",B[0],"A",O,",",O," 0 1,",g," ",W[0])}else E.push("M",m,",",b);if(null!=k){var Y=Wu([m,b],[k,A],o,-R,p),$=Wu([w,M],null==_?[m,b]:[_,x],o,-R,p);v===R?E.push("L",$[0],"A",R,",",R," 0 0,",g," ",$[1],"A",o,",",o," 0 ",p^Bu($[1][0],$[1][1],Y[1][0],Y[1][1]),",",1-p," ",Y[1],"A",R,",",R," 0 0,",g," ",Y[0]):E.push("L",$[0],"A",R,",",R," 0 0,",g," ",Y[0])}else E.push("L",w,",",M)}else E.push("M",m,",",b),null!=_&&E.push("A",f,",",f," 0 ",C,",",p," ",_,",",x),E.push("L",w,",",M),null!=k&&E.push("A",o,",",o," 0 ",z,",",1-p," ",k,",",A);return E.push("Z"),E.join("")}function c(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}return o.innerRadius=function(t){return arguments.length?(n=_t(t),o):n},o.outerRadius=function(n){return arguments.length?(t=_t(n),o):t},o.cornerRadius=function(n){return arguments.length?(r=_t(n),o):r},o.padRadius=function(n){return arguments.length?(e=n==qu?qu:_t(n),o):e},o.startAngle=function(n){return arguments.length?(a=_t(n),o):a},o.endAngle=function(n){return arguments.length?(i=_t(n),o):i},o.padAngle=function(n){return arguments.length?(u=_t(n),o):u},o.centroid=function(){var r=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Ln;return[Math.cos(e)*r,Math.sin(e)*r]},o};var qu="auto";function Iu(n){return n.innerRadius}function Du(n){return n.outerRadius}function Pu(n){return n.startAngle}function Fu(n){return n.endAngle}function Uu(n){return n&&n.padAngle}function Bu(n,t,r,e){return(n-r)*t-(t-e)*n>0?0:1}function Wu(n,t,r,e,a){var i=n[0]-t[0],u=n[1]-t[1],o=(a?e:-e)/Math.sqrt(i*i+u*u),c=o*u,f=-o*i,l=n[0]+c,s=n[1]+f,h=t[0]+c,p=t[1]+f,v=(l+h)/2,g=(s+p)/2,d=h-l,y=p-s,m=d*d+y*y,b=r-e,_=l*p-h*s,x=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-_*_)),w=(_*y-d*x)/m,M=(-_*d-y*x)/m,k=(_*y+d*x)/m,A=(-_*d+y*x)/m,S=w-v,N=M-g,E=k-v,C=A-g;return S*S+N*N>E*E+C*C&&(w=k,M=A),[[w-c,M-f],[w*r/b,M*r/b]]}function Yu(n){var t=ua,r=oa,e=Jr,a=Hu,i=a.key,u=.7;function o(i){var o,c=[],f=[],l=-1,s=i.length,h=_t(t),p=_t(r);function v(){c.push("M",a(n(f),u))}for(;++l<s;)e.call(this,o=i[l],l)?f.push([+h.call(this,o,l),+p.call(this,o,l)]):f.length&&(v(),f=[]);return f.length&&v(),c.length?c.join(""):null}return o.x=function(n){return arguments.length?(t=n,o):t},o.y=function(n){return arguments.length?(r=n,o):r},o.defined=function(n){return arguments.length?(e=n,o):e},o.interpolate=function(n){return arguments.length?(i="function"==typeof n?a=n:(a=$u.get(n)||Hu).key,o):i},o.tension=function(n){return arguments.length?(u=n,o):u},o}i.svg.line=function(){return Yu(T)};var $u=i.map({linear:Hu,"linear-closed":Zu,step:function(n){var t=0,r=n.length,e=n[0],a=[e[0],",",e[1]];for(;++t<r;)a.push("H",(e[0]+(e=n[t])[0])/2,"V",e[1]);r>1&&a.push("H",e[0]);return a.join("")},"step-before":Vu,"step-after":Gu,basis:Ju,"basis-open":function(n){if(n.length<4)return Hu(n);var t,r=[],e=-1,a=n.length,i=[0],u=[0];for(;++e<3;)t=n[e],i.push(t[0]),u.push(t[1]);r.push(Qu(ro,i)+","+Qu(ro,u)),--e;for(;++e<a;)t=n[e],i.shift(),i.push(t[0]),u.shift(),u.push(t[1]),eo(r,i,u);return r.join("")},"basis-closed":function(n){var t,r,e=-1,a=n.length,i=a+4,u=[],o=[];for(;++e<4;)r=n[e%a],u.push(r[0]),o.push(r[1]);t=[Qu(ro,u),",",Qu(ro,o)],--e;for(;++e<i;)r=n[e%a],u.shift(),u.push(r[0]),o.shift(),o.push(r[1]),eo(t,u,o);return t.join("")},bundle:function(n,t){var r=n.length-1;if(r)for(var e,a,i=n[0][0],u=n[0][1],o=n[r][0]-i,c=n[r][1]-u,f=-1;++f<=r;)e=n[f],a=f/r,e[0]=t*e[0]+(1-t)*(i+a*o),e[1]=t*e[1]+(1-t)*(u+a*c);return Ju(n)},cardinal:function(n,t){return n.length<3?Hu(n):n[0]+Xu(n,Ku(n,t))},"cardinal-open":function(n,t){return n.length<4?Hu(n):n[1]+Xu(n.slice(1,-1),Ku(n,t))},"cardinal-closed":function(n,t){return n.length<3?Zu(n):n[0]+Xu((n.push(n[0]),n),Ku([n[n.length-2]].concat(n,[n[1]]),t))},monotone:function(n){return n.length<3?Hu(n):n[0]+Xu(n,function(n){var t,r,e,a,i=[],u=function(n){var t=0,r=n.length-1,e=[],a=n[0],i=n[1],u=e[0]=ao(a,i);for(;++t<r;)e[t]=(u+(u=ao(a=i,i=n[t+1])))/2;return e[t]=u,e}(n),o=-1,c=n.length-1;for(;++o<c;)t=ao(n[o],n[o+1]),w(t)<Nn?u[o]=u[o+1]=0:(r=u[o]/t,e=u[o+1]/t,(a=r*r+e*e)>9&&(a=3*t/Math.sqrt(a),u[o]=a*r,u[o+1]=a*e));o=-1;for(;++o<=c;)a=(n[Math.min(c,o+1)][0]-n[Math.max(0,o-1)][0])/(6*(1+u[o]*u[o])),i.push([a||0,u[o]*a||0]);return i}(n))}});function Hu(n){return n.length>1?n.join("L"):n+"Z"}function Zu(n){return n.join("L")+"Z"}function Vu(n){for(var t=0,r=n.length,e=n[0],a=[e[0],",",e[1]];++t<r;)a.push("V",(e=n[t])[1],"H",e[0]);return a.join("")}function Gu(n){for(var t=0,r=n.length,e=n[0],a=[e[0],",",e[1]];++t<r;)a.push("H",(e=n[t])[0],"V",e[1]);return a.join("")}function Xu(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return Hu(n);var r=n.length!=t.length,e="",a=n[0],i=n[1],u=t[0],o=u,c=1;if(r&&(e+="Q"+(i[0]-2*u[0]/3)+","+(i[1]-2*u[1]/3)+","+i[0]+","+i[1],a=n[1],c=2),t.length>1){o=t[1],i=n[c],c++,e+="C"+(a[0]+u[0])+","+(a[1]+u[1])+","+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1];for(var f=2;f<t.length;f++,c++)i=n[c],o=t[f],e+="S"+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1]}if(r){var l=n[c];e+="Q"+(i[0]+2*o[0]/3)+","+(i[1]+2*o[1]/3)+","+l[0]+","+l[1]}return e}function Ku(n,t){for(var r,e=[],a=(1-t)/2,i=n[0],u=n[1],o=1,c=n.length;++o<c;)r=i,i=u,u=n[o],e.push([a*(u[0]-r[0]),a*(u[1]-r[1])]);return e}function Ju(n){if(n.length<3)return Hu(n);var t=1,r=n.length,e=n[0],a=e[0],i=e[1],u=[a,a,a,(e=n[1])[0]],o=[i,i,i,e[1]],c=[a,",",i,"L",Qu(ro,u),",",Qu(ro,o)];for(n.push(n[r-1]);++t<=r;)e=n[t],u.shift(),u.push(e[0]),o.shift(),o.push(e[1]),eo(c,u,o);return n.pop(),c.push("L",e),c.join("")}function Qu(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}$u.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var no=[0,2/3,1/3,0],to=[0,1/3,2/3,0],ro=[0,1/6,2/3,1/6];function eo(n,t,r){n.push("C",Qu(no,t),",",Qu(no,r),",",Qu(to,t),",",Qu(to,r),",",Qu(ro,t),",",Qu(ro,r))}function ao(n,t){return(t[1]-n[1])/(t[0]-n[0])}function io(n){for(var t,r,e,a=-1,i=n.length;++a<i;)r=(t=n[a])[0],e=t[1]-Ln,t[0]=r*Math.cos(e),t[1]=r*Math.sin(e);return n}function uo(n){var t=ua,r=ua,e=0,a=oa,i=Jr,u=Hu,o=u.key,c=u,f="L",l=.7;function s(o){var s,h,p,v=[],g=[],d=[],y=-1,m=o.length,b=_t(t),_=_t(e),x=t===r?function(){return h}:_t(r),w=e===a?function(){return p}:_t(a);function M(){v.push("M",u(n(d),l),f,c(n(g.reverse()),l),"Z")}for(;++y<m;)i.call(this,s=o[y],y)?(g.push([h=+b.call(this,s,y),p=+_.call(this,s,y)]),d.push([+x.call(this,s,y),+w.call(this,s,y)])):g.length&&(M(),g=[],d=[]);return g.length&&M(),v.length?v.join(""):null}return s.x=function(n){return arguments.length?(t=r=n,s):r},s.x0=function(n){return arguments.length?(t=n,s):t},s.x1=function(n){return arguments.length?(r=n,s):r},s.y=function(n){return arguments.length?(e=a=n,s):a},s.y0=function(n){return arguments.length?(e=n,s):e},s.y1=function(n){return arguments.length?(a=n,s):a},s.defined=function(n){return arguments.length?(i=n,s):i},s.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=$u.get(n)||Hu).key,c=u.reverse||u,f=u.closed?"M":"L",s):o},s.tension=function(n){return arguments.length?(l=n,s):l},s}function oo(n){return n.radius}function co(n){return[n.x,n.y]}function fo(){return 64}function lo(){return"circle"}function so(n){var t=Math.sqrt(n/Cn);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}i.svg.line.radial=function(){var n=Yu(io);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},Vu.reverse=Gu,Gu.reverse=Vu,i.svg.area=function(){return uo(T)},i.svg.area.radial=function(){var n=uo(io);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},i.svg.chord=function(){var n=He,t=Ze,r=oo,e=Pu,a=Fu;function i(r,e){var a,i,f=u(this,n,r,e),l=u(this,t,r,e);return"M"+f.p0+o(f.r,f.p1,f.a1-f.a0)+(i=l,(a=f).a0==i.a0&&a.a1==i.a1?c(f.r,f.p1,f.r,f.p0):c(f.r,f.p1,l.r,l.p0)+o(l.r,l.p1,l.a1-l.a0)+c(l.r,l.p1,f.r,f.p0))+"Z"}function u(n,t,i,u){var o=t.call(n,i,u),c=r.call(n,o,u),f=e.call(n,o,u)-Ln,l=a.call(n,o,u)-Ln;return{r:c,a0:f,a1:l,p0:[c*Math.cos(f),c*Math.sin(f)],p1:[c*Math.cos(l),c*Math.sin(l)]}}function o(n,t,r){return"A"+n+","+n+" 0 "+ +(r>Cn)+",1 "+t}function c(n,t,r,e){return"Q 0,0 "+e}return i.radius=function(n){return arguments.length?(r=_t(n),i):r},i.source=function(t){return arguments.length?(n=_t(t),i):n},i.target=function(n){return arguments.length?(t=_t(n),i):t},i.startAngle=function(n){return arguments.length?(e=_t(n),i):e},i.endAngle=function(n){return arguments.length?(a=_t(n),i):a},i},i.svg.diagonal=function(){var n=He,t=Ze,r=co;function e(e,a){var i=n.call(this,e,a),u=t.call(this,e,a),o=(i.y+u.y)/2,c=[i,{x:i.x,y:o},{x:u.x,y:o},u];return"M"+(c=c.map(r))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return e.source=function(t){return arguments.length?(n=_t(t),e):n},e.target=function(n){return arguments.length?(t=_t(n),e):t},e.projection=function(n){return arguments.length?(r=n,e):r},e},i.svg.diagonal.radial=function(){var n=i.svg.diagonal(),t=co,r=n.projection;return n.projection=function(n){return arguments.length?r(function(n){return function(){var t=n.apply(this,arguments),r=t[0],e=t[1]-Ln;return[r*Math.cos(e),r*Math.sin(e)]}}(t=n)):t},n},i.svg.symbol=function(){var n=lo,t=fo;function r(r,e){return(ho.get(n.call(this,r,e))||so)(t.call(this,r,e))}return r.type=function(t){return arguments.length?(n=_t(t),r):n},r.size=function(n){return arguments.length?(t=_t(n),r):t},r};var ho=i.map({circle:so,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*vo)),r=t*vo;return"M0,"+-t+"L"+r+",0 0,"+t+" "+-r+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/po),r=t*po/2;return"M0,"+r+"L"+t+","+-r+" "+-t+","+-r+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/po),r=t*po/2;return"M0,"+-r+"L"+t+","+r+" "+-t+","+r+"Z"}});i.svg.symbolTypes=ho.keys();var po=Math.sqrt(3),vo=Math.tan(30*On);K.transition=function(n){for(var t,r,e=bo||++wo,a=Ao(n),i=[],u=_o||{time:Date.now(),ease:fi,delay:0,duration:250},o=-1,c=this.length;++o<c;){i.push(t=[]);for(var f=this[o],l=-1,s=f.length;++l<s;)(r=f[l])&&So(r,l,a,e,u),t.push(r)}return mo(i,a,e)},K.interrupt=function(n){return this.each(null==n?go:yo(Ao(n)))};var go=yo(Ao());function yo(n){return function(){var t,r,e;(t=this[n])&&(e=t[r=t.active])&&(e.timer.c=null,e.timer.t=NaN,--t.count?delete t[r]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function mo(n,t,r){return H(n,xo),n.namespace=t,n.id=r,n}var bo,_o,xo=[],wo=0;function Mo(n,t,r,e){var a=n.id,i=n.namespace;return vn(n,"function"==typeof r?function(n,u,o){n[i][a].tween.set(t,e(r.call(n,n.__data__,u,o)))}:(r=e(r),function(n){n[i][a].tween.set(t,r)}))}function ko(n){return null==n&&(n=""),function(){this.textContent=n}}function Ao(n){return null==n?"__transition__":"__transition_"+n+"__"}function So(n,t,r,e,a){var i,u,o,c,f,l=n[r]||(n[r]={active:0,count:0}),s=l[e];function h(r){var a=l.active,h=l[a];for(var v in h&&(h.timer.c=null,h.timer.t=NaN,--l.count,delete l[a],h.event&&h.event.interrupt.call(n,n.__data__,h.index)),l)if(+v<e){var g=l[v];g.timer.c=null,g.timer.t=NaN,--l.count,delete l[v]}u.c=p,Et(function(){return u.c&&p(r||1)&&(u.c=null,u.t=NaN),1},0,i),l.active=e,s.event&&s.event.start.call(n,n.__data__,t),f=[],s.tween.forEach(function(r,e){(e=e.call(n,n.__data__,t))&&f.push(e)}),c=s.ease,o=s.duration}function p(a){for(var i=a/o,u=c(i),h=f.length;h>0;)f[--h].call(n,u);if(i>=1)return s.event&&s.event.end.call(n,n.__data__,t),--l.count?delete l[e]:delete n[r],1}s||(i=a.time,u=Et(function(n){var t=s.delay;if(u.t=t+i,t<=n)return h(n-t);u.c=h},0,i),s=l[e]={tween:new k,time:i,timer:u,delay:a.delay,duration:a.duration,ease:a.ease,index:t},a=null,++l.count)}xo.call=K.call,xo.empty=K.empty,xo.node=K.node,xo.size=K.size,i.transition=function(n,t){return n&&n.transition?bo?n.transition(t):n:i.selection().transition(n)},i.transition.prototype=xo,xo.select=function(n){var t,r,e,a=this.id,i=this.namespace,u=[];n=J(n);for(var o=-1,c=this.length;++o<c;){u.push(t=[]);for(var f=this[o],l=-1,s=f.length;++l<s;)(e=f[l])&&(r=n.call(e,e.__data__,l,o))?("__data__"in e&&(r.__data__=e.__data__),So(r,l,i,a,e[i][a]),t.push(r)):t.push(null)}return mo(u,i,a)},xo.selectAll=function(n){var t,r,e,a,i,u=this.id,o=this.namespace,c=[];n=Q(n);for(var f=-1,l=this.length;++f<l;)for(var s=this[f],h=-1,p=s.length;++h<p;)if(e=s[h]){i=e[o][u],r=n.call(e,e.__data__,h,f),c.push(t=[]);for(var v=-1,g=r.length;++v<g;)(a=r[v])&&So(a,v,o,u,i),t.push(a)}return mo(c,o,u)},xo.filter=function(n){var t,r,e=[];"function"!=typeof n&&(n=pn(n));for(var a=0,i=this.length;a<i;a++){e.push(t=[]);for(var u,o=0,c=(u=this[a]).length;o<c;o++)(r=u[o])&&n.call(r,r.__data__,o,a)&&t.push(r)}return mo(e,this.namespace,this.id)},xo.tween=function(n,t){var r=this.id,e=this.namespace;return arguments.length<2?this.node()[e][r].tween.get(n):vn(this,null==t?function(t){t[e][r].tween.remove(n)}:function(a){a[e][r].tween.set(n,t)})},xo.attr=function(n,t){if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var r="transform"==n?_i:ni,e=i.ns.qualify(n);function a(){this.removeAttribute(e)}function u(){this.removeAttributeNS(e.space,e.local)}return Mo(this,"attr."+n,t,e.local?function(n){return null==n?u:(n+="",function(){var t,a=this.getAttributeNS(e.space,e.local);return a!==n&&(t=r(a,n),function(n){this.setAttributeNS(e.space,e.local,t(n))})})}:function(n){return null==n?a:(n+="",function(){var t,a=this.getAttribute(e);return a!==n&&(t=r(a,n),function(n){this.setAttribute(e,t(n))})})})},xo.attrTween=function(n,t){var r=i.ns.qualify(n);return this.tween("attr."+n,r.local?function(n,e){var a=t.call(this,n,e,this.getAttributeNS(r.space,r.local));return a&&function(n){this.setAttributeNS(r.space,r.local,a(n))}}:function(n,e){var a=t.call(this,n,e,this.getAttribute(r));return a&&function(n){this.setAttribute(r,a(n))}})},xo.style=function(n,t,r){var e=arguments.length;if(e<3){if("string"!=typeof n){for(r in e<2&&(t=""),n)this.style(r,n[r],t);return this}r=""}function a(){this.style.removeProperty(n)}return Mo(this,"style."+n,t,function(t){return null==t?a:(t+="",function(){var e,a=l(this).getComputedStyle(this,null).getPropertyValue(n);return a!==t&&(e=ni(a,t),function(t){this.style.setProperty(n,e(t),r)})})})},xo.styleTween=function(n,t,r){return arguments.length<3&&(r=""),this.tween("style."+n,function(e,a){var i=t.call(this,e,a,l(this).getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),r)}})},xo.text=function(n){return Mo(this,"text",n,ko)},xo.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},xo.ease=function(n){var t=this.id,r=this.namespace;return arguments.length<1?this.node()[r][t].ease:("function"!=typeof n&&(n=i.ease.apply(i,arguments)),vn(this,function(e){e[r][t].ease=n}))},xo.delay=function(n){var t=this.id,r=this.namespace;return arguments.length<1?this.node()[r][t].delay:vn(this,"function"==typeof n?function(e,a,i){e[r][t].delay=+n.call(e,e.__data__,a,i)}:(n=+n,function(e){e[r][t].delay=n}))},xo.duration=function(n){var t=this.id,r=this.namespace;return arguments.length<1?this.node()[r][t].duration:vn(this,"function"==typeof n?function(e,a,i){e[r][t].duration=Math.max(1,n.call(e,e.__data__,a,i))}:(n=Math.max(1,n),function(e){e[r][t].duration=n}))},xo.each=function(n,t){var r=this.id,e=this.namespace;if(arguments.length<2){var a=_o,u=bo;try{bo=r,vn(this,function(t,a,i){_o=t[e][r],n.call(t,t.__data__,a,i)})}finally{_o=a,bo=u}}else vn(this,function(a){var u=a[e][r];(u.event||(u.event=i.dispatch("start","end","interrupt"))).on(n,t)});return this},xo.transition=function(){for(var n,t,r,e=this.id,a=++wo,i=this.namespace,u=[],o=0,c=this.length;o<c;o++){u.push(n=[]);for(var f,l=0,s=(f=this[o]).length;l<s;l++)(t=f[l])&&So(t,l,i,a,{time:(r=t[i][e]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),n.push(t)}return mo(u,i,a)},i.svg.axis=function(){var n,t=i.scale.linear(),r=No,e=6,a=6,u=3,c=[10],f=null;function l(o){o.each(function(){var o,l=i.select(this),s=this.__chart__||t,h=this.__chart__=t.copy(),p=null==f?h.ticks?h.ticks.apply(h,c):h.domain():f,v=null==n?h.tickFormat?h.tickFormat.apply(h,c):T:n,g=l.selectAll(".tick").data(p,h),d=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Nn),y=i.transition(g.exit()).style("opacity",Nn).remove(),m=i.transition(g.order()).style("opacity",1),b=Math.max(e,0)+u,_=gu(h),x=l.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),i.transition(x));d.append("line"),d.append("text");var M,k,A,S,N=d.select("line"),E=m.select("line"),C=g.select("text").text(v),j=d.select("text"),z=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(o=Co,M="x",A="y",k="x2",S="y2",C.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+L*a+"V0H"+_[1]+"V"+L*a)):(o=jo,M="y",A="x",k="y2",S="x2",C.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),w.attr("d","M"+L*a+","+_[0]+"H0V"+_[1]+"H"+L*a)),N.attr(S,L*e),j.attr(A,L*b),E.attr(k,0).attr(S,L*e),z.attr(M,0).attr(A,L*b),h.rangeBand){var O=h,R=O.rangeBand()/2;s=h=function(n){return O(n)+R}}else s.rangeBand?s=h:y.call(o,h,s);d.call(o,s,h),m.call(o,h,h)})}return l.scale=function(n){return arguments.length?(t=n,l):t},l.orient=function(n){return arguments.length?(r=n in Eo?n+"":No,l):r},l.ticks=function(){return arguments.length?(c=o(arguments),l):c},l.tickValues=function(n){return arguments.length?(f=n,l):f},l.tickFormat=function(t){return arguments.length?(n=t,l):n},l.tickSize=function(n){var t=arguments.length;return t?(e=+n,a=+arguments[t-1],l):e},l.innerTickSize=function(n){return arguments.length?(e=+n,l):e},l.outerTickSize=function(n){return arguments.length?(a=+n,l):a},l.tickPadding=function(n){return arguments.length?(u=+n,l):u},l.tickSubdivide=function(){return arguments.length&&l},l};var No="bottom",Eo={top:1,right:1,bottom:1,left:1};function Co(n,t,r){n.attr("transform",function(n){var e=t(n);return"translate("+(isFinite(e)?e:r(n))+",0)"})}function jo(n,t,r){n.attr("transform",function(n){var e=t(n);return"translate(0,"+(isFinite(e)?e:r(n))+")"})}i.svg.brush=function(){var n,t,r=Y(h,"brushstart","brush","brushend"),e=null,a=null,u=[0,0],o=[0,0],c=!0,f=!0,s=Lo[0];function h(n){n.each(function(){var n=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d),t=n.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=n.selectAll(".resize").data(s,T);r.exit().remove(),r.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return zo[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var u,o=i.transition(n),c=i.transition(t);e&&(u=gu(e),c.attr("x",u[0]).attr("width",u[1]-u[0]),v(o)),a&&(u=gu(a),c.attr("y",u[0]).attr("height",u[1]-u[0]),g(o)),p(o)})}function p(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+u[+/e$/.test(n)]+","+o[+/^s/.test(n)]+")"})}function v(n){n.select(".extent").attr("x",u[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function g(n){n.select(".extent").attr("y",o[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function d(){var s,d,y=this,m=i.select(i.event.target),b=r.of(y,arguments),_=i.select(y),x=m.datum(),w=!/^(n|s)$/.test(x)&&e,M=!/^(e|w)$/.test(x)&&a,k=m.classed("extent"),A=Mn(y),S=i.mouse(y),N=i.select(l(y)).on("keydown.brush",function(){32==i.event.keyCode&&(k||(s=null,S[0]-=u[1],S[1]-=o[1],k=2),B())}).on("keyup.brush",function(){32==i.event.keyCode&&2==k&&(S[0]+=u[1],S[1]+=o[1],k=0,B())});if(i.event.changedTouches?N.on("touchmove.brush",j).on("touchend.brush",L):N.on("mousemove.brush",j).on("mouseup.brush",L),_.interrupt().selectAll("*").interrupt(),k)S[0]=u[0]-S[0],S[1]=o[0]-S[1];else if(x){var E=+/w$/.test(x),C=+/^n/.test(x);d=[u[1-E]-S[0],o[1-C]-S[1]],S[0]=u[E],S[1]=o[C]}else i.event.altKey&&(s=S.slice());function j(){var n=i.mouse(y),t=!1;d&&(n[0]+=d[0],n[1]+=d[1]),k||(i.event.altKey?(s||(s=[(u[0]+u[1])/2,(o[0]+o[1])/2]),S[0]=u[+(n[0]<s[0])],S[1]=o[+(n[1]<s[1])]):s=null),w&&z(n,e,0)&&(v(_),t=!0),M&&z(n,a,1)&&(g(_),t=!0),t&&(p(_),b({type:"brush",mode:k?"move":"resize"}))}function z(r,e,a){var i,l,h=gu(e),p=h[0],v=h[1],g=S[a],d=a?o:u,y=d[1]-d[0];if(k&&(p-=g,v-=y+g),i=(a?f:c)?Math.max(p,Math.min(v,r[a])):r[a],k?l=(i+=g)+y:(s&&(g=Math.max(p,Math.min(v,2*s[a]-i))),g<i?(l=i,i=g):l=g),d[0]!=i||d[1]!=l)return a?t=null:n=null,d[0]=i,d[1]=l,!0}function L(){j(),_.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),i.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",m.style("cursor")),b({type:"brushstart"}),j()}return h.event=function(e){e.each(function(){var e=r.of(this,arguments),a={x:u,y:o,i:n,j:t},c=this.__chart__||a;this.__chart__=a,bo?i.select(this).transition().each("start.brush",function(){n=c.i,t=c.j,u=c.x,o=c.y,e({type:"brushstart"})}).tween("brush:brush",function(){var r=ti(u,a.x),i=ti(o,a.y);return n=t=null,function(n){u=a.x=r(n),o=a.y=i(n),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){n=a.i,t=a.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},h.x=function(n){return arguments.length?(s=Lo[!(e=n)<<1|!a],h):e},h.y=function(n){return arguments.length?(s=Lo[!e<<1|!(a=n)],h):a},h.clamp=function(n){return arguments.length?(e&&a?(c=!!n[0],f=!!n[1]):e?c=!!n:a&&(f=!!n),h):e&&a?[c,f]:e?c:a?f:null},h.extent=function(r){var i,c,f,l,s;return arguments.length?(e&&(i=r[0],c=r[1],a&&(i=i[0],c=c[0]),n=[i,c],e.invert&&(i=e(i),c=e(c)),c<i&&(s=i,i=c,c=s),i==u[0]&&c==u[1]||(u=[i,c])),a&&(f=r[0],l=r[1],e&&(f=f[1],l=l[1]),t=[f,l],a.invert&&(f=a(f),l=a(l)),l<f&&(s=f,f=l,l=s),f==o[0]&&l==o[1]||(o=[f,l])),h):(e&&(n?(i=n[0],c=n[1]):(i=u[0],c=u[1],e.invert&&(i=e.invert(i),c=e.invert(c)),c<i&&(s=i,i=c,c=s))),a&&(t?(f=t[0],l=t[1]):(f=o[0],l=o[1],a.invert&&(f=a.invert(f),l=a.invert(l)),l<f&&(s=f,f=l,l=s))),e&&a?[[i,f],[c,l]]:e?[i,c]:a&&[f,l])},h.clear=function(){return h.empty()||(u=[0,0],o=[0,0],n=t=null),h},h.empty=function(){return!!e&&u[0]==u[1]||!!a&&o[0]==o[1]},i.rebind(h,r,"on")};var zo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Lo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Oo=Dt.format=pr.timeFormat,Ro=Oo.utc,To=Ro("%Y-%m-%dT%H:%M:%S.%LZ");function qo(n){return n.toISOString()}function Io(n,t,r){function e(t){return n(t)}function a(n,r){var e=(n[1]-n[0])/r,a=i.bisect(Po,e);return a==Po.length?[t.year,Mu(n.map(function(n){return n/31536e6}),r)[2]]:a?t[e/Po[a-1]<Po[a]/e?a-1:a]:[Bo,Mu(n,r)[2]]}return e.invert=function(t){return Do(n.invert(t))},e.domain=function(t){return arguments.length?(n.domain(t),e):n.domain().map(Do)},e.nice=function(n,t){var r=e.domain(),i=vu(r),u=null==n?a(i,10):"number"==typeof n&&a(i,n);function o(r){return!isNaN(r)&&!n.range(r,Do(+r+1),t).length}return u&&(n=u[0],t=u[1]),e.domain(yu(r,t>1?{floor:function(t){for(;o(t=n.floor(t));)t=Do(t-1);return t},ceil:function(t){for(;o(t=n.ceil(t));)t=Do(+t+1);return t}}:n))},e.ticks=function(n,t){var r=vu(e.domain()),i=null==n?a(r,10):"number"==typeof n?a(r,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(r[0],Do(+r[1]+1),t<1?1:t)},e.tickFormat=function(){return r},e.copy=function(){return Io(n.copy(),t,r)},xu(e,n)}function Do(n){return new Date(n)}Oo.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?qo:To,qo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},qo.toString=To.toString,Dt.second=Bt(function(n){return new Pt(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),Dt.seconds=Dt.second.range,Dt.seconds.utc=Dt.second.utc.range,Dt.minute=Bt(function(n){return new Pt(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),Dt.minutes=Dt.minute.range,Dt.minutes.utc=Dt.minute.utc.range,Dt.hour=Bt(function(n){var t=n.getTimezoneOffset()/60;return new Pt(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),Dt.hours=Dt.hour.range,Dt.hours.utc=Dt.hour.utc.range,Dt.month=Bt(function(n){return(n=Dt.day(n)).setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),Dt.months=Dt.month.range,Dt.months.utc=Dt.month.utc.range;var Po=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Fo=[[Dt.second,1],[Dt.second,5],[Dt.second,15],[Dt.second,30],[Dt.minute,1],[Dt.minute,5],[Dt.minute,15],[Dt.minute,30],[Dt.hour,1],[Dt.hour,3],[Dt.hour,6],[Dt.hour,12],[Dt.day,1],[Dt.day,2],[Dt.week,1],[Dt.month,1],[Dt.month,3],[Dt.year,1]],Uo=Oo.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Jr]]),Bo={range:function(n,t,r){return i.range(Math.ceil(n/r)*r,+t,r).map(Do)},floor:T,ceil:T};Fo.year=Dt.year,Dt.scale=function(){return Io(i.scale.linear(),Fo,Uo)};var Wo=Fo.map(function(n){return[n[0].utc,n[1]]}),Yo=Ro.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Jr]]);function $o(n){return JSON.parse(n.responseText)}function Ho(n){var t=c.createRange();return t.selectNode(c.body),t.createContextualFragment(n.responseText)}Wo.year=Dt.year.utc,Dt.scale.utc=function(){return Io(i.scale.linear(),Wo,Yo)},i.text=xt(function(n){return n.responseText}),i.json=function(n,t){return wt(n,"application/json",$o,t)},i.html=function(n,t){return wt(n,"text/html",Ho,t)},i.xml=xt(function(n){return n.responseXML}),this.d3=i,void 0===(a="function"==typeof(e=i)?e.call(t,r,t,n):e)||(n.exports=a)}()},function(n,t,r){(function(n,e){var a;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,u=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",f="__lodash_hash_undefined__",l=500,s="__lodash_placeholder__",h=1,p=2,v=4,g=1,d=2,y=1,m=2,b=4,_=8,x=16,w=32,M=64,k=128,A=256,S=512,N=30,E="...",C=800,j=16,z=1,L=2,O=1/0,R=9007199254740991,T=1.7976931348623157e308,q=NaN,I=4294967295,D=I-1,P=I>>>1,F=[["ary",k],["bind",y],["bindKey",m],["curry",_],["curryRight",x],["flip",S],["partial",w],["partialRight",M],["rearg",A]],U="[object Arguments]",B="[object Array]",W="[object AsyncFunction]",Y="[object Boolean]",$="[object Date]",H="[object DOMException]",Z="[object Error]",V="[object Function]",G="[object GeneratorFunction]",X="[object Map]",K="[object Number]",J="[object Null]",Q="[object Object]",nn="[object Proxy]",tn="[object RegExp]",rn="[object Set]",en="[object String]",an="[object Symbol]",un="[object Undefined]",on="[object WeakMap]",cn="[object WeakSet]",fn="[object ArrayBuffer]",ln="[object DataView]",sn="[object Float32Array]",hn="[object Float64Array]",pn="[object Int8Array]",vn="[object Int16Array]",gn="[object Int32Array]",dn="[object Uint8Array]",yn="[object Uint8ClampedArray]",mn="[object Uint16Array]",bn="[object Uint32Array]",_n=/\b__p \+= '';/g,xn=/\b(__p \+=) '' \+/g,wn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mn=/&(?:amp|lt|gt|quot|#39);/g,kn=/[&<>"']/g,An=RegExp(Mn.source),Sn=RegExp(kn.source),Nn=/<%-([\s\S]+?)%>/g,En=/<%([\s\S]+?)%>/g,Cn=/<%=([\s\S]+?)%>/g,jn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zn=/^\w*$/,Ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,Rn=RegExp(On.source),Tn=/^\s+|\s+$/g,qn=/^\s+/,In=/\s+$/,Dn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pn=/\{\n\/\* \[wrapped with (.+)\] \*/,Fn=/,? & /,Un=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bn=/\\(\\)?/g,Wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yn=/\w*$/,$n=/^[-+]0x[0-9a-f]+$/i,Hn=/^0b[01]+$/i,Zn=/^\[object .+?Constructor\]$/,Vn=/^0o[0-7]+$/i,Gn=/^(?:0|[1-9]\d*)$/,Xn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,Qn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",nt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tt="[\\ud800-\\udfff]",rt="["+nt+"]",et="["+Qn+"]",at="\\d+",it="[\\u2700-\\u27bf]",ut="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+nt+at+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ct="\\ud83c[\\udffb-\\udfff]",ft="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",st="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pt="(?:"+ut+"|"+ot+")",vt="(?:"+ht+"|"+ot+")",gt="(?:"+et+"|"+ct+")"+"?",dt="[\\ufe0e\\ufe0f]?"+gt+("(?:\\u200d(?:"+[ft,lt,st].join("|")+")[\\ufe0e\\ufe0f]?"+gt+")*"),yt="(?:"+[it,lt,st].join("|")+")"+dt,mt="(?:"+[ft+et+"?",et,lt,st,tt].join("|")+")",bt=RegExp("['’]","g"),_t=RegExp(et,"g"),xt=RegExp(ct+"(?="+ct+")|"+mt+dt,"g"),wt=RegExp([ht+"?"+ut+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rt,ht,"$"].join("|")+")",vt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rt,ht+pt,"$"].join("|")+")",ht+"?"+pt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",at,yt].join("|"),"g"),Mt=RegExp("[\\u200d\\ud800-\\udfff"+Qn+"\\ufe0e\\ufe0f]"),kt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,At=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],St=-1,Nt={};Nt[sn]=Nt[hn]=Nt[pn]=Nt[vn]=Nt[gn]=Nt[dn]=Nt[yn]=Nt[mn]=Nt[bn]=!0,Nt[U]=Nt[B]=Nt[fn]=Nt[Y]=Nt[ln]=Nt[$]=Nt[Z]=Nt[V]=Nt[X]=Nt[K]=Nt[Q]=Nt[tn]=Nt[rn]=Nt[en]=Nt[on]=!1;var Et={};Et[U]=Et[B]=Et[fn]=Et[ln]=Et[Y]=Et[$]=Et[sn]=Et[hn]=Et[pn]=Et[vn]=Et[gn]=Et[X]=Et[K]=Et[Q]=Et[tn]=Et[rn]=Et[en]=Et[an]=Et[dn]=Et[yn]=Et[mn]=Et[bn]=!0,Et[Z]=Et[V]=Et[on]=!1;var Ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jt=parseFloat,zt=parseInt,Lt="object"==typeof n&&n&&n.Object===Object&&n,Ot="object"==typeof self&&self&&self.Object===Object&&self,Rt=Lt||Ot||Function("return this")(),Tt=t&&!t.nodeType&&t,qt=Tt&&"object"==typeof e&&e&&!e.nodeType&&e,It=qt&&qt.exports===Tt,Dt=It&&Lt.process,Pt=function(){try{var n=qt&&qt.require&&qt.require("util").types;return n||Dt&&Dt.binding&&Dt.binding("util")}catch(n){}}(),Ft=Pt&&Pt.isArrayBuffer,Ut=Pt&&Pt.isDate,Bt=Pt&&Pt.isMap,Wt=Pt&&Pt.isRegExp,Yt=Pt&&Pt.isSet,$t=Pt&&Pt.isTypedArray;function Ht(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function Zt(n,t,r,e){for(var a=-1,i=null==n?0:n.length;++a<i;){var u=n[a];t(e,u,r(u),n)}return e}function Vt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function Gt(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function Xt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function Kt(n,t){for(var r=-1,e=null==n?0:n.length,a=0,i=[];++r<e;){var u=n[r];t(u,r,n)&&(i[a++]=u)}return i}function Jt(n,t){return!!(null==n?0:n.length)&&cr(n,t,0)>-1}function Qt(n,t,r){for(var e=-1,a=null==n?0:n.length;++e<a;)if(r(t,n[e]))return!0;return!1}function nr(n,t){for(var r=-1,e=null==n?0:n.length,a=Array(e);++r<e;)a[r]=t(n[r],r,n);return a}function tr(n,t){for(var r=-1,e=t.length,a=n.length;++r<e;)n[a+r]=t[r];return n}function rr(n,t,r,e){var a=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++a]);++a<i;)r=t(r,n[a],a,n);return r}function er(n,t,r,e){var a=null==n?0:n.length;for(e&&a&&(r=n[--a]);a--;)r=t(r,n[a],a,n);return r}function ar(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}var ir=hr("length");function ur(n,t,r){var e;return r(n,function(n,r,a){if(t(n,r,a))return e=r,!1}),e}function or(n,t,r,e){for(var a=n.length,i=r+(e?1:-1);e?i--:++i<a;)if(t(n[i],i,n))return i;return-1}function cr(n,t,r){return t==t?function(n,t,r){var e=r-1,a=n.length;for(;++e<a;)if(n[e]===t)return e;return-1}(n,t,r):or(n,lr,r)}function fr(n,t,r,e){for(var a=r-1,i=n.length;++a<i;)if(e(n[a],t))return a;return-1}function lr(n){return n!=n}function sr(n,t){var r=null==n?0:n.length;return r?gr(n,t)/r:q}function hr(n){return function(t){return null==t?i:t[n]}}function pr(n){return function(t){return null==n?i:n[t]}}function vr(n,t,r,e,a){return a(n,function(n,a,i){r=e?(e=!1,n):t(r,n,a,i)}),r}function gr(n,t){for(var r,e=-1,a=n.length;++e<a;){var u=t(n[e]);u!==i&&(r=r===i?u:r+u)}return r}function dr(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function yr(n){return function(t){return n(t)}}function mr(n,t){return nr(t,function(t){return n[t]})}function br(n,t){return n.has(t)}function _r(n,t){for(var r=-1,e=n.length;++r<e&&cr(t,n[r],0)>-1;);return r}function xr(n,t){for(var r=n.length;r--&&cr(t,n[r],0)>-1;);return r}var wr=pr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Mr=pr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kr(n){return"\\"+Ct[n]}function Ar(n){return Mt.test(n)}function Sr(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function Nr(n,t){return function(r){return n(t(r))}}function Er(n,t){for(var r=-1,e=n.length,a=0,i=[];++r<e;){var u=n[r];u!==t&&u!==s||(n[r]=s,i[a++]=r)}return i}function Cr(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function jr(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function zr(n){return Ar(n)?function(n){var t=xt.lastIndex=0;for(;xt.test(n);)++t;return t}(n):ir(n)}function Lr(n){return Ar(n)?function(n){return n.match(xt)||[]}(n):function(n){return n.split("")}(n)}var Or=pr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Rr=function n(t){var r,e=(t=null==t?Rt:Rr.defaults(Rt.Object(),t,Rr.pick(Rt,At))).Array,a=t.Date,Qn=t.Error,nt=t.Function,tt=t.Math,rt=t.Object,et=t.RegExp,at=t.String,it=t.TypeError,ut=e.prototype,ot=nt.prototype,ct=rt.prototype,ft=t["__core-js_shared__"],lt=ot.toString,st=ct.hasOwnProperty,ht=0,pt=(r=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",vt=ct.toString,gt=lt.call(rt),dt=Rt._,yt=et("^"+lt.call(st).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=It?t.Buffer:i,xt=t.Symbol,Mt=t.Uint8Array,Ct=mt?mt.allocUnsafe:i,Lt=Nr(rt.getPrototypeOf,rt),Ot=rt.create,Tt=ct.propertyIsEnumerable,qt=ut.splice,Dt=xt?xt.isConcatSpreadable:i,Pt=xt?xt.iterator:i,ir=xt?xt.toStringTag:i,pr=function(){try{var n=Di(rt,"defineProperty");return n({},"",{}),n}catch(n){}}(),Tr=t.clearTimeout!==Rt.clearTimeout&&t.clearTimeout,qr=a&&a.now!==Rt.Date.now&&a.now,Ir=t.setTimeout!==Rt.setTimeout&&t.setTimeout,Dr=tt.ceil,Pr=tt.floor,Fr=rt.getOwnPropertySymbols,Ur=mt?mt.isBuffer:i,Br=t.isFinite,Wr=ut.join,Yr=Nr(rt.keys,rt),$r=tt.max,Hr=tt.min,Zr=a.now,Vr=t.parseInt,Gr=tt.random,Xr=ut.reverse,Kr=Di(t,"DataView"),Jr=Di(t,"Map"),Qr=Di(t,"Promise"),ne=Di(t,"Set"),te=Di(t,"WeakMap"),re=Di(rt,"create"),ee=te&&new te,ae={},ie=lu(Kr),ue=lu(Jr),oe=lu(Qr),ce=lu(ne),fe=lu(te),le=xt?xt.prototype:i,se=le?le.valueOf:i,he=le?le.toString:i;function pe(n){if(Eo(n)&&!yo(n)&&!(n instanceof ye)){if(n instanceof de)return n;if(st.call(n,"__wrapped__"))return su(n)}return new de(n)}var ve=function(){function n(){}return function(t){if(!No(t))return{};if(Ot)return Ot(t);n.prototype=t;var r=new n;return n.prototype=i,r}}();function ge(){}function de(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function ye(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function me(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function be(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function _e(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function xe(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new _e;++t<r;)this.add(n[t])}function we(n){var t=this.__data__=new be(n);this.size=t.size}function Me(n,t){var r=yo(n),e=!r&&go(n),a=!r&&!e&&xo(n),i=!r&&!e&&!a&&qo(n),u=r||e||a||i,o=u?dr(n.length,at):[],c=o.length;for(var f in n)!t&&!st.call(n,f)||u&&("length"==f||a&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||$i(f,c))||o.push(f);return o}function ke(n){var t=n.length;return t?n[xa(0,t-1)]:i}function Ae(n,t){return ou(ri(n),Re(t,0,n.length))}function Se(n){return ou(ri(n))}function Ne(n,t,r){(r===i||ho(n[t],r))&&(r!==i||t in n)||Le(n,t,r)}function Ee(n,t,r){var e=n[t];st.call(n,t)&&ho(e,r)&&(r!==i||t in n)||Le(n,t,r)}function Ce(n,t){for(var r=n.length;r--;)if(ho(n[r][0],t))return r;return-1}function je(n,t,r,e){return Pe(n,function(n,a,i){t(e,n,r(n),i)}),e}function ze(n,t){return n&&ei(t,ac(t),n)}function Le(n,t,r){"__proto__"==t&&pr?pr(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Oe(n,t){for(var r=-1,a=t.length,u=e(a),o=null==n;++r<a;)u[r]=o?i:Qo(n,t[r]);return u}function Re(n,t,r){return n==n&&(r!==i&&(n=n<=r?n:r),t!==i&&(n=n>=t?n:t)),n}function Te(n,t,r,e,a,u){var o,c=t&h,f=t&p,l=t&v;if(r&&(o=a?r(n,e,a,u):r(n)),o!==i)return o;if(!No(n))return n;var s=yo(n);if(s){if(o=function(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&st.call(n,"index")&&(r.index=n.index,r.input=n.input),r}(n),!c)return ri(n,o)}else{var g=Ui(n),d=g==V||g==G;if(xo(n))return Xa(n,c);if(g==Q||g==U||d&&!a){if(o=f||d?{}:Wi(n),!c)return f?function(n,t){return ei(n,Fi(n),t)}(n,function(n,t){return n&&ei(t,ic(t),n)}(o,n)):function(n,t){return ei(n,Pi(n),t)}(n,ze(o,n))}else{if(!Et[g])return a?n:{};o=function(n,t,r){var e,a=n.constructor;switch(t){case fn:return Ka(n);case Y:case $:return new a(+n);case ln:return function(n,t){var r=t?Ka(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}(n,r);case sn:case hn:case pn:case vn:case gn:case dn:case yn:case mn:case bn:return Ja(n,r);case X:return new a;case K:case en:return new a(n);case tn:return function(n){var t=new n.constructor(n.source,Yn.exec(n));return t.lastIndex=n.lastIndex,t}(n);case rn:return new a;case an:return e=n,se?rt(se.call(e)):{}}}(n,g,c)}}u||(u=new we);var y=u.get(n);if(y)return y;if(u.set(n,o),Oo(n))return n.forEach(function(e){o.add(Te(e,t,r,e,n,u))}),o;if(Co(n))return n.forEach(function(e,a){o.set(a,Te(e,t,r,a,n,u))}),o;var m=s?i:(l?f?zi:ji:f?ic:ac)(n);return Vt(m||n,function(e,a){m&&(e=n[a=e]),Ee(o,a,Te(e,t,r,a,n,u))}),o}function qe(n,t,r){var e=r.length;if(null==n)return!e;for(n=rt(n);e--;){var a=r[e],u=t[a],o=n[a];if(o===i&&!(a in n)||!u(o))return!1}return!0}function Ie(n,t,r){if("function"!=typeof n)throw new it(c);return eu(function(){n.apply(i,r)},t)}function De(n,t,r,e){var a=-1,i=Jt,o=!0,c=n.length,f=[],l=t.length;if(!c)return f;r&&(t=nr(t,yr(r))),e?(i=Qt,o=!1):t.length>=u&&(i=br,o=!1,t=new xe(t));n:for(;++a<c;){var s=n[a],h=null==r?s:r(s);if(s=e||0!==s?s:0,o&&h==h){for(var p=l;p--;)if(t[p]===h)continue n;f.push(s)}else i(t,h,e)||f.push(s)}return f}pe.templateSettings={escape:Nn,evaluate:En,interpolate:Cn,variable:"",imports:{_:pe}},pe.prototype=ge.prototype,pe.prototype.constructor=pe,de.prototype=ve(ge.prototype),de.prototype.constructor=de,ye.prototype=ve(ge.prototype),ye.prototype.constructor=ye,me.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},me.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},me.prototype.get=function(n){var t=this.__data__;if(re){var r=t[n];return r===f?i:r}return st.call(t,n)?t[n]:i},me.prototype.has=function(n){var t=this.__data__;return re?t[n]!==i:st.call(t,n)},me.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=re&&t===i?f:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(n){var t=this.__data__,r=Ce(t,n);return!(r<0||(r==t.length-1?t.pop():qt.call(t,r,1),--this.size,0))},be.prototype.get=function(n){var t=this.__data__,r=Ce(t,n);return r<0?i:t[r][1]},be.prototype.has=function(n){return Ce(this.__data__,n)>-1},be.prototype.set=function(n,t){var r=this.__data__,e=Ce(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this},_e.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(Jr||be),string:new me}},_e.prototype.delete=function(n){var t=qi(this,n).delete(n);return this.size-=t?1:0,t},_e.prototype.get=function(n){return qi(this,n).get(n)},_e.prototype.has=function(n){return qi(this,n).has(n)},_e.prototype.set=function(n,t){var r=qi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},xe.prototype.add=xe.prototype.push=function(n){return this.__data__.set(n,f),this},xe.prototype.has=function(n){return this.__data__.has(n)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r},we.prototype.get=function(n){return this.__data__.get(n)},we.prototype.has=function(n){return this.__data__.has(n)},we.prototype.set=function(n,t){var r=this.__data__;if(r instanceof be){var e=r.__data__;if(!Jr||e.length<u-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new _e(e)}return r.set(n,t),this.size=r.size,this};var Pe=ui(Ze),Fe=ui(Ve,!0);function Ue(n,t){var r=!0;return Pe(n,function(n,e,a){return r=!!t(n,e,a)}),r}function Be(n,t,r){for(var e=-1,a=n.length;++e<a;){var u=n[e],o=t(u);if(null!=o&&(c===i?o==o&&!To(o):r(o,c)))var c=o,f=u}return f}function We(n,t){var r=[];return Pe(n,function(n,e,a){t(n,e,a)&&r.push(n)}),r}function Ye(n,t,r,e,a){var i=-1,u=n.length;for(r||(r=Yi),a||(a=[]);++i<u;){var o=n[i];t>0&&r(o)?t>1?Ye(o,t-1,r,e,a):tr(a,o):e||(a[a.length]=o)}return a}var $e=oi(),He=oi(!0);function Ze(n,t){return n&&$e(n,t,ac)}function Ve(n,t){return n&&He(n,t,ac)}function Ge(n,t){return Kt(t,function(t){return ko(n[t])})}function Xe(n,t){for(var r=0,e=(t=Ha(t,n)).length;null!=n&&r<e;)n=n[fu(t[r++])];return r&&r==e?n:i}function Ke(n,t,r){var e=t(n);return yo(n)?e:tr(e,r(n))}function Je(n){return null==n?n===i?un:J:ir&&ir in rt(n)?function(n){var t=st.call(n,ir),r=n[ir];try{n[ir]=i;var e=!0}catch(n){}var a=vt.call(n);return e&&(t?n[ir]=r:delete n[ir]),a}(n):function(n){return vt.call(n)}(n)}function Qe(n,t){return n>t}function na(n,t){return null!=n&&st.call(n,t)}function ta(n,t){return null!=n&&t in rt(n)}function ra(n,t,r){for(var a=r?Qt:Jt,u=n[0].length,o=n.length,c=o,f=e(o),l=1/0,s=[];c--;){var h=n[c];c&&t&&(h=nr(h,yr(t))),l=Hr(h.length,l),f[c]=!r&&(t||u>=120&&h.length>=120)?new xe(c&&h):i}h=n[0];var p=-1,v=f[0];n:for(;++p<u&&s.length<l;){var g=h[p],d=t?t(g):g;if(g=r||0!==g?g:0,!(v?br(v,d):a(s,d,r))){for(c=o;--c;){var y=f[c];if(!(y?br(y,d):a(n[c],d,r)))continue n}v&&v.push(d),s.push(g)}}return s}function ea(n,t,r){var e=null==(n=nu(n,t=Ha(t,n)))?n:n[fu(wu(t))];return null==e?i:Ht(e,n,r)}function aa(n){return Eo(n)&&Je(n)==U}function ia(n,t,r,e,a){return n===t||(null==n||null==t||!Eo(n)&&!Eo(t)?n!=n&&t!=t:function(n,t,r,e,a,u){var o=yo(n),c=yo(t),f=o?B:Ui(n),l=c?B:Ui(t),s=(f=f==U?Q:f)==Q,h=(l=l==U?Q:l)==Q,p=f==l;if(p&&xo(n)){if(!xo(t))return!1;o=!0,s=!1}if(p&&!s)return u||(u=new we),o||qo(n)?Ei(n,t,r,e,a,u):function(n,t,r,e,a,i,u){switch(r){case ln:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case fn:return!(n.byteLength!=t.byteLength||!i(new Mt(n),new Mt(t)));case Y:case $:case K:return ho(+n,+t);case Z:return n.name==t.name&&n.message==t.message;case tn:case en:return n==t+"";case X:var o=Sr;case rn:var c=e&g;if(o||(o=Cr),n.size!=t.size&&!c)return!1;var f=u.get(n);if(f)return f==t;e|=d,u.set(n,t);var l=Ei(o(n),o(t),e,a,i,u);return u.delete(n),l;case an:if(se)return se.call(n)==se.call(t)}return!1}(n,t,f,r,e,a,u);if(!(r&g)){var v=s&&st.call(n,"__wrapped__"),y=h&&st.call(t,"__wrapped__");if(v||y){var m=v?n.value():n,b=y?t.value():t;return u||(u=new we),a(m,b,r,e,u)}}return!!p&&(u||(u=new we),function(n,t,r,e,a,u){var o=r&g,c=ji(n),f=c.length,l=ji(t).length;if(f!=l&&!o)return!1;for(var s=f;s--;){var h=c[s];if(!(o?h in t:st.call(t,h)))return!1}var p=u.get(n);if(p&&u.get(t))return p==t;var v=!0;u.set(n,t),u.set(t,n);for(var d=o;++s<f;){h=c[s];var y=n[h],m=t[h];if(e)var b=o?e(m,y,h,t,n,u):e(y,m,h,n,t,u);if(!(b===i?y===m||a(y,m,r,e,u):b)){v=!1;break}d||(d="constructor"==h)}if(v&&!d){var _=n.constructor,x=t.constructor;_!=x&&"constructor"in n&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(v=!1)}return u.delete(n),u.delete(t),v}(n,t,r,e,a,u))}(n,t,r,e,ia,a))}function ua(n,t,r,e){var a=r.length,u=a,o=!e;if(null==n)return!u;for(n=rt(n);a--;){var c=r[a];if(o&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++a<u;){var f=(c=r[a])[0],l=n[f],s=c[1];if(o&&c[2]){if(l===i&&!(f in n))return!1}else{var h=new we;if(e)var p=e(l,s,f,n,t,h);if(!(p===i?ia(s,l,g|d,e,h):p))return!1}}return!0}function oa(n){return!(!No(n)||(t=n,pt&&pt in t))&&(ko(n)?yt:Zn).test(lu(n));var t}function ca(n){return"function"==typeof n?n:null==n?jc:"object"==typeof n?yo(n)?va(n[0],n[1]):pa(n):Pc(n)}function fa(n){if(!Xi(n))return Yr(n);var t=[];for(var r in rt(n))st.call(n,r)&&"constructor"!=r&&t.push(r);return t}function la(n){if(!No(n))return function(n){var t=[];if(null!=n)for(var r in rt(n))t.push(r);return t}(n);var t=Xi(n),r=[];for(var e in n)("constructor"!=e||!t&&st.call(n,e))&&r.push(e);return r}function sa(n,t){return n<t}function ha(n,t){var r=-1,a=bo(n)?e(n.length):[];return Pe(n,function(n,e,i){a[++r]=t(n,e,i)}),a}function pa(n){var t=Ii(n);return 1==t.length&&t[0][2]?Ji(t[0][0],t[0][1]):function(r){return r===n||ua(r,n,t)}}function va(n,t){return Zi(n)&&Ki(t)?Ji(fu(n),t):function(r){var e=Qo(r,n);return e===i&&e===t?nc(r,n):ia(t,e,g|d)}}function ga(n,t,r,e,a){n!==t&&$e(t,function(u,o){if(No(u))a||(a=new we),function(n,t,r,e,a,u,o){var c=tu(n,r),f=tu(t,r),l=o.get(f);if(l)Ne(n,r,l);else{var s=u?u(c,f,r+"",n,t,o):i,h=s===i;if(h){var p=yo(f),v=!p&&xo(f),g=!p&&!v&&qo(f);s=f,p||v||g?yo(c)?s=c:_o(c)?s=ri(c):v?(h=!1,s=Xa(f,!0)):g?(h=!1,s=Ja(f,!0)):s=[]:zo(f)||go(f)?(s=c,go(c)?s=Yo(c):No(c)&&!ko(c)||(s=Wi(f))):h=!1}h&&(o.set(f,s),a(s,f,e,u,o),o.delete(f)),Ne(n,r,s)}}(n,t,o,r,ga,e,a);else{var c=e?e(tu(n,o),u,o+"",n,t,a):i;c===i&&(c=u),Ne(n,o,c)}},ic)}function da(n,t){var r=n.length;if(r)return $i(t+=t<0?r:0,r)?n[t]:i}function ya(n,t,r){var e=-1;return t=nr(t.length?t:[jc],yr(Ti())),function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}(ha(n,function(n,r,a){return{criteria:nr(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return function(n,t,r){for(var e=-1,a=n.criteria,i=t.criteria,u=a.length,o=r.length;++e<u;){var c=Qa(a[e],i[e]);if(c){if(e>=o)return c;var f=r[e];return c*("desc"==f?-1:1)}}return n.index-t.index}(n,t,r)})}function ma(n,t,r){for(var e=-1,a=t.length,i={};++e<a;){var u=t[e],o=Xe(n,u);r(o,u)&&Sa(i,Ha(u,n),o)}return i}function ba(n,t,r,e){var a=e?fr:cr,i=-1,u=t.length,o=n;for(n===t&&(t=ri(t)),r&&(o=nr(n,yr(r)));++i<u;)for(var c=0,f=t[i],l=r?r(f):f;(c=a(o,l,c,e))>-1;)o!==n&&qt.call(o,c,1),qt.call(n,c,1);return n}function _a(n,t){for(var r=n?t.length:0,e=r-1;r--;){var a=t[r];if(r==e||a!==i){var i=a;$i(a)?qt.call(n,a,1):Da(n,a)}}return n}function xa(n,t){return n+Pr(Gr()*(t-n+1))}function wa(n,t){var r="";if(!n||t<1||t>R)return r;do{t%2&&(r+=n),(t=Pr(t/2))&&(n+=n)}while(t);return r}function Ma(n,t){return au(Qi(n,t,jc),n+"")}function ka(n){return ke(pc(n))}function Aa(n,t){var r=pc(n);return ou(r,Re(t,0,r.length))}function Sa(n,t,r,e){if(!No(n))return n;for(var a=-1,u=(t=Ha(t,n)).length,o=u-1,c=n;null!=c&&++a<u;){var f=fu(t[a]),l=r;if(a!=o){var s=c[f];(l=e?e(s,f,c):i)===i&&(l=No(s)?s:$i(t[a+1])?[]:{})}Ee(c,f,l),c=c[f]}return n}var Na=ee?function(n,t){return ee.set(n,t),n}:jc,Ea=pr?function(n,t){return pr(n,"toString",{configurable:!0,enumerable:!1,value:Nc(t),writable:!0})}:jc;function Ca(n){return ou(pc(n))}function ja(n,t,r){var a=-1,i=n.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var u=e(i);++a<i;)u[a]=n[a+t];return u}function za(n,t){var r;return Pe(n,function(n,e,a){return!(r=t(n,e,a))}),!!r}function La(n,t,r){var e=0,a=null==n?e:n.length;if("number"==typeof t&&t==t&&a<=P){for(;e<a;){var i=e+a>>>1,u=n[i];null!==u&&!To(u)&&(r?u<=t:u<t)?e=i+1:a=i}return a}return Oa(n,t,jc,r)}function Oa(n,t,r,e){t=r(t);for(var a=0,u=null==n?0:n.length,o=t!=t,c=null===t,f=To(t),l=t===i;a<u;){var s=Pr((a+u)/2),h=r(n[s]),p=h!==i,v=null===h,g=h==h,d=To(h);if(o)var y=e||g;else y=l?g&&(e||p):c?g&&p&&(e||!v):f?g&&p&&!v&&(e||!d):!v&&!d&&(e?h<=t:h<t);y?a=s+1:u=s}return Hr(u,D)}function Ra(n,t){for(var r=-1,e=n.length,a=0,i=[];++r<e;){var u=n[r],o=t?t(u):u;if(!r||!ho(o,c)){var c=o;i[a++]=0===u?0:u}}return i}function Ta(n){return"number"==typeof n?n:To(n)?q:+n}function qa(n){if("string"==typeof n)return n;if(yo(n))return nr(n,qa)+"";if(To(n))return he?he.call(n):"";var t=n+"";return"0"==t&&1/n==-O?"-0":t}function Ia(n,t,r){var e=-1,a=Jt,i=n.length,o=!0,c=[],f=c;if(r)o=!1,a=Qt;else if(i>=u){var l=t?null:wi(n);if(l)return Cr(l);o=!1,a=br,f=new xe}else f=t?[]:c;n:for(;++e<i;){var s=n[e],h=t?t(s):s;if(s=r||0!==s?s:0,o&&h==h){for(var p=f.length;p--;)if(f[p]===h)continue n;t&&f.push(h),c.push(s)}else a(f,h,r)||(f!==c&&f.push(h),c.push(s))}return c}function Da(n,t){return null==(n=nu(n,t=Ha(t,n)))||delete n[fu(wu(t))]}function Pa(n,t,r,e){return Sa(n,t,r(Xe(n,t)),e)}function Fa(n,t,r,e){for(var a=n.length,i=e?a:-1;(e?i--:++i<a)&&t(n[i],i,n););return r?ja(n,e?0:i,e?i+1:a):ja(n,e?i+1:0,e?a:i)}function Ua(n,t){var r=n;return r instanceof ye&&(r=r.value()),rr(t,function(n,t){return t.func.apply(t.thisArg,tr([n],t.args))},r)}function Ba(n,t,r){var a=n.length;if(a<2)return a?Ia(n[0]):[];for(var i=-1,u=e(a);++i<a;)for(var o=n[i],c=-1;++c<a;)c!=i&&(u[i]=De(u[i]||o,n[c],t,r));return Ia(Ye(u,1),t,r)}function Wa(n,t,r){for(var e=-1,a=n.length,u=t.length,o={};++e<a;){var c=e<u?t[e]:i;r(o,n[e],c)}return o}function Ya(n){return _o(n)?n:[]}function $a(n){return"function"==typeof n?n:jc}function Ha(n,t){return yo(n)?n:Zi(n,t)?[n]:cu($o(n))}var Za=Ma;function Va(n,t,r){var e=n.length;return r=r===i?e:r,!t&&r>=e?n:ja(n,t,r)}var Ga=Tr||function(n){return Rt.clearTimeout(n)};function Xa(n,t){if(t)return n.slice();var r=n.length,e=Ct?Ct(r):new n.constructor(r);return n.copy(e),e}function Ka(n){var t=new n.constructor(n.byteLength);return new Mt(t).set(new Mt(n)),t}function Ja(n,t){var r=t?Ka(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Qa(n,t){if(n!==t){var r=n!==i,e=null===n,a=n==n,u=To(n),o=t!==i,c=null===t,f=t==t,l=To(t);if(!c&&!l&&!u&&n>t||u&&o&&f&&!c&&!l||e&&o&&f||!r&&f||!a)return 1;if(!e&&!u&&!l&&n<t||l&&r&&a&&!e&&!u||c&&r&&a||!o&&a||!f)return-1}return 0}function ni(n,t,r,a){for(var i=-1,u=n.length,o=r.length,c=-1,f=t.length,l=$r(u-o,0),s=e(f+l),h=!a;++c<f;)s[c]=t[c];for(;++i<o;)(h||i<u)&&(s[r[i]]=n[i]);for(;l--;)s[c++]=n[i++];return s}function ti(n,t,r,a){for(var i=-1,u=n.length,o=-1,c=r.length,f=-1,l=t.length,s=$r(u-c,0),h=e(s+l),p=!a;++i<s;)h[i]=n[i];for(var v=i;++f<l;)h[v+f]=t[f];for(;++o<c;)(p||i<u)&&(h[v+r[o]]=n[i++]);return h}function ri(n,t){var r=-1,a=n.length;for(t||(t=e(a));++r<a;)t[r]=n[r];return t}function ei(n,t,r,e){var a=!r;r||(r={});for(var u=-1,o=t.length;++u<o;){var c=t[u],f=e?e(r[c],n[c],c,r,n):i;f===i&&(f=n[c]),a?Le(r,c,f):Ee(r,c,f)}return r}function ai(n,t){return function(r,e){var a=yo(r)?Zt:je,i=t?t():{};return a(r,n,Ti(e,2),i)}}function ii(n){return Ma(function(t,r){var e=-1,a=r.length,u=a>1?r[a-1]:i,o=a>2?r[2]:i;for(u=n.length>3&&"function"==typeof u?(a--,u):i,o&&Hi(r[0],r[1],o)&&(u=a<3?i:u,a=1),t=rt(t);++e<a;){var c=r[e];c&&n(t,c,e,u)}return t})}function ui(n,t){return function(r,e){if(null==r)return r;if(!bo(r))return n(r,e);for(var a=r.length,i=t?a:-1,u=rt(r);(t?i--:++i<a)&&!1!==e(u[i],i,u););return r}}function oi(n){return function(t,r,e){for(var a=-1,i=rt(t),u=e(t),o=u.length;o--;){var c=u[n?o:++a];if(!1===r(i[c],c,i))break}return t}}function ci(n){return function(t){var r=Ar(t=$o(t))?Lr(t):i,e=r?r[0]:t.charAt(0),a=r?Va(r,1).join(""):t.slice(1);return e[n]()+a}}function fi(n){return function(t){return rr(kc(dc(t).replace(bt,"")),n,"")}}function li(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ve(n.prototype),e=n.apply(r,t);return No(e)?e:r}}function si(n){return function(t,r,e){var a=rt(t);if(!bo(t)){var u=Ti(r,3);t=ac(t),r=function(n){return u(a[n],n,a)}}var o=n(t,r,e);return o>-1?a[u?t[o]:o]:i}}function hi(n){return Ci(function(t){var r=t.length,e=r,a=de.prototype.thru;for(n&&t.reverse();e--;){var u=t[e];if("function"!=typeof u)throw new it(c);if(a&&!o&&"wrapper"==Oi(u))var o=new de([],!0)}for(e=o?e:r;++e<r;){var f=Oi(u=t[e]),l="wrapper"==f?Li(u):i;o=l&&Vi(l[0])&&l[1]==(k|_|w|A)&&!l[4].length&&1==l[9]?o[Oi(l[0])].apply(o,l[3]):1==u.length&&Vi(u)?o[f]():o.thru(u)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&yo(e))return o.plant(e).value();for(var a=0,i=r?t[a].apply(this,n):e;++a<r;)i=t[a].call(this,i);return i}})}function pi(n,t,r,a,u,o,c,f,l,s){var h=t&k,p=t&y,v=t&m,g=t&(_|x),d=t&S,b=v?i:li(n);return function y(){for(var m=arguments.length,_=e(m),x=m;x--;)_[x]=arguments[x];if(g)var w=Ri(y),M=function(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}(_,w);if(a&&(_=ni(_,a,u,g)),o&&(_=ti(_,o,c,g)),m-=M,g&&m<s){var k=Er(_,w);return _i(n,t,pi,y.placeholder,r,_,k,f,l,s-m)}var A=p?r:this,S=v?A[n]:n;return m=_.length,f?_=function(n,t){for(var r=n.length,e=Hr(t.length,r),a=ri(n);e--;){var u=t[e];n[e]=$i(u,r)?a[u]:i}return n}(_,f):d&&m>1&&_.reverse(),h&&l<m&&(_.length=l),this&&this!==Rt&&this instanceof y&&(S=b||li(S)),S.apply(A,_)}}function vi(n,t){return function(r,e){return function(n,t,r,e){return Ze(n,function(n,a,i){t(e,r(n),a,i)}),e}(r,n,t(e),{})}}function gi(n,t){return function(r,e){var a;if(r===i&&e===i)return t;if(r!==i&&(a=r),e!==i){if(a===i)return e;"string"==typeof r||"string"==typeof e?(r=qa(r),e=qa(e)):(r=Ta(r),e=Ta(e)),a=n(r,e)}return a}}function di(n){return Ci(function(t){return t=nr(t,yr(Ti())),Ma(function(r){var e=this;return n(t,function(n){return Ht(n,e,r)})})})}function yi(n,t){var r=(t=t===i?" ":qa(t)).length;if(r<2)return r?wa(t,n):t;var e=wa(t,Dr(n/zr(t)));return Ar(t)?Va(Lr(e),0,n).join(""):e.slice(0,n)}function mi(n){return function(t,r,a){return a&&"number"!=typeof a&&Hi(t,r,a)&&(r=a=i),t=Fo(t),r===i?(r=t,t=0):r=Fo(r),function(n,t,r,a){for(var i=-1,u=$r(Dr((t-n)/(r||1)),0),o=e(u);u--;)o[a?u:++i]=n,n+=r;return o}(t,r,a=a===i?t<r?1:-1:Fo(a),n)}}function bi(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Wo(t),r=Wo(r)),n(t,r)}}function _i(n,t,r,e,a,u,o,c,f,l){var s=t&_;t|=s?w:M,(t&=~(s?M:w))&b||(t&=~(y|m));var h=[n,t,a,s?u:i,s?o:i,s?i:u,s?i:o,c,f,l],p=r.apply(i,h);return Vi(n)&&ru(p,h),p.placeholder=e,iu(p,n,t)}function xi(n){var t=tt[n];return function(n,r){if(n=Wo(n),r=null==r?0:Hr(Uo(r),292)){var e=($o(n)+"e").split("e");return+((e=($o(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return t(n)}}var wi=ne&&1/Cr(new ne([,-0]))[1]==O?function(n){return new ne(n)}:Tc;function Mi(n){return function(t){var r=Ui(t);return r==X?Sr(t):r==rn?jr(t):function(n,t){return nr(t,function(t){return[t,n[t]]})}(t,n(t))}}function ki(n,t,r,a,u,o,f,l){var h=t&m;if(!h&&"function"!=typeof n)throw new it(c);var p=a?a.length:0;if(p||(t&=~(w|M),a=u=i),f=f===i?f:$r(Uo(f),0),l=l===i?l:Uo(l),p-=u?u.length:0,t&M){var v=a,g=u;a=u=i}var d=h?i:Li(n),S=[n,t,r,a,u,v,g,o,f,l];if(d&&function(n,t){var r=n[1],e=t[1],a=r|e,i=a<(y|m|k),u=e==k&&r==_||e==k&&r==A&&n[7].length<=t[8]||e==(k|A)&&t[7].length<=t[8]&&r==_;if(!i&&!u)return n;e&y&&(n[2]=t[2],a|=r&y?0:b);var o=t[3];if(o){var c=n[3];n[3]=c?ni(c,o,t[4]):o,n[4]=c?Er(n[3],s):t[4]}(o=t[5])&&(c=n[5],n[5]=c?ti(c,o,t[6]):o,n[6]=c?Er(n[5],s):t[6]),(o=t[7])&&(n[7]=o),e&k&&(n[8]=null==n[8]?t[8]:Hr(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=a}(S,d),n=S[0],t=S[1],r=S[2],a=S[3],u=S[4],!(l=S[9]=S[9]===i?h?0:n.length:$r(S[9]-p,0))&&t&(_|x)&&(t&=~(_|x)),t&&t!=y)N=t==_||t==x?function(n,t,r){var a=li(n);return function u(){for(var o=arguments.length,c=e(o),f=o,l=Ri(u);f--;)c[f]=arguments[f];var s=o<3&&c[0]!==l&&c[o-1]!==l?[]:Er(c,l);return(o-=s.length)<r?_i(n,t,pi,u.placeholder,i,c,s,i,i,r-o):Ht(this&&this!==Rt&&this instanceof u?a:n,this,c)}}(n,t,l):t!=w&&t!=(y|w)||u.length?pi.apply(i,S):function(n,t,r,a){var i=t&y,u=li(n);return function t(){for(var o=-1,c=arguments.length,f=-1,l=a.length,s=e(l+c),h=this&&this!==Rt&&this instanceof t?u:n;++f<l;)s[f]=a[f];for(;c--;)s[f++]=arguments[++o];return Ht(h,i?r:this,s)}}(n,t,r,a);else var N=function(n,t,r){var e=t&y,a=li(n);return function t(){return(this&&this!==Rt&&this instanceof t?a:n).apply(e?r:this,arguments)}}(n,t,r);return iu((d?Na:ru)(N,S),n,t)}function Ai(n,t,r,e){return n===i||ho(n,ct[r])&&!st.call(e,r)?t:n}function Si(n,t,r,e,a,u){return No(n)&&No(t)&&(u.set(t,n),ga(n,t,i,Si,u),u.delete(t)),n}function Ni(n){return zo(n)?i:n}function Ei(n,t,r,e,a,u){var o=r&g,c=n.length,f=t.length;if(c!=f&&!(o&&f>c))return!1;var l=u.get(n);if(l&&u.get(t))return l==t;var s=-1,h=!0,p=r&d?new xe:i;for(u.set(n,t),u.set(t,n);++s<c;){var v=n[s],y=t[s];if(e)var m=o?e(y,v,s,t,n,u):e(v,y,s,n,t,u);if(m!==i){if(m)continue;h=!1;break}if(p){if(!ar(t,function(n,t){if(!br(p,t)&&(v===n||a(v,n,r,e,u)))return p.push(t)})){h=!1;break}}else if(v!==y&&!a(v,y,r,e,u)){h=!1;break}}return u.delete(n),u.delete(t),h}function Ci(n){return au(Qi(n,i,yu),n+"")}function ji(n){return Ke(n,ac,Pi)}function zi(n){return Ke(n,ic,Fi)}var Li=ee?function(n){return ee.get(n)}:Tc;function Oi(n){for(var t=n.name+"",r=ae[t],e=st.call(ae,t)?r.length:0;e--;){var a=r[e],i=a.func;if(null==i||i==n)return a.name}return t}function Ri(n){return(st.call(pe,"placeholder")?pe:n).placeholder}function Ti(){var n=pe.iteratee||zc;return n=n===zc?ca:n,arguments.length?n(arguments[0],arguments[1]):n}function qi(n,t){var r,e,a=n.__data__;return("string"==(e=typeof(r=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Ii(n){for(var t=ac(n),r=t.length;r--;){var e=t[r],a=n[e];t[r]=[e,a,Ki(a)]}return t}function Di(n,t){var r=function(n,t){return null==n?i:n[t]}(n,t);return oa(r)?r:i}var Pi=Fr?function(n){return null==n?[]:(n=rt(n),Kt(Fr(n),function(t){return Tt.call(n,t)}))}:Bc,Fi=Fr?function(n){for(var t=[];n;)tr(t,Pi(n)),n=Lt(n);return t}:Bc,Ui=Je;function Bi(n,t,r){for(var e=-1,a=(t=Ha(t,n)).length,i=!1;++e<a;){var u=fu(t[e]);if(!(i=null!=n&&r(n,u)))break;n=n[u]}return i||++e!=a?i:!!(a=null==n?0:n.length)&&So(a)&&$i(u,a)&&(yo(n)||go(n))}function Wi(n){return"function"!=typeof n.constructor||Xi(n)?{}:ve(Lt(n))}function Yi(n){return yo(n)||go(n)||!!(Dt&&n&&n[Dt])}function $i(n,t){var r=typeof n;return!!(t=null==t?R:t)&&("number"==r||"symbol"!=r&&Gn.test(n))&&n>-1&&n%1==0&&n<t}function Hi(n,t,r){if(!No(r))return!1;var e=typeof t;return!!("number"==e?bo(r)&&$i(t,r.length):"string"==e&&t in r)&&ho(r[t],n)}function Zi(n,t){if(yo(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!To(n))||zn.test(n)||!jn.test(n)||null!=t&&n in rt(t)}function Vi(n){var t=Oi(n),r=pe[t];if("function"!=typeof r||!(t in ye.prototype))return!1;if(n===r)return!0;var e=Li(r);return!!e&&n===e[0]}(Kr&&Ui(new Kr(new ArrayBuffer(1)))!=ln||Jr&&Ui(new Jr)!=X||Qr&&"[object Promise]"!=Ui(Qr.resolve())||ne&&Ui(new ne)!=rn||te&&Ui(new te)!=on)&&(Ui=function(n){var t=Je(n),r=t==Q?n.constructor:i,e=r?lu(r):"";if(e)switch(e){case ie:return ln;case ue:return X;case oe:return"[object Promise]";case ce:return rn;case fe:return on}return t});var Gi=ft?ko:Wc;function Xi(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ct)}function Ki(n){return n==n&&!No(n)}function Ji(n,t){return function(r){return null!=r&&r[n]===t&&(t!==i||n in rt(r))}}function Qi(n,t,r){return t=$r(t===i?n.length-1:t,0),function(){for(var a=arguments,i=-1,u=$r(a.length-t,0),o=e(u);++i<u;)o[i]=a[t+i];i=-1;for(var c=e(t+1);++i<t;)c[i]=a[i];return c[t]=r(o),Ht(n,this,c)}}function nu(n,t){return t.length<2?n:Xe(n,ja(t,0,-1))}function tu(n,t){if("__proto__"!=t)return n[t]}var ru=uu(Na),eu=Ir||function(n,t){return Rt.setTimeout(n,t)},au=uu(Ea);function iu(n,t,r){var e=t+"";return au(n,function(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Dn,"{\n/* [wrapped with "+t+"] */\n")}(e,function(n,t){return Vt(F,function(r){var e="_."+r[0];t&r[1]&&!Jt(n,e)&&n.push(e)}),n.sort()}(function(n){var t=n.match(Pn);return t?t[1].split(Fn):[]}(e),r)))}function uu(n){var t=0,r=0;return function(){var e=Zr(),a=j-(e-r);if(r=e,a>0){if(++t>=C)return arguments[0]}else t=0;return n.apply(i,arguments)}}function ou(n,t){var r=-1,e=n.length,a=e-1;for(t=t===i?e:t;++r<t;){var u=xa(r,a),o=n[u];n[u]=n[r],n[r]=o}return n.length=t,n}var cu=function(n){var t=uo(n,function(n){return r.size===l&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(Ln,function(n,r,e,a){t.push(e?a.replace(Bn,"$1"):r||n)}),t});function fu(n){if("string"==typeof n||To(n))return n;var t=n+"";return"0"==t&&1/n==-O?"-0":t}function lu(n){if(null!=n){try{return lt.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function su(n){if(n instanceof ye)return n.clone();var t=new de(n.__wrapped__,n.__chain__);return t.__actions__=ri(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}var hu=Ma(function(n,t){return _o(n)?De(n,Ye(t,1,_o,!0)):[]}),pu=Ma(function(n,t){var r=wu(t);return _o(r)&&(r=i),_o(n)?De(n,Ye(t,1,_o,!0),Ti(r,2)):[]}),vu=Ma(function(n,t){var r=wu(t);return _o(r)&&(r=i),_o(n)?De(n,Ye(t,1,_o,!0),i,r):[]});function gu(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var a=null==r?0:Uo(r);return a<0&&(a=$r(e+a,0)),or(n,Ti(t,3),a)}function du(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var a=e-1;return r!==i&&(a=Uo(r),a=r<0?$r(e+a,0):Hr(a,e-1)),or(n,Ti(t,3),a,!0)}function yu(n){return null!=n&&n.length?Ye(n,1):[]}function mu(n){return n&&n.length?n[0]:i}var bu=Ma(function(n){var t=nr(n,Ya);return t.length&&t[0]===n[0]?ra(t):[]}),_u=Ma(function(n){var t=wu(n),r=nr(n,Ya);return t===wu(r)?t=i:r.pop(),r.length&&r[0]===n[0]?ra(r,Ti(t,2)):[]}),xu=Ma(function(n){var t=wu(n),r=nr(n,Ya);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===n[0]?ra(r,i,t):[]});function wu(n){var t=null==n?0:n.length;return t?n[t-1]:i}var Mu=Ma(ku);function ku(n,t){return n&&n.length&&t&&t.length?ba(n,t):n}var Au=Ci(function(n,t){var r=null==n?0:n.length,e=Oe(n,t);return _a(n,nr(t,function(n){return $i(n,r)?+n:n}).sort(Qa)),e});function Su(n){return null==n?n:Xr.call(n)}var Nu=Ma(function(n){return Ia(Ye(n,1,_o,!0))}),Eu=Ma(function(n){var t=wu(n);return _o(t)&&(t=i),Ia(Ye(n,1,_o,!0),Ti(t,2))}),Cu=Ma(function(n){var t=wu(n);return t="function"==typeof t?t:i,Ia(Ye(n,1,_o,!0),i,t)});function ju(n){if(!n||!n.length)return[];var t=0;return n=Kt(n,function(n){if(_o(n))return t=$r(n.length,t),!0}),dr(t,function(t){return nr(n,hr(t))})}function zu(n,t){if(!n||!n.length)return[];var r=ju(n);return null==t?r:nr(r,function(n){return Ht(t,i,n)})}var Lu=Ma(function(n,t){return _o(n)?De(n,t):[]}),Ou=Ma(function(n){return Ba(Kt(n,_o))}),Ru=Ma(function(n){var t=wu(n);return _o(t)&&(t=i),Ba(Kt(n,_o),Ti(t,2))}),Tu=Ma(function(n){var t=wu(n);return t="function"==typeof t?t:i,Ba(Kt(n,_o),i,t)}),qu=Ma(ju);var Iu=Ma(function(n){var t=n.length,r=t>1?n[t-1]:i;return r="function"==typeof r?(n.pop(),r):i,zu(n,r)});function Du(n){var t=pe(n);return t.__chain__=!0,t}function Pu(n,t){return t(n)}var Fu=Ci(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,a=function(t){return Oe(t,n)};return!(t>1||this.__actions__.length)&&e instanceof ye&&$i(r)?((e=e.slice(r,+r+(t?1:0))).__actions__.push({func:Pu,args:[a],thisArg:i}),new de(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(i),n})):this.thru(a)});var Uu=ai(function(n,t,r){st.call(n,r)?++n[r]:Le(n,r,1)});var Bu=si(gu),Wu=si(du);function Yu(n,t){return(yo(n)?Vt:Pe)(n,Ti(t,3))}function $u(n,t){return(yo(n)?Gt:Fe)(n,Ti(t,3))}var Hu=ai(function(n,t,r){st.call(n,r)?n[r].push(t):Le(n,r,[t])});var Zu=Ma(function(n,t,r){var a=-1,i="function"==typeof t,u=bo(n)?e(n.length):[];return Pe(n,function(n){u[++a]=i?Ht(t,n,r):ea(n,t,r)}),u}),Vu=ai(function(n,t,r){Le(n,r,t)});function Gu(n,t){return(yo(n)?nr:ha)(n,Ti(t,3))}var Xu=ai(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]});var Ku=Ma(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Hi(n,t[0],t[1])?t=[]:r>2&&Hi(t[0],t[1],t[2])&&(t=[t[0]]),ya(n,Ye(t,1),[])}),Ju=qr||function(){return Rt.Date.now()};function Qu(n,t,r){return t=r?i:t,t=n&&null==t?n.length:t,ki(n,k,i,i,i,i,t)}function no(n,t){var r;if("function"!=typeof t)throw new it(c);return n=Uo(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=i),r}}var to=Ma(function(n,t,r){var e=y;if(r.length){var a=Er(r,Ri(to));e|=w}return ki(n,e,t,r,a)}),ro=Ma(function(n,t,r){var e=y|m;if(r.length){var a=Er(r,Ri(ro));e|=w}return ki(t,e,n,r,a)});function eo(n,t,r){var e,a,u,o,f,l,s=0,h=!1,p=!1,v=!0;if("function"!=typeof n)throw new it(c);function g(t){var r=e,u=a;return e=a=i,s=t,o=n.apply(u,r)}function d(n){var r=n-l;return l===i||r>=t||r<0||p&&n-s>=u}function y(){var n=Ju();if(d(n))return m(n);f=eu(y,function(n){var r=t-(n-l);return p?Hr(r,u-(n-s)):r}(n))}function m(n){return f=i,v&&e?g(n):(e=a=i,o)}function b(){var n=Ju(),r=d(n);if(e=arguments,a=this,l=n,r){if(f===i)return function(n){return s=n,f=eu(y,t),h?g(n):o}(l);if(p)return f=eu(y,t),g(l)}return f===i&&(f=eu(y,t)),o}return t=Wo(t)||0,No(r)&&(h=!!r.leading,u=(p="maxWait"in r)?$r(Wo(r.maxWait)||0,t):u,v="trailing"in r?!!r.trailing:v),b.cancel=function(){f!==i&&Ga(f),s=0,e=l=a=f=i},b.flush=function(){return f===i?o:m(Ju())},b}var ao=Ma(function(n,t){return Ie(n,1,t)}),io=Ma(function(n,t,r){return Ie(n,Wo(t)||0,r)});function uo(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new it(c);var r=function(){var e=arguments,a=t?t.apply(this,e):e[0],i=r.cache;if(i.has(a))return i.get(a);var u=n.apply(this,e);return r.cache=i.set(a,u)||i,u};return r.cache=new(uo.Cache||_e),r}function oo(n){if("function"!=typeof n)throw new it(c);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}uo.Cache=_e;var co=Za(function(n,t){var r=(t=1==t.length&&yo(t[0])?nr(t[0],yr(Ti())):nr(Ye(t,1),yr(Ti()))).length;return Ma(function(e){for(var a=-1,i=Hr(e.length,r);++a<i;)e[a]=t[a].call(this,e[a]);return Ht(n,this,e)})}),fo=Ma(function(n,t){var r=Er(t,Ri(fo));return ki(n,w,i,t,r)}),lo=Ma(function(n,t){var r=Er(t,Ri(lo));return ki(n,M,i,t,r)}),so=Ci(function(n,t){return ki(n,A,i,i,i,t)});function ho(n,t){return n===t||n!=n&&t!=t}var po=bi(Qe),vo=bi(function(n,t){return n>=t}),go=aa(function(){return arguments}())?aa:function(n){return Eo(n)&&st.call(n,"callee")&&!Tt.call(n,"callee")},yo=e.isArray,mo=Ft?yr(Ft):function(n){return Eo(n)&&Je(n)==fn};function bo(n){return null!=n&&So(n.length)&&!ko(n)}function _o(n){return Eo(n)&&bo(n)}var xo=Ur||Wc,wo=Ut?yr(Ut):function(n){return Eo(n)&&Je(n)==$};function Mo(n){if(!Eo(n))return!1;var t=Je(n);return t==Z||t==H||"string"==typeof n.message&&"string"==typeof n.name&&!zo(n)}function ko(n){if(!No(n))return!1;var t=Je(n);return t==V||t==G||t==W||t==nn}function Ao(n){return"number"==typeof n&&n==Uo(n)}function So(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=R}function No(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function Eo(n){return null!=n&&"object"==typeof n}var Co=Bt?yr(Bt):function(n){return Eo(n)&&Ui(n)==X};function jo(n){return"number"==typeof n||Eo(n)&&Je(n)==K}function zo(n){if(!Eo(n)||Je(n)!=Q)return!1;var t=Lt(n);if(null===t)return!0;var r=st.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&lt.call(r)==gt}var Lo=Wt?yr(Wt):function(n){return Eo(n)&&Je(n)==tn};var Oo=Yt?yr(Yt):function(n){return Eo(n)&&Ui(n)==rn};function Ro(n){return"string"==typeof n||!yo(n)&&Eo(n)&&Je(n)==en}function To(n){return"symbol"==typeof n||Eo(n)&&Je(n)==an}var qo=$t?yr($t):function(n){return Eo(n)&&So(n.length)&&!!Nt[Je(n)]};var Io=bi(sa),Do=bi(function(n,t){return n<=t});function Po(n){if(!n)return[];if(bo(n))return Ro(n)?Lr(n):ri(n);if(Pt&&n[Pt])return function(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}(n[Pt]());var t=Ui(n);return(t==X?Sr:t==rn?Cr:pc)(n)}function Fo(n){return n?(n=Wo(n))===O||n===-O?(n<0?-1:1)*T:n==n?n:0:0===n?n:0}function Uo(n){var t=Fo(n),r=t%1;return t==t?r?t-r:t:0}function Bo(n){return n?Re(Uo(n),0,I):0}function Wo(n){if("number"==typeof n)return n;if(To(n))return q;if(No(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=No(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Tn,"");var r=Hn.test(n);return r||Vn.test(n)?zt(n.slice(2),r?2:8):$n.test(n)?q:+n}function Yo(n){return ei(n,ic(n))}function $o(n){return null==n?"":qa(n)}var Ho=ii(function(n,t){if(Xi(t)||bo(t))ei(t,ac(t),n);else for(var r in t)st.call(t,r)&&Ee(n,r,t[r])}),Zo=ii(function(n,t){ei(t,ic(t),n)}),Vo=ii(function(n,t,r,e){ei(t,ic(t),n,e)}),Go=ii(function(n,t,r,e){ei(t,ac(t),n,e)}),Xo=Ci(Oe);var Ko=Ma(function(n,t){n=rt(n);var r=-1,e=t.length,a=e>2?t[2]:i;for(a&&Hi(t[0],t[1],a)&&(e=1);++r<e;)for(var u=t[r],o=ic(u),c=-1,f=o.length;++c<f;){var l=o[c],s=n[l];(s===i||ho(s,ct[l])&&!st.call(n,l))&&(n[l]=u[l])}return n}),Jo=Ma(function(n){return n.push(i,Si),Ht(oc,i,n)});function Qo(n,t,r){var e=null==n?i:Xe(n,t);return e===i?r:e}function nc(n,t){return null!=n&&Bi(n,t,ta)}var tc=vi(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=vt.call(t)),n[t]=r},Nc(jc)),rc=vi(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=vt.call(t)),st.call(n,t)?n[t].push(r):n[t]=[r]},Ti),ec=Ma(ea);function ac(n){return bo(n)?Me(n):fa(n)}function ic(n){return bo(n)?Me(n,!0):la(n)}var uc=ii(function(n,t,r){ga(n,t,r)}),oc=ii(function(n,t,r,e){ga(n,t,r,e)}),cc=Ci(function(n,t){var r={};if(null==n)return r;var e=!1;t=nr(t,function(t){return t=Ha(t,n),e||(e=t.length>1),t}),ei(n,zi(n),r),e&&(r=Te(r,h|p|v,Ni));for(var a=t.length;a--;)Da(r,t[a]);return r});var fc=Ci(function(n,t){return null==n?{}:function(n,t){return ma(n,t,function(t,r){return nc(n,r)})}(n,t)});function lc(n,t){if(null==n)return{};var r=nr(zi(n),function(n){return[n]});return t=Ti(t),ma(n,r,function(n,r){return t(n,r[0])})}var sc=Mi(ac),hc=Mi(ic);function pc(n){return null==n?[]:mr(n,ac(n))}var vc=fi(function(n,t,r){return t=t.toLowerCase(),n+(r?gc(t):t)});function gc(n){return Mc($o(n).toLowerCase())}function dc(n){return(n=$o(n))&&n.replace(Xn,wr).replace(_t,"")}var yc=fi(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),mc=fi(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),bc=ci("toLowerCase");var _c=fi(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()});var xc=fi(function(n,t,r){return n+(r?" ":"")+Mc(t)});var wc=fi(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Mc=ci("toUpperCase");function kc(n,t,r){return n=$o(n),(t=r?i:t)===i?function(n){return kt.test(n)}(n)?function(n){return n.match(wt)||[]}(n):function(n){return n.match(Un)||[]}(n):n.match(t)||[]}var Ac=Ma(function(n,t){try{return Ht(n,i,t)}catch(n){return Mo(n)?n:new Qn(n)}}),Sc=Ci(function(n,t){return Vt(t,function(t){t=fu(t),Le(n,t,to(n[t],n))}),n});function Nc(n){return function(){return n}}var Ec=hi(),Cc=hi(!0);function jc(n){return n}function zc(n){return ca("function"==typeof n?n:Te(n,h))}var Lc=Ma(function(n,t){return function(r){return ea(r,n,t)}}),Oc=Ma(function(n,t){return function(r){return ea(n,r,t)}});function Rc(n,t,r){var e=ac(t),a=Ge(t,e);null!=r||No(t)&&(a.length||!e.length)||(r=t,t=n,n=this,a=Ge(t,ac(t)));var i=!(No(r)&&"chain"in r&&!r.chain),u=ko(n);return Vt(a,function(r){var e=t[r];n[r]=e,u&&(n.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=n(this.__wrapped__);return(r.__actions__=ri(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,tr([this.value()],arguments))})}),n}function Tc(){}var qc=di(nr),Ic=di(Xt),Dc=di(ar);function Pc(n){return Zi(n)?hr(fu(n)):function(n){return function(t){return Xe(t,n)}}(n)}var Fc=mi(),Uc=mi(!0);function Bc(){return[]}function Wc(){return!1}var Yc=gi(function(n,t){return n+t},0),$c=xi("ceil"),Hc=gi(function(n,t){return n/t},1),Zc=xi("floor");var Vc,Gc=gi(function(n,t){return n*t},1),Xc=xi("round"),Kc=gi(function(n,t){return n-t},0);return pe.after=function(n,t){if("function"!=typeof t)throw new it(c);return n=Uo(n),function(){if(--n<1)return t.apply(this,arguments)}},pe.ary=Qu,pe.assign=Ho,pe.assignIn=Zo,pe.assignInWith=Vo,pe.assignWith=Go,pe.at=Xo,pe.before=no,pe.bind=to,pe.bindAll=Sc,pe.bindKey=ro,pe.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return yo(n)?n:[n]},pe.chain=Du,pe.chunk=function(n,t,r){t=(r?Hi(n,t,r):t===i)?1:$r(Uo(t),0);var a=null==n?0:n.length;if(!a||t<1)return[];for(var u=0,o=0,c=e(Dr(a/t));u<a;)c[o++]=ja(n,u,u+=t);return c},pe.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,a=[];++t<r;){var i=n[t];i&&(a[e++]=i)}return a},pe.concat=function(){var n=arguments.length;if(!n)return[];for(var t=e(n-1),r=arguments[0],a=n;a--;)t[a-1]=arguments[a];return tr(yo(r)?ri(r):[r],Ye(t,1))},pe.cond=function(n){var t=null==n?0:n.length,r=Ti();return n=t?nr(n,function(n){if("function"!=typeof n[1])throw new it(c);return[r(n[0]),n[1]]}):[],Ma(function(r){for(var e=-1;++e<t;){var a=n[e];if(Ht(a[0],this,r))return Ht(a[1],this,r)}})},pe.conforms=function(n){return function(n){var t=ac(n);return function(r){return qe(r,n,t)}}(Te(n,h))},pe.constant=Nc,pe.countBy=Uu,pe.create=function(n,t){var r=ve(n);return null==t?r:ze(r,t)},pe.curry=function n(t,r,e){var a=ki(t,_,i,i,i,i,i,r=e?i:r);return a.placeholder=n.placeholder,a},pe.curryRight=function n(t,r,e){var a=ki(t,x,i,i,i,i,i,r=e?i:r);return a.placeholder=n.placeholder,a},pe.debounce=eo,pe.defaults=Ko,pe.defaultsDeep=Jo,pe.defer=ao,pe.delay=io,pe.difference=hu,pe.differenceBy=pu,pe.differenceWith=vu,pe.drop=function(n,t,r){var e=null==n?0:n.length;return e?ja(n,(t=r||t===i?1:Uo(t))<0?0:t,e):[]},pe.dropRight=function(n,t,r){var e=null==n?0:n.length;return e?ja(n,0,(t=e-(t=r||t===i?1:Uo(t)))<0?0:t):[]},pe.dropRightWhile=function(n,t){return n&&n.length?Fa(n,Ti(t,3),!0,!0):[]},pe.dropWhile=function(n,t){return n&&n.length?Fa(n,Ti(t,3),!0):[]},pe.fill=function(n,t,r,e){var a=null==n?0:n.length;return a?(r&&"number"!=typeof r&&Hi(n,t,r)&&(r=0,e=a),function(n,t,r,e){var a=n.length;for((r=Uo(r))<0&&(r=-r>a?0:a+r),(e=e===i||e>a?a:Uo(e))<0&&(e+=a),e=r>e?0:Bo(e);r<e;)n[r++]=t;return n}(n,t,r,e)):[]},pe.filter=function(n,t){return(yo(n)?Kt:We)(n,Ti(t,3))},pe.flatMap=function(n,t){return Ye(Gu(n,t),1)},pe.flatMapDeep=function(n,t){return Ye(Gu(n,t),O)},pe.flatMapDepth=function(n,t,r){return r=r===i?1:Uo(r),Ye(Gu(n,t),r)},pe.flatten=yu,pe.flattenDeep=function(n){return null!=n&&n.length?Ye(n,O):[]},pe.flattenDepth=function(n,t){return null!=n&&n.length?Ye(n,t=t===i?1:Uo(t)):[]},pe.flip=function(n){return ki(n,S)},pe.flow=Ec,pe.flowRight=Cc,pe.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var a=n[t];e[a[0]]=a[1]}return e},pe.functions=function(n){return null==n?[]:Ge(n,ac(n))},pe.functionsIn=function(n){return null==n?[]:Ge(n,ic(n))},pe.groupBy=Hu,pe.initial=function(n){return null!=n&&n.length?ja(n,0,-1):[]},pe.intersection=bu,pe.intersectionBy=_u,pe.intersectionWith=xu,pe.invert=tc,pe.invertBy=rc,pe.invokeMap=Zu,pe.iteratee=zc,pe.keyBy=Vu,pe.keys=ac,pe.keysIn=ic,pe.map=Gu,pe.mapKeys=function(n,t){var r={};return t=Ti(t,3),Ze(n,function(n,e,a){Le(r,t(n,e,a),n)}),r},pe.mapValues=function(n,t){var r={};return t=Ti(t,3),Ze(n,function(n,e,a){Le(r,e,t(n,e,a))}),r},pe.matches=function(n){return pa(Te(n,h))},pe.matchesProperty=function(n,t){return va(n,Te(t,h))},pe.memoize=uo,pe.merge=uc,pe.mergeWith=oc,pe.method=Lc,pe.methodOf=Oc,pe.mixin=Rc,pe.negate=oo,pe.nthArg=function(n){return n=Uo(n),Ma(function(t){return da(t,n)})},pe.omit=cc,pe.omitBy=function(n,t){return lc(n,oo(Ti(t)))},pe.once=function(n){return no(2,n)},pe.orderBy=function(n,t,r,e){return null==n?[]:(yo(t)||(t=null==t?[]:[t]),yo(r=e?i:r)||(r=null==r?[]:[r]),ya(n,t,r))},pe.over=qc,pe.overArgs=co,pe.overEvery=Ic,pe.overSome=Dc,pe.partial=fo,pe.partialRight=lo,pe.partition=Xu,pe.pick=fc,pe.pickBy=lc,pe.property=Pc,pe.propertyOf=function(n){return function(t){return null==n?i:Xe(n,t)}},pe.pull=Mu,pe.pullAll=ku,pe.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?ba(n,t,Ti(r,2)):n},pe.pullAllWith=function(n,t,r){return n&&n.length&&t&&t.length?ba(n,t,i,r):n},pe.pullAt=Au,pe.range=Fc,pe.rangeRight=Uc,pe.rearg=so,pe.reject=function(n,t){return(yo(n)?Kt:We)(n,oo(Ti(t,3)))},pe.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,a=[],i=n.length;for(t=Ti(t,3);++e<i;){var u=n[e];t(u,e,n)&&(r.push(u),a.push(e))}return _a(n,a),r},pe.rest=function(n,t){if("function"!=typeof n)throw new it(c);return Ma(n,t=t===i?t:Uo(t))},pe.reverse=Su,pe.sampleSize=function(n,t,r){return t=(r?Hi(n,t,r):t===i)?1:Uo(t),(yo(n)?Ae:Aa)(n,t)},pe.set=function(n,t,r){return null==n?n:Sa(n,t,r)},pe.setWith=function(n,t,r,e){return e="function"==typeof e?e:i,null==n?n:Sa(n,t,r,e)},pe.shuffle=function(n){return(yo(n)?Se:Ca)(n)},pe.slice=function(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Hi(n,t,r)?(t=0,r=e):(t=null==t?0:Uo(t),r=r===i?e:Uo(r)),ja(n,t,r)):[]},pe.sortBy=Ku,pe.sortedUniq=function(n){return n&&n.length?Ra(n):[]},pe.sortedUniqBy=function(n,t){return n&&n.length?Ra(n,Ti(t,2)):[]},pe.split=function(n,t,r){return r&&"number"!=typeof r&&Hi(n,t,r)&&(t=r=i),(r=r===i?I:r>>>0)?(n=$o(n))&&("string"==typeof t||null!=t&&!Lo(t))&&!(t=qa(t))&&Ar(n)?Va(Lr(n),0,r):n.split(t,r):[]},pe.spread=function(n,t){if("function"!=typeof n)throw new it(c);return t=null==t?0:$r(Uo(t),0),Ma(function(r){var e=r[t],a=Va(r,0,t);return e&&tr(a,e),Ht(n,this,a)})},pe.tail=function(n){var t=null==n?0:n.length;return t?ja(n,1,t):[]},pe.take=function(n,t,r){return n&&n.length?ja(n,0,(t=r||t===i?1:Uo(t))<0?0:t):[]},pe.takeRight=function(n,t,r){var e=null==n?0:n.length;return e?ja(n,(t=e-(t=r||t===i?1:Uo(t)))<0?0:t,e):[]},pe.takeRightWhile=function(n,t){return n&&n.length?Fa(n,Ti(t,3),!1,!0):[]},pe.takeWhile=function(n,t){return n&&n.length?Fa(n,Ti(t,3)):[]},pe.tap=function(n,t){return t(n),n},pe.throttle=function(n,t,r){var e=!0,a=!0;if("function"!=typeof n)throw new it(c);return No(r)&&(e="leading"in r?!!r.leading:e,a="trailing"in r?!!r.trailing:a),eo(n,t,{leading:e,maxWait:t,trailing:a})},pe.thru=Pu,pe.toArray=Po,pe.toPairs=sc,pe.toPairsIn=hc,pe.toPath=function(n){return yo(n)?nr(n,fu):To(n)?[n]:ri(cu($o(n)))},pe.toPlainObject=Yo,pe.transform=function(n,t,r){var e=yo(n),a=e||xo(n)||qo(n);if(t=Ti(t,4),null==r){var i=n&&n.constructor;r=a?e?new i:[]:No(n)&&ko(i)?ve(Lt(n)):{}}return(a?Vt:Ze)(n,function(n,e,a){return t(r,n,e,a)}),r},pe.unary=function(n){return Qu(n,1)},pe.union=Nu,pe.unionBy=Eu,pe.unionWith=Cu,pe.uniq=function(n){return n&&n.length?Ia(n):[]},pe.uniqBy=function(n,t){return n&&n.length?Ia(n,Ti(t,2)):[]},pe.uniqWith=function(n,t){return t="function"==typeof t?t:i,n&&n.length?Ia(n,i,t):[]},pe.unset=function(n,t){return null==n||Da(n,t)},pe.unzip=ju,pe.unzipWith=zu,pe.update=function(n,t,r){return null==n?n:Pa(n,t,$a(r))},pe.updateWith=function(n,t,r,e){return e="function"==typeof e?e:i,null==n?n:Pa(n,t,$a(r),e)},pe.values=pc,pe.valuesIn=function(n){return null==n?[]:mr(n,ic(n))},pe.without=Lu,pe.words=kc,pe.wrap=function(n,t){return fo($a(t),n)},pe.xor=Ou,pe.xorBy=Ru,pe.xorWith=Tu,pe.zip=qu,pe.zipObject=function(n,t){return Wa(n||[],t||[],Ee)},pe.zipObjectDeep=function(n,t){return Wa(n||[],t||[],Sa)},pe.zipWith=Iu,pe.entries=sc,pe.entriesIn=hc,pe.extend=Zo,pe.extendWith=Vo,Rc(pe,pe),pe.add=Yc,pe.attempt=Ac,pe.camelCase=vc,pe.capitalize=gc,pe.ceil=$c,pe.clamp=function(n,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=Wo(r))==r?r:0),t!==i&&(t=(t=Wo(t))==t?t:0),Re(Wo(n),t,r)},pe.clone=function(n){return Te(n,v)},pe.cloneDeep=function(n){return Te(n,h|v)},pe.cloneDeepWith=function(n,t){return Te(n,h|v,t="function"==typeof t?t:i)},pe.cloneWith=function(n,t){return Te(n,v,t="function"==typeof t?t:i)},pe.conformsTo=function(n,t){return null==t||qe(n,t,ac(t))},pe.deburr=dc,pe.defaultTo=function(n,t){return null==n||n!=n?t:n},pe.divide=Hc,pe.endsWith=function(n,t,r){n=$o(n),t=qa(t);var e=n.length,a=r=r===i?e:Re(Uo(r),0,e);return(r-=t.length)>=0&&n.slice(r,a)==t},pe.eq=ho,pe.escape=function(n){return(n=$o(n))&&Sn.test(n)?n.replace(kn,Mr):n},pe.escapeRegExp=function(n){return(n=$o(n))&&Rn.test(n)?n.replace(On,"\\$&"):n},pe.every=function(n,t,r){var e=yo(n)?Xt:Ue;return r&&Hi(n,t,r)&&(t=i),e(n,Ti(t,3))},pe.find=Bu,pe.findIndex=gu,pe.findKey=function(n,t){return ur(n,Ti(t,3),Ze)},pe.findLast=Wu,pe.findLastIndex=du,pe.findLastKey=function(n,t){return ur(n,Ti(t,3),Ve)},pe.floor=Zc,pe.forEach=Yu,pe.forEachRight=$u,pe.forIn=function(n,t){return null==n?n:$e(n,Ti(t,3),ic)},pe.forInRight=function(n,t){return null==n?n:He(n,Ti(t,3),ic)},pe.forOwn=function(n,t){return n&&Ze(n,Ti(t,3))},pe.forOwnRight=function(n,t){return n&&Ve(n,Ti(t,3))},pe.get=Qo,pe.gt=po,pe.gte=vo,pe.has=function(n,t){return null!=n&&Bi(n,t,na)},pe.hasIn=nc,pe.head=mu,pe.identity=jc,pe.includes=function(n,t,r,e){n=bo(n)?n:pc(n),r=r&&!e?Uo(r):0;var a=n.length;return r<0&&(r=$r(a+r,0)),Ro(n)?r<=a&&n.indexOf(t,r)>-1:!!a&&cr(n,t,r)>-1},pe.indexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var a=null==r?0:Uo(r);return a<0&&(a=$r(e+a,0)),cr(n,t,a)},pe.inRange=function(n,t,r){return t=Fo(t),r===i?(r=t,t=0):r=Fo(r),function(n,t,r){return n>=Hr(t,r)&&n<$r(t,r)}(n=Wo(n),t,r)},pe.invoke=ec,pe.isArguments=go,pe.isArray=yo,pe.isArrayBuffer=mo,pe.isArrayLike=bo,pe.isArrayLikeObject=_o,pe.isBoolean=function(n){return!0===n||!1===n||Eo(n)&&Je(n)==Y},pe.isBuffer=xo,pe.isDate=wo,pe.isElement=function(n){return Eo(n)&&1===n.nodeType&&!zo(n)},pe.isEmpty=function(n){if(null==n)return!0;if(bo(n)&&(yo(n)||"string"==typeof n||"function"==typeof n.splice||xo(n)||qo(n)||go(n)))return!n.length;var t=Ui(n);if(t==X||t==rn)return!n.size;if(Xi(n))return!fa(n).length;for(var r in n)if(st.call(n,r))return!1;return!0},pe.isEqual=function(n,t){return ia(n,t)},pe.isEqualWith=function(n,t,r){var e=(r="function"==typeof r?r:i)?r(n,t):i;return e===i?ia(n,t,i,r):!!e},pe.isError=Mo,pe.isFinite=function(n){return"number"==typeof n&&Br(n)},pe.isFunction=ko,pe.isInteger=Ao,pe.isLength=So,pe.isMap=Co,pe.isMatch=function(n,t){return n===t||ua(n,t,Ii(t))},pe.isMatchWith=function(n,t,r){return r="function"==typeof r?r:i,ua(n,t,Ii(t),r)},pe.isNaN=function(n){return jo(n)&&n!=+n},pe.isNative=function(n){if(Gi(n))throw new Qn(o);return oa(n)},pe.isNil=function(n){return null==n},pe.isNull=function(n){return null===n},pe.isNumber=jo,pe.isObject=No,pe.isObjectLike=Eo,pe.isPlainObject=zo,pe.isRegExp=Lo,pe.isSafeInteger=function(n){return Ao(n)&&n>=-R&&n<=R},pe.isSet=Oo,pe.isString=Ro,pe.isSymbol=To,pe.isTypedArray=qo,pe.isUndefined=function(n){return n===i},pe.isWeakMap=function(n){return Eo(n)&&Ui(n)==on},pe.isWeakSet=function(n){return Eo(n)&&Je(n)==cn},pe.join=function(n,t){return null==n?"":Wr.call(n,t)},pe.kebabCase=yc,pe.last=wu,pe.lastIndexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var a=e;return r!==i&&(a=(a=Uo(r))<0?$r(e+a,0):Hr(a,e-1)),t==t?function(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}(n,t,a):or(n,lr,a,!0)},pe.lowerCase=mc,pe.lowerFirst=bc,pe.lt=Io,pe.lte=Do,pe.max=function(n){return n&&n.length?Be(n,jc,Qe):i},pe.maxBy=function(n,t){return n&&n.length?Be(n,Ti(t,2),Qe):i},pe.mean=function(n){return sr(n,jc)},pe.meanBy=function(n,t){return sr(n,Ti(t,2))},pe.min=function(n){return n&&n.length?Be(n,jc,sa):i},pe.minBy=function(n,t){return n&&n.length?Be(n,Ti(t,2),sa):i},pe.stubArray=Bc,pe.stubFalse=Wc,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=Gc,pe.nth=function(n,t){return n&&n.length?da(n,Uo(t)):i},pe.noConflict=function(){return Rt._===this&&(Rt._=dt),this},pe.noop=Tc,pe.now=Ju,pe.pad=function(n,t,r){n=$o(n);var e=(t=Uo(t))?zr(n):0;if(!t||e>=t)return n;var a=(t-e)/2;return yi(Pr(a),r)+n+yi(Dr(a),r)},pe.padEnd=function(n,t,r){n=$o(n);var e=(t=Uo(t))?zr(n):0;return t&&e<t?n+yi(t-e,r):n},pe.padStart=function(n,t,r){n=$o(n);var e=(t=Uo(t))?zr(n):0;return t&&e<t?yi(t-e,r)+n:n},pe.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),Vr($o(n).replace(qn,""),t||0)},pe.random=function(n,t,r){if(r&&"boolean"!=typeof r&&Hi(n,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof n&&(r=n,n=i)),n===i&&t===i?(n=0,t=1):(n=Fo(n),t===i?(t=n,n=0):t=Fo(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var a=Gr();return Hr(n+a*(t-n+jt("1e-"+((a+"").length-1))),t)}return xa(n,t)},pe.reduce=function(n,t,r){var e=yo(n)?rr:vr,a=arguments.length<3;return e(n,Ti(t,4),r,a,Pe)},pe.reduceRight=function(n,t,r){var e=yo(n)?er:vr,a=arguments.length<3;return e(n,Ti(t,4),r,a,Fe)},pe.repeat=function(n,t,r){return t=(r?Hi(n,t,r):t===i)?1:Uo(t),wa($o(n),t)},pe.replace=function(){var n=arguments,t=$o(n[0]);return n.length<3?t:t.replace(n[1],n[2])},pe.result=function(n,t,r){var e=-1,a=(t=Ha(t,n)).length;for(a||(a=1,n=i);++e<a;){var u=null==n?i:n[fu(t[e])];u===i&&(e=a,u=r),n=ko(u)?u.call(n):u}return n},pe.round=Xc,pe.runInContext=n,pe.sample=function(n){return(yo(n)?ke:ka)(n)},pe.size=function(n){if(null==n)return 0;if(bo(n))return Ro(n)?zr(n):n.length;var t=Ui(n);return t==X||t==rn?n.size:fa(n).length},pe.snakeCase=_c,pe.some=function(n,t,r){var e=yo(n)?ar:za;return r&&Hi(n,t,r)&&(t=i),e(n,Ti(t,3))},pe.sortedIndex=function(n,t){return La(n,t)},pe.sortedIndexBy=function(n,t,r){return Oa(n,t,Ti(r,2))},pe.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=La(n,t);if(e<r&&ho(n[e],t))return e}return-1},pe.sortedLastIndex=function(n,t){return La(n,t,!0)},pe.sortedLastIndexBy=function(n,t,r){return Oa(n,t,Ti(r,2),!0)},pe.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var r=La(n,t,!0)-1;if(ho(n[r],t))return r}return-1},pe.startCase=xc,pe.startsWith=function(n,t,r){return n=$o(n),r=null==r?0:Re(Uo(r),0,n.length),t=qa(t),n.slice(r,r+t.length)==t},pe.subtract=Kc,pe.sum=function(n){return n&&n.length?gr(n,jc):0},pe.sumBy=function(n,t){return n&&n.length?gr(n,Ti(t,2)):0},pe.template=function(n,t,r){var e=pe.templateSettings;r&&Hi(n,t,r)&&(t=i),n=$o(n),t=Vo({},t,e,Ai);var a,u,o=Vo({},t.imports,e.imports,Ai),c=ac(o),f=mr(o,c),l=0,s=t.interpolate||Kn,h="__p += '",p=et((t.escape||Kn).source+"|"+s.source+"|"+(s===Cn?Wn:Kn).source+"|"+(t.evaluate||Kn).source+"|$","g"),v="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++St+"]")+"\n";n.replace(p,function(t,r,e,i,o,c){return e||(e=i),h+=n.slice(l,c).replace(Jn,kr),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),o&&(u=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(_n,""):h).replace(xn,"$1").replace(wn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var d=Ac(function(){return nt(c,v+"return "+h).apply(i,f)});if(d.source=h,Mo(d))throw d;return d},pe.times=function(n,t){if((n=Uo(n))<1||n>R)return[];var r=I,e=Hr(n,I);t=Ti(t),n-=I;for(var a=dr(e,t);++r<n;)t(r);return a},pe.toFinite=Fo,pe.toInteger=Uo,pe.toLength=Bo,pe.toLower=function(n){return $o(n).toLowerCase()},pe.toNumber=Wo,pe.toSafeInteger=function(n){return n?Re(Uo(n),-R,R):0===n?n:0},pe.toString=$o,pe.toUpper=function(n){return $o(n).toUpperCase()},pe.trim=function(n,t,r){if((n=$o(n))&&(r||t===i))return n.replace(Tn,"");if(!n||!(t=qa(t)))return n;var e=Lr(n),a=Lr(t);return Va(e,_r(e,a),xr(e,a)+1).join("")},pe.trimEnd=function(n,t,r){if((n=$o(n))&&(r||t===i))return n.replace(In,"");if(!n||!(t=qa(t)))return n;var e=Lr(n);return Va(e,0,xr(e,Lr(t))+1).join("")},pe.trimStart=function(n,t,r){if((n=$o(n))&&(r||t===i))return n.replace(qn,"");if(!n||!(t=qa(t)))return n;var e=Lr(n);return Va(e,_r(e,Lr(t))).join("")},pe.truncate=function(n,t){var r=N,e=E;if(No(t)){var a="separator"in t?t.separator:a;r="length"in t?Uo(t.length):r,e="omission"in t?qa(t.omission):e}var u=(n=$o(n)).length;if(Ar(n)){var o=Lr(n);u=o.length}if(r>=u)return n;var c=r-zr(e);if(c<1)return e;var f=o?Va(o,0,c).join(""):n.slice(0,c);if(a===i)return f+e;if(o&&(c+=f.length-c),Lo(a)){if(n.slice(c).search(a)){var l,s=f;for(a.global||(a=et(a.source,$o(Yn.exec(a))+"g")),a.lastIndex=0;l=a.exec(s);)var h=l.index;f=f.slice(0,h===i?c:h)}}else if(n.indexOf(qa(a),c)!=c){var p=f.lastIndexOf(a);p>-1&&(f=f.slice(0,p))}return f+e},pe.unescape=function(n){return(n=$o(n))&&An.test(n)?n.replace(Mn,Or):n},pe.uniqueId=function(n){var t=++ht;return $o(n)+t},pe.upperCase=wc,pe.upperFirst=Mc,pe.each=Yu,pe.eachRight=$u,pe.first=mu,Rc(pe,(Vc={},Ze(pe,function(n,t){st.call(pe.prototype,t)||(Vc[t]=n)}),Vc),{chain:!1}),pe.VERSION="4.17.11",Vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){pe[n].placeholder=pe}),Vt(["drop","take"],function(n,t){ye.prototype[n]=function(r){r=r===i?1:$r(Uo(r),0);var e=this.__filtered__&&!t?new ye(this):this.clone();return e.__filtered__?e.__takeCount__=Hr(r,e.__takeCount__):e.__views__.push({size:Hr(r,I),type:n+(e.__dir__<0?"Right":"")}),e},ye.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Vt(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==z||3==r;ye.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:Ti(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),Vt(["head","last"],function(n,t){var r="take"+(t?"Right":"");ye.prototype[n]=function(){return this[r](1).value()[0]}}),Vt(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");ye.prototype[n]=function(){return this.__filtered__?new ye(this):this[r](1)}}),ye.prototype.compact=function(){return this.filter(jc)},ye.prototype.find=function(n){return this.filter(n).head()},ye.prototype.findLast=function(n){return this.reverse().find(n)},ye.prototype.invokeMap=Ma(function(n,t){return"function"==typeof n?new ye(this):this.map(function(r){return ea(r,n,t)})}),ye.prototype.reject=function(n){return this.filter(oo(Ti(n)))},ye.prototype.slice=function(n,t){n=Uo(n);var r=this;return r.__filtered__&&(n>0||t<0)?new ye(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==i&&(r=(t=Uo(t))<0?r.dropRight(-t):r.take(t-n)),r)},ye.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ye.prototype.toArray=function(){return this.take(I)},Ze(ye.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),a=pe[e?"take"+("last"==t?"Right":""):t],u=e||/^find/.test(t);a&&(pe.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,c=t instanceof ye,f=o[0],l=c||yo(t),s=function(n){var t=a.apply(pe,tr([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof f&&1!=f.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,v=u&&!h,g=c&&!p;if(!u&&l){t=g?t:new ye(this);var d=n.apply(t,o);return d.__actions__.push({func:Pu,args:[s],thisArg:i}),new de(d,h)}return v&&g?n.apply(this,o):(d=this.thru(s),v?e?d.value()[0]:d.value():d)})}),Vt(["pop","push","shift","sort","splice","unshift"],function(n){var t=ut[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);pe.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var a=this.value();return t.apply(yo(a)?a:[],n)}return this[r](function(r){return t.apply(yo(r)?r:[],n)})}}),Ze(ye.prototype,function(n,t){var r=pe[t];if(r){var e=r.name+"";(ae[e]||(ae[e]=[])).push({name:t,func:r})}}),ae[pi(i,m).name]=[{name:"wrapper",func:i}],ye.prototype.clone=function(){var n=new ye(this.__wrapped__);return n.__actions__=ri(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ri(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ri(this.__views__),n},ye.prototype.reverse=function(){if(this.__filtered__){var n=new ye(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},ye.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,r=yo(n),e=t<0,a=r?n.length:0,i=function(n,t,r){for(var e=-1,a=r.length;++e<a;){var i=r[e],u=i.size;switch(i.type){case"drop":n+=u;break;case"dropRight":t-=u;break;case"take":t=Hr(t,n+u);break;case"takeRight":n=$r(n,t-u)}}return{start:n,end:t}}(0,a,this.__views__),u=i.start,o=i.end,c=o-u,f=e?o:u-1,l=this.__iteratees__,s=l.length,h=0,p=Hr(c,this.__takeCount__);if(!r||!e&&a==c&&p==c)return Ua(n,this.__actions__);var v=[];n:for(;c--&&h<p;){for(var g=-1,d=n[f+=t];++g<s;){var y=l[g],m=y.iteratee,b=y.type,_=m(d);if(b==L)d=_;else if(!_){if(b==z)continue n;break n}}v[h++]=d}return v},pe.prototype.at=Fu,pe.prototype.chain=function(){return Du(this)},pe.prototype.commit=function(){return new de(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===i&&(this.__values__=Po(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?i:this.__values__[this.__index__++]}},pe.prototype.plant=function(n){for(var t,r=this;r instanceof ge;){var e=su(r);e.__index__=0,e.__values__=i,t?a.__wrapped__=e:t=e;var a=e;r=r.__wrapped__}return a.__wrapped__=n,t},pe.prototype.reverse=function(){var n=this.__wrapped__;if(n instanceof ye){var t=n;return this.__actions__.length&&(t=new ye(this)),(t=t.reverse()).__actions__.push({func:Pu,args:[Su],thisArg:i}),new de(t,this.__chain__)}return this.thru(Su)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Ua(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,Pt&&(pe.prototype[Pt]=function(){return this}),pe}();Rt._=Rr,(a=function(){return Rr}.call(t,r,t,e))===i||(e.exports=a)}).call(this)}).call(this,r(6),r(16)(n))},function(n,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"e",function(){return f}),r.d(t,"b",function(){return u});var e=r(1),a=r.n(e),i=function(n){var t=d3.scale.linear().domain(n).nice().ticks();return t.length<9?t:t.filter(function(n,t){return t%2==0})},u=function(){var n={};if(0===document.getElementsByClassName("colour-palette").length)return n;var t=document.getElementsByClassName("colour");return 0===t.length?n:(a.a.each(t,function(t,r){var e=t.className,a=document.getElementsByClassName(e),i=window.getComputedStyle(a[0],null).getPropertyValue("background-color");n[e.split(" ")[0]]=i}),n)},o=function(n){return null==n},c=function(n){return a.a.isEmpty(n)},f=function(n){return c(n)||"string"==typeof n&&!1===/\S/.test(n)}},function(n,t,r){"use strict";var e=r(0),a=r.n(e),i=r(1),u=r.n(i),o=r(2);t.a=function(n,t,r,e){var i=a.a.select(n).select(".d3-attach"),c=null,f=parseInt(i.style("width"))-r.left-r.right,l=parseInt(i.style("height"))-r.top-r.bottom,s=t[0],h={"default-timeseries":!1,"basic-barchart":!1,"area-treemap":!1,"overunder-barchart":!1};if(h=u.a.forEach(h,function(n,t){h[t]=t===e}),c=i.select("svg"),i.classed("svg-loading",!0),(a.a.select(".chart-inner").empty()||!a.a.select(".chart-inner").empty()&&!a.a.select(".chart-inner").classed(e))&&(i.select("svg").remove(),c=i.append("svg")),a.a.select(".chart-inner").classed(h),c.attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 481 474"),Object(o.c)(s)||isNaN(f)||isNaN(l))return null;var p=t[1],v=t[2].indicatorId,g=t[2].transform,d=t[2].areaname,y=t[2].areatype,m=t[2].featureId,b=t[3],_=t[4],x=window.MBIECacheStorage;if(Object(o.c)(x.get(v))&&x.put(v,{}),!Object(o.c)(b)){var w={};u.a.forEach(b,function(n,t){w[n[0]]=n[1]}),b=w}return{data:s,year:p,indicator:v,transform:g,area:d,areaLevel:y,feature:m,features:b,chartData:_,svg:c,base:i,width:f,height:l}}},function(n,t,r){"use strict";n.exports=(n,t,r,e)=>{const a=(n+(e||"")).toString().includes("%");if("string"==typeof n?[n,t,r,e]=n.match(/(0?\.?\d{1,3})%?\b/g).map(Number):void 0!==e&&(e=parseFloat(e)),"number"!=typeof n||"number"!=typeof t||"number"!=typeof r||n>255||t>255||r>255)throw new TypeError("Expected three numbers below 256");if("number"==typeof e){if(!a&&e>=0&&e<=1)e=Math.round(255*e);else{if(!(a&&e>=0&&e<=100))throw new TypeError(`Expected alpha value (${e}) as a fraction or percentage`);e=Math.round(255*e/100)}e=(256|e).toString(16).slice(1)}else e="";return(r|t<<8|n<<16|1<<24).toString(16).slice(1)+e}},function(n,t,r){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2018, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
n.exports=function(){"use strict";for(var n=function(n,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),n<t?t:n>r?r:n},t={},r=0,e=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<e.length;r+=1){var a=e[r];t["[object "+a+"]"]=a.toLowerCase()}var i=function(n){return t[Object.prototype.toString.call(n)]||"object"},u=Math.PI,o={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var r=0;r<=3;r++)r<3?((t[r]<0||t[r]>255)&&(t._clipped=!0),t[r]=n(t[r],0,255)):3===r&&(t[r]=n(t[r],0,1));return t},limit:n,type:i,unpack:function(n,t){return void 0===t&&(t=null),n.length>=3?Array.prototype.slice.call(n):"object"==i(n[0])&&t?t.split("").filter(function(t){return void 0!==n[0][t]}).map(function(t){return n[0][t]}):n[0]},last:function(n){if(n.length<2)return null;var t=n.length-1;return"string"==i(n[t])?n[t].toLowerCase():null},PI:u,TWOPI:2*u,PITHIRD:u/3,DEG2RAD:u/180,RAD2DEG:180/u},c={format:{},autodetect:[]},f=o.last,l=o.clip_rgb,s=o.type,h=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if("object"===s(n[0])&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];var r=f(n),e=!1;if(!r){e=!0,c.sorted||(c.autodetect=c.autodetect.sort(function(n,t){return t.p-n.p}),c.sorted=!0);for(var a=0,i=c.autodetect;a<i.length;a+=1){var u=i[a];if(r=u.test.apply(u,n))break}}if(!c.format[r])throw new Error("unknown format: "+n);var o=c.format[r].apply(null,e?n:n.slice(0,-1));this._rgb=l(o),3===this._rgb.length&&this._rgb.push(1)};h.prototype.toString=function(){return"function"==s(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var p=h,v=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(v.Color,[null].concat(n)))};v.Color=p,v.version="2.0.3";var g=v,d=o.unpack,y=Math.max,m=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=d(n,"rgb"),e=r[0],a=r[1],i=r[2],u=1-y(e/=255,y(a/=255,i/=255)),o=u<1?1/(1-u):0,c=(1-e-u)*o,f=(1-a-u)*o,l=(1-i-u)*o;return[c,f,l,u]},b=o.unpack,_=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=(n=b(n,"cmyk"))[0],e=n[1],a=n[2],i=n[3],u=n.length>4?n[4]:1;return 1===i?[0,0,0,u]:[r>=1?0:255*(1-r)*(1-i),e>=1?0:255*(1-e)*(1-i),a>=1?0:255*(1-a)*(1-i),u]},x=o.unpack,w=o.type;p.prototype.cmyk=function(){return m(this._rgb)},g.cmyk=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["cmyk"])))},c.format.cmyk=_,c.autodetect.push({p:2,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=x(n,"cmyk"),"array"===w(n)&&4===n.length)return"cmyk"}});var M=o.unpack,k=o.last,A=function(n){return Math.round(100*n)/100},S=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=M(n,"hsla"),e=k(n)||"lsa";return r[0]=A(r[0]||0),r[1]=A(100*r[1])+"%",r[2]=A(100*r[2])+"%","hsla"===e||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,e="hsla"):r.length=3,e+"("+r.join(",")+")"},N=o.unpack,E=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=(n=N(n,"rgba"))[0],e=n[1],a=n[2];r/=255,e/=255,a/=255;var i,u,o=Math.min(r,e,a),c=Math.max(r,e,a),f=(c+o)/2;return c===o?(i=0,u=Number.NaN):i=f<.5?(c-o)/(c+o):(c-o)/(2-c-o),r==c?u=(e-a)/(c-o):e==c?u=2+(a-r)/(c-o):a==c&&(u=4+(r-e)/(c-o)),(u*=60)<0&&(u+=360),n.length>3&&void 0!==n[3]?[u,i,f,n[3]]:[u,i,f]},C=o.unpack,j=o.last,z=Math.round,L=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=C(n,"rgba"),e=j(n)||"rgb";return"hsl"==e.substr(0,3)?S(E(r),e):(r[0]=z(r[0]),r[1]=z(r[1]),r[2]=z(r[2]),("rgba"===e||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,e="rgba"),e+"("+r.slice(0,"rgb"===e?3:4).join(",")+")")},O=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,R=/^#?([A-Fa-f0-9]{8})$/,T=function(n){if(n.match(O)){4!==n.length&&7!==n.length||(n=n.substr(1)),3===n.length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var t=parseInt(n,16),r=t>>16,e=t>>8&255,a=255&t;return[r,e,a,1]}if(n.match(R)){9===n.length&&(n=n.substr(1));var i=parseInt(n,16),u=i>>24&255,o=i>>16&255,c=i>>8&255,f=Math.round((255&i)/255*100)/100;return[u,o,c,f]}throw new Error("unknown hex color: "+n)},q=o.unpack,I=Math.round,D=function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];var e,a,i,u=(t=q(t,"hsl"))[0],o=t[1],c=t[2];if(0===o)e=a=i=255*c;else{var f=[0,0,0],l=[0,0,0],s=c<.5?c*(1+o):c+o-c*o,h=2*c-s,p=u/360;f[0]=p+1/3,f[1]=p,f[2]=p-1/3;for(var v=0;v<3;v++)f[v]<0&&(f[v]+=1),f[v]>1&&(f[v]-=1),6*f[v]<1?l[v]=h+6*(s-h)*f[v]:2*f[v]<1?l[v]=s:3*f[v]<2?l[v]=h+(s-h)*(2/3-f[v])*6:l[v]=h;n=[I(255*l[0]),I(255*l[1]),I(255*l[2])],e=n[0],a=n[1],i=n[2]}return t.length>3?[e,a,i,t[3]]:[e,a,i,1]},P={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},F=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,U=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,B=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,W=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Y=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,$=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,H=Math.round,Z=function(n){if(n=n.toLowerCase().trim(),P[n])return T(P[n]);var t;if(t=n.match(F)){for(var r=t.slice(1,4),e=0;e<3;e++)r[e]=+r[e];return r[3]=1,r}if(t=n.match(U)){for(var a=t.slice(1,5),i=0;i<4;i++)a[i]=+a[i];return a}if(t=n.match(B)){for(var u=t.slice(1,4),o=0;o<3;o++)u[o]=H(2.55*u[o]);return u[3]=1,u}if(t=n.match(W)){for(var c=t.slice(1,5),f=0;f<3;f++)c[f]=H(2.55*c[f]);return c[3]=+c[3],c}if(t=n.match(Y)){var l=t.slice(1,4);l[1]*=.01,l[2]*=.01;var s=D(l);return s[3]=1,s}if(t=n.match($)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var p=D(h);return p[3]=+t[4],p}};Z.test=function(n){return F.test(n)||U.test(n)||B.test(n)||W.test(n)||Y.test(n)||$.test(n)};var V=Z,G=o.type;p.prototype.css=function(n){return L(this._rgb,n)},g.css=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["css"])))},c.format.css=V,c.autodetect.push({p:5,test:function(n){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===G(n)&&V.test(n))return"css"}});var X=o.unpack;c.format.gl=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=X(n,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},g.gl=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["gl"])))},p.prototype.gl=function(){var n=this._rgb;return[n[0]/255,n[1]/255,n[2]/255,n[3]]};var K=o.unpack,J=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r,e=K(n,"rgb"),a=e[0],i=e[1],u=e[2],o=Math.min(a,i,u),c=Math.max(a,i,u),f=c-o,l=100*f/255,s=o/(255-f)*100;return 0===f?r=Number.NaN:(a===c&&(r=(i-u)/f),i===c&&(r=2+(u-a)/f),u===c&&(r=4+(a-i)/f),(r*=60)<0&&(r+=360)),[r,l,s]},Q=o.unpack,nn=Math.floor,tn=function(){for(var n,t,r,e,a,i,u=[],o=arguments.length;o--;)u[o]=arguments[o];var c,f,l,s=(u=Q(u,"hcg"))[0],h=u[1],p=u[2];p*=255;var v=255*h;if(0===h)c=f=l=p;else{360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360);var g=nn(s/=60),d=s-g,y=p*(1-h),m=y+v*(1-d),b=y+v*d,_=y+v;switch(g){case 0:c=(n=[_,b,y])[0],f=n[1],l=n[2];break;case 1:c=(t=[m,_,y])[0],f=t[1],l=t[2];break;case 2:c=(r=[y,_,b])[0],f=r[1],l=r[2];break;case 3:c=(e=[y,m,_])[0],f=e[1],l=e[2];break;case 4:c=(a=[b,y,_])[0],f=a[1],l=a[2];break;case 5:c=(i=[_,y,m])[0],f=i[1],l=i[2]}}return[c,f,l,u.length>3?u[3]:1]},rn=o.unpack,en=o.type;p.prototype.hcg=function(){return J(this._rgb)},g.hcg=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["hcg"])))},c.format.hcg=tn,c.autodetect.push({p:1,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=rn(n,"hcg"),"array"===en(n)&&3===n.length)return"hcg"}});var an=o.unpack,un=o.last,on=Math.round,cn=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=an(n,"rgba"),e=r[0],a=r[1],i=r[2],u=r[3],o=un(n)||"auto";void 0===u&&(u=1),"auto"===o&&(o=u<1?"rgba":"rgb"),e=on(e),a=on(a),i=on(i);var c=e<<16|a<<8|i,f="000000"+c.toString(16);f=f.substr(f.length-6);var l="0"+on(255*u).toString(16);switch(l=l.substr(l.length-2),o.toLowerCase()){case"rgba":return"#"+f+l;case"argb":return"#"+l+f;default:return"#"+f}},fn=o.type;p.prototype.hex=function(n){return cn(this._rgb,n)},g.hex=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["hex"])))},c.format.hex=T,c.autodetect.push({p:4,test:function(n){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===fn(n)&&[3,4,6,7,8,9].includes(n.length))return"hex"}});var ln=o.unpack,sn=o.TWOPI,hn=Math.min,pn=Math.sqrt,vn=Math.acos,gn=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r,e=ln(n,"rgb"),a=e[0],i=e[1],u=e[2],o=hn(a/=255,i/=255,u/=255),c=(a+i+u)/3,f=c>0?1-o/c:0;return 0===f?r=NaN:(r=(a-i+(a-u))/2,r/=pn((a-i)*(a-i)+(a-u)*(i-u)),r=vn(r),u>i&&(r=sn-r),r/=sn),[360*r,f,c]},dn=o.unpack,yn=o.limit,mn=o.TWOPI,bn=o.PITHIRD,_n=Math.cos,xn=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r,e,a,i=(n=dn(n,"hsi"))[0],u=n[1],o=n[2];return isNaN(i)&&(i=0),isNaN(u)&&(u=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?(a=(1-u)/3,r=(1+u*_n(mn*i)/_n(bn-mn*i))/3,e=1-(a+r)):i<2/3?(r=(1-u)/3,e=(1+u*_n(mn*(i-=1/3))/_n(bn-mn*i))/3,a=1-(r+e)):(e=(1-u)/3,a=(1+u*_n(mn*(i-=2/3))/_n(bn-mn*i))/3,r=1-(e+a)),r=yn(o*r*3),e=yn(o*e*3),a=yn(o*a*3),[255*r,255*e,255*a,n.length>3?n[3]:1]},wn=o.unpack,Mn=o.type;p.prototype.hsi=function(){return gn(this._rgb)},g.hsi=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["hsi"])))},c.format.hsi=xn,c.autodetect.push({p:2,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=wn(n,"hsi"),"array"===Mn(n)&&3===n.length)return"hsi"}});var kn=o.unpack,An=o.type;p.prototype.hsl=function(){return E(this._rgb)},g.hsl=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["hsl"])))},c.format.hsl=D,c.autodetect.push({p:2,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=kn(n,"hsl"),"array"===An(n)&&3===n.length)return"hsl"}});var Sn=o.unpack,Nn=Math.min,En=Math.max,Cn=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r,e,a,i=(n=Sn(n,"rgb"))[0],u=n[1],o=n[2],c=Nn(i,u,o),f=En(i,u,o),l=f-c;return a=f/255,0===f?(r=Number.NaN,e=0):(e=l/f,i===f&&(r=(u-o)/l),u===f&&(r=2+(o-i)/l),o===f&&(r=4+(i-u)/l),(r*=60)<0&&(r+=360)),[r,e,a]},jn=o.unpack,zn=Math.floor,Ln=function(){for(var n,t,r,e,a,i,u=[],o=arguments.length;o--;)u[o]=arguments[o];var c,f,l,s=(u=jn(u,"hsv"))[0],h=u[1],p=u[2];if(p*=255,0===h)c=f=l=p;else{360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360);var v=zn(s/=60),g=s-v,d=p*(1-h),y=p*(1-h*g),m=p*(1-h*(1-g));switch(v){case 0:c=(n=[p,m,d])[0],f=n[1],l=n[2];break;case 1:c=(t=[y,p,d])[0],f=t[1],l=t[2];break;case 2:c=(r=[d,p,m])[0],f=r[1],l=r[2];break;case 3:c=(e=[d,y,p])[0],f=e[1],l=e[2];break;case 4:c=(a=[m,d,p])[0],f=a[1],l=a[2];break;case 5:c=(i=[p,d,y])[0],f=i[1],l=i[2]}}return[c,f,l,u.length>3?u[3]:1]},On=o.unpack,Rn=o.type;p.prototype.hsv=function(){return Cn(this._rgb)},g.hsv=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["hsv"])))},c.format.hsv=Ln,c.autodetect.push({p:2,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=On(n,"hsv"),"array"===Rn(n)&&3===n.length)return"hsv"}});var Tn={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},qn=o.unpack,In=Math.pow,Dn=function(n){return(n/=255)<=.04045?n/12.92:In((n+.055)/1.055,2.4)},Pn=function(n){return n>Tn.t3?In(n,1/3):n/Tn.t2+Tn.t0},Fn=function(n,t,r){n=Dn(n),t=Dn(t),r=Dn(r);var e=Pn((.4124564*n+.3575761*t+.1804375*r)/Tn.Xn),a=Pn((.2126729*n+.7151522*t+.072175*r)/Tn.Yn),i=Pn((.0193339*n+.119192*t+.9503041*r)/Tn.Zn);return[e,a,i]},Un=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=qn(n,"rgb"),e=r[0],a=r[1],i=r[2],u=Fn(e,a,i),o=u[0],c=u[1],f=u[2],l=116*c-16;return[l<0?0:l,500*(o-c),200*(c-f)]},Bn=o.unpack,Wn=Math.pow,Yn=function(n){return 255*(n<=.00304?12.92*n:1.055*Wn(n,1/2.4)-.055)},$n=function(n){return n>Tn.t1?n*n*n:Tn.t2*(n-Tn.t0)},Hn=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r,e,a,i,u,o,c=(n=Bn(n,"lab"))[0],f=n[1],l=n[2];return e=(c+16)/116,r=isNaN(f)?e:e+f/500,a=isNaN(l)?e:e-l/200,e=Tn.Yn*$n(e),r=Tn.Xn*$n(r),a=Tn.Zn*$n(a),i=Yn(3.2404542*r-1.5371385*e-.4985314*a),u=Yn(-.969266*r+1.8760108*e+.041556*a),o=Yn(.0556434*r-.2040259*e+1.0572252*a),[i,u,o,n.length>3?n[3]:1]},Zn=o.unpack,Vn=o.type;p.prototype.lab=function(){return Un(this._rgb)},g.lab=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["lab"])))},c.format.lab=Hn,c.autodetect.push({p:2,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=Zn(n,"lab"),"array"===Vn(n)&&3===n.length)return"lab"}});var Gn=o.unpack,Xn=o.RAD2DEG,Kn=Math.sqrt,Jn=Math.atan2,Qn=Math.round,nt=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=Gn(n,"lab"),e=r[0],a=r[1],i=r[2],u=Kn(a*a+i*i),o=(Jn(i,a)*Xn+360)%360;return 0===Qn(1e4*u)&&(o=Number.NaN),[e,u,o]},tt=o.unpack,rt=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=tt(n,"rgb"),e=r[0],a=r[1],i=r[2],u=Un(e,a,i),o=u[0],c=u[1],f=u[2];return nt(o,c,f)},et=o.unpack,at=o.DEG2RAD,it=Math.sin,ut=Math.cos,ot=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=et(n,"lch"),e=r[0],a=r[1],i=r[2];return isNaN(i)&&(i=0),[e,ut(i*=at)*a,it(i)*a]},ct=o.unpack,ft=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=(n=ct(n,"lch"))[0],e=n[1],a=n[2],i=ot(r,e,a),u=i[0],o=i[1],c=i[2],f=Hn(u,o,c),l=f[0],s=f[1],h=f[2];return[l,s,h,n.length>3?n[3]:1]},lt=o.unpack,st=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=lt(n,"hcl").reverse();return ft.apply(void 0,r)},ht=o.unpack,pt=o.type;p.prototype.lch=function(){return rt(this._rgb)},p.prototype.hcl=function(){return rt(this._rgb).reverse()},g.lch=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["lch"])))},g.hcl=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["hcl"])))},c.format.lch=ft,c.format.hcl=st,["lch","hcl"].forEach(function(n){return c.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=ht(t,n),"array"===pt(t)&&3===t.length)return n}})});var vt=o.type;p.prototype.name=function(){for(var n=cn(this._rgb,"rgb"),t=0,r=Object.keys(P);t<r.length;t+=1){var e=r[t];if(P[e]===n)return e.toLowerCase()}return n},c.format.named=function(n){if(n=n.toLowerCase(),P[n])return T(P[n]);throw new Error("unknown color name: "+n)},c.autodetect.push({p:5,test:function(n){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===vt(n)&&P[n.toLowerCase()])return"named"}});var gt=o.unpack,dt=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=gt(n,"rgb"),e=r[0],a=r[1],i=r[2];return(e<<16)+(a<<8)+i},yt=o.type,mt=function(n){if("number"==yt(n)&&n>=0&&n<=16777215){var t=n>>16,r=n>>8&255,e=255&n;return[t,r,e,1]}throw new Error("unknown num color: "+n)},bt=o.type;p.prototype.num=function(){return dt(this._rgb)},g.num=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["num"])))},c.format.num=mt,c.autodetect.push({p:5,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(1===n.length&&"number"===bt(n[0])&&n[0]>=0&&n[0]<=16777215)return"num"}});var _t=o.unpack,xt=o.type,wt=Math.round;p.prototype.rgb=function(n){return void 0===n&&(n=!0),!1===n?this._rgb.slice(0,3):this._rgb.slice(0,3).map(wt)},p.prototype.rgba=function(n){return void 0===n&&(n=!0),this._rgb.slice(0,4).map(function(t,r){return r<3?!1===n?t:wt(t):t})},g.rgb=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["rgb"])))},c.format.rgb=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=_t(n,"rgba");return void 0===r[3]&&(r[3]=1),r},c.autodetect.push({p:3,test:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(n=_t(n,"rgba"),"array"===xt(n)&&(3===n.length||4===n.length&&"number"==xt(n[3])&&n[3]>=0&&n[3]<=1))return"rgb"}});var Mt=Math.log,kt=function(n){var t,r,e,a=n/100;return a<66?(t=255,r=-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*Mt(r),e=a<20?0:.8274096064007395*(e=a-10)-254.76935184120902+115.67994401066147*Mt(e)):(t=351.97690566805693+.114206453784165*(t=a-55)-40.25366309332127*Mt(t),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*Mt(r),e=255),[t,r,e,1]},At=o.unpack,St=Math.round,Nt=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];for(var r,e=At(n,"rgb"),a=e[0],i=e[2],u=1e3,o=4e4;o-u>.4;){var c=kt(r=.5*(o+u));c[2]/c[0]>=i/a?o=r:u=r}return St(r)};p.prototype.temp=p.prototype.kelvin=p.prototype.temperature=function(){return Nt(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(n,["temp"])))},c.format.temp=c.format.kelvin=c.format.temperature=kt;var Et=o.type;p.prototype.alpha=function(n,t){return void 0===t&&(t=!1),void 0!==n&&"number"===Et(n)?t?(this._rgb[3]=n,this):new p([this._rgb[0],this._rgb[1],this._rgb[2],n],"rgb"):this._rgb[3]},p.prototype.clipped=function(){return this._rgb._clipped||!1},p.prototype.darken=function(n){void 0===n&&(n=1);var t=this.lab();return t[0]-=Tn.Kn*n,new p(t,"lab").alpha(this.alpha(),!0)},p.prototype.brighten=function(n){return void 0===n&&(n=1),this.darken(-n)},p.prototype.darker=p.prototype.darken,p.prototype.brighter=p.prototype.brighten,p.prototype.get=function(n){var t=n.split("."),r=t[0],e=t[1],a=this[r]();if(e){var i=r.indexOf(e);if(i>-1)return a[i];throw new Error("unknown channel "+e+" in mode "+r)}return a};var Ct=o.type,jt=Math.pow;p.prototype.luminance=function(n){if(void 0!==n&&"number"===Ct(n)){if(0===n)return new p([0,0,0,this._rgb[3]],"rgb");if(1===n)return new p([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r=20,e=function(t,a){var i=t.interpolate(a,.5,"rgb"),u=i.luminance();return Math.abs(n-u)<1e-7||!r--?i:u>n?e(t,i):e(i,a)},a=(t>n?e(new p([0,0,0]),this):e(this,new p([255,255,255]))).rgb();return new p(a.concat([this._rgb[3]]))}return zt.apply(void 0,this._rgb.slice(0,3))};var zt=function(n,t,r){return n=Lt(n),t=Lt(t),r=Lt(r),.2126*n+.7152*t+.0722*r},Lt=function(n){return(n/=255)<=.03928?n/12.92:jt((n+.055)/1.055,2.4)},Ot={},Rt=o.type,Tt=function(n,t,r){void 0===r&&(r=.5);for(var e=[],a=arguments.length-3;a-- >0;)e[a]=arguments[a+3];var i=e[0]||"lrgb";if(Ot[i]||e.length||(i=Object.keys(Ot)[0]),!Ot[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==Rt(n)&&(n=new p(n)),"object"!==Rt(t)&&(t=new p(t)),Ot[i](n,t,r).alpha(n.alpha()+r*(t.alpha()-n.alpha()))};p.prototype.mix=p.prototype.interpolate=function(n,t){void 0===t&&(t=.5);for(var r=[],e=arguments.length-2;e-- >0;)r[e]=arguments[e+2];return Tt.apply(void 0,[this,n,t].concat(r))},p.prototype.premultiply=function(n){void 0===n&&(n=!1);var t=this._rgb,r=t[3];return n?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new p([t[0]*r,t[1]*r,t[2]*r,r],"rgb")},p.prototype.saturate=function(n){void 0===n&&(n=1);var t=this.lch();return t[1]+=Tn.Kn*n,t[1]<0&&(t[1]=0),new p(t,"lch").alpha(this.alpha(),!0)},p.prototype.desaturate=function(n){return void 0===n&&(n=1),this.saturate(-n)};var qt=o.type;p.prototype.set=function(n,t,r){void 0===r&&(r=!1);var e=n.split("."),a=e[0],i=e[1],u=this[a]();if(i){var o=a.indexOf(i);if(o>-1){if("string"==qt(t))switch(t.charAt(0)){case"+":case"-":u[o]+=+t;break;case"*":u[o]*=+t.substr(1);break;case"/":u[o]/=+t.substr(1);break;default:u[o]=+t}else{if("number"!==qt(t))throw new Error("unsupported value for Color.set");u[o]=t}var c=new p(u,a);return r?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+i+" in mode "+a)}return u},Ot.rgb=function(n,t,r){var e=n._rgb,a=t._rgb;return new p(e[0]+r*(a[0]-e[0]),e[1]+r*(a[1]-e[1]),e[2]+r*(a[2]-e[2]),"rgb")};var It=Math.sqrt,Dt=Math.pow;Ot.lrgb=function(n,t,r){var e=n._rgb,a=e[0],i=e[1],u=e[2],o=t._rgb,c=o[0],f=o[1],l=o[2];return new p(It(Dt(a,2)*(1-r)+Dt(c,2)*r),It(Dt(i,2)*(1-r)+Dt(f,2)*r),It(Dt(u,2)*(1-r)+Dt(l,2)*r),"rgb")},Ot.lab=function(n,t,r){var e=n.lab(),a=t.lab();return new p(e[0]+r*(a[0]-e[0]),e[1]+r*(a[1]-e[1]),e[2]+r*(a[2]-e[2]),"lab")};var Pt=function(n,t,r,e){var a,i,u,o,c,f,l,s,h,v,g,d;return"hsl"===e?(u=n.hsl(),o=t.hsl()):"hsv"===e?(u=n.hsv(),o=t.hsv()):"hcg"===e?(u=n.hcg(),o=t.hcg()):"hsi"===e?(u=n.hsi(),o=t.hsi()):"lch"!==e&&"hcl"!==e||(e="hcl",u=n.hcl(),o=t.hcl()),"h"===e.substr(0,1)&&(c=(a=u)[0],l=a[1],h=a[2],f=(i=o)[0],s=i[1],v=i[2]),isNaN(c)||isNaN(f)?isNaN(c)?isNaN(f)?d=Number.NaN:(d=f,1!=h&&0!=h||"hsv"==e||(g=s)):(d=c,1!=v&&0!=v||"hsv"==e||(g=l)):d=c+r*(f>c&&f-c>180?f-(c+360):f<c&&c-f>180?f+360-c:f-c),void 0===g&&(g=l+r*(s-l)),new p([d,g,h+r*(v-h)],e)},Ft=function(n,t,r){return Pt(n,t,r,"lch")};Ot.lch=Ft,Ot.hcl=Ft,Ot.num=function(n,t,r){var e=n.num(),a=t.num();return new p(e+r*(a-e),"num")},Ot.hcg=function(n,t,r){return Pt(n,t,r,"hcg")},Ot.hsi=function(n,t,r){return Pt(n,t,r,"hsi")},Ot.hsl=function(n,t,r){return Pt(n,t,r,"hsl")},Ot.hsv=function(n,t,r){return Pt(n,t,r,"hsv")};var Ut=o.clip_rgb,Bt=Math.pow,Wt=Math.sqrt,Yt=Math.PI,$t=Math.cos,Ht=Math.sin,Zt=Math.atan2,Vt=function(n){for(var t=n.length,r=1/t,e=[0,0,0,0],a=0,i=n;a<i.length;a+=1){var u=i[a],o=u._rgb;e[0]+=Bt(o[0],2)*r,e[1]+=Bt(o[1],2)*r,e[2]+=Bt(o[2],2)*r,e[3]+=o[3]*r}return e[0]=Wt(e[0]),e[1]=Wt(e[1]),e[2]=Wt(e[2]),e[3]>.9999999&&(e[3]=1),new p(Ut(e))},Gt=o.type,Xt=Math.pow,Kt=function(n){var t="rgb",r=g("#ccc"),e=0,a=[0,1],i=[],u=[0,0],o=!1,c=[],f=!1,l=0,s=1,h=!1,p={},v=!0,d=1,y=function(n){if((n=n||["#fff","#000"])&&"string"===Gt(n)&&g.brewer&&g.brewer[n.toLowerCase()]&&(n=g.brewer[n.toLowerCase()]),"array"===Gt(n)){1===n.length&&(n=[n[0],n[0]]),n=n.slice(0);for(var t=0;t<n.length;t++)n[t]=g(n[t]);i.length=0;for(var r=0;r<n.length;r++)i.push(r/(n.length-1))}return _(),c=n},m=function(n){return n},b=function(n,e){var a,f;if(null==e&&(e=!1),isNaN(n)||null===n)return r;if(e)f=n;else if(o&&o.length>2){var h=function(n){if(null!=o){for(var t=o.length-1,r=0;r<t&&n>=o[r];)r++;return r-1}return 0}(n);f=h/(o.length-2)}else f=s!==l?(n-l)/(s-l):1;e||(f=m(f)),1!==d&&(f=Xt(f,d)),f=u[0]+f*(1-u[0]-u[1]),f=Math.min(1,Math.max(0,f));var y=Math.floor(1e4*f);if(v&&p[y])a=p[y];else{if("array"===Gt(c))for(var b=0;b<i.length;b++){var _=i[b];if(f<=_){a=c[b];break}if(f>=_&&b===i.length-1){a=c[b];break}if(f>_&&f<i[b+1]){f=(f-_)/(i[b+1]-_),a=g.interpolate(c[b],c[b+1],f,t);break}}else"function"===Gt(c)&&(a=c(f));v&&(p[y]=a)}return a},_=function(){return p={}};y(n);var x=function(n){var t=g(b(n));return f&&t[f]?t[f]():t};return x.classes=function(n){if(null!=n){if("array"===Gt(n))o=n,a=[n[0],n[n.length-1]];else{var t=g.analyze(a);o=0===n?[t.min,t.max]:g.limits(t,"e",n)}return x}return o},x.domain=function(n){if(!arguments.length)return a;l=n[0],s=n[n.length-1],i=[];var t=c.length;if(n.length===t&&l!==s)for(var r=0,e=Array.from(n);r<e.length;r+=1){var u=e[r];i.push((u-l)/(s-l))}else for(var o=0;o<t;o++)i.push(o/(t-1));return a=[l,s],x},x.mode=function(n){return arguments.length?(t=n,_(),x):t},x.range=function(n,t){return y(n),x},x.out=function(n){return f=n,x},x.spread=function(n){return arguments.length?(e=n,x):e},x.correctLightness=function(n){return null==n&&(n=!0),h=n,_(),m=h?function(n){for(var t=b(0,!0).lab()[0],r=b(1,!0).lab()[0],e=t>r,a=b(n,!0).lab()[0],i=t+(r-t)*n,u=a-i,o=0,c=1,f=20;Math.abs(u)>.01&&f-- >0;)e&&(u*=-1),u<0?(o=n,n+=.5*(c-n)):(c=n,n+=.5*(o-n)),a=b(n,!0).lab()[0],u=a-i;return n}:function(n){return n},x},x.padding=function(n){return null!=n?("number"===Gt(n)&&(n=[n,n]),u=n,x):u},x.colors=function(t,r){arguments.length<2&&(r="hex");var e=[];if(0===arguments.length)e=c.slice(0);else if(1===t)e=[x(.5)];else if(t>1){var i=a[0],u=a[1]-i;e=function(n,t,r){for(var e=[],a=n<t,i=r?a?t+1:t-1:t,u=n;a?u<i:u>i;a?u++:u--)e.push(u);return e}(0,t,!1).map(function(n){return x(i+n/(t-1)*u)})}else{n=[];var f=[];if(o&&o.length>2)for(var l=1,s=o.length,h=1<=s;h?l<s:l>s;h?l++:l--)f.push(.5*(o[l-1]+o[l]));else f=a;e=f.map(function(n){return x(n)})}return g[r]&&(e=e.map(function(n){return n[r]()})),e},x.cache=function(n){return null!=n?(v=n,x):v},x.gamma=function(n){return null!=n?(d=n,x):d},x.nodata=function(n){return null!=n?(r=g(n),x):r},x},Jt=function(n){var t,r,e,a,i,u,o;if(2===(n=n.map(function(n){return new p(n)})).length)t=n.map(function(n){return n.lab()}),i=t[0],u=t[1],a=function(n){var t=[0,1,2].map(function(t){return i[t]+n*(u[t]-i[t])});return new p(t,"lab")};else if(3===n.length)r=n.map(function(n){return n.lab()}),i=r[0],u=r[1],o=r[2],a=function(n){var t=[0,1,2].map(function(t){return(1-n)*(1-n)*i[t]+2*(1-n)*n*u[t]+n*n*o[t]});return new p(t,"lab")};else if(4===n.length){var c;e=n.map(function(n){return n.lab()}),i=e[0],u=e[1],o=e[2],c=e[3],a=function(n){var t=[0,1,2].map(function(t){return(1-n)*(1-n)*(1-n)*i[t]+3*(1-n)*(1-n)*n*u[t]+3*(1-n)*n*n*o[t]+n*n*n*c[t]});return new p(t,"lab")}}else if(5===n.length){var f=Jt(n.slice(0,3)),l=Jt(n.slice(2,5));a=function(n){return n<.5?f(2*n):l(2*(n-.5))}}return a},Qt=function(n,t,r){if(!Qt[r])throw new Error("unknown blend mode "+r);return Qt[r](n,t)},nr=function(n){return function(t,r){var e=g(r).rgb(),a=g(t).rgb();return g.rgb(n(e,a))}},tr=function(n){return function(t,r){var e=[];return e[0]=n(t[0],r[0]),e[1]=n(t[1],r[1]),e[2]=n(t[2],r[2]),e}};Qt.normal=nr(tr(function(n){return n})),Qt.multiply=nr(tr(function(n,t){return n*t/255})),Qt.screen=nr(tr(function(n,t){return 255*(1-(1-n/255)*(1-t/255))})),Qt.overlay=nr(tr(function(n,t){return t<128?2*n*t/255:255*(1-2*(1-n/255)*(1-t/255))})),Qt.darken=nr(tr(function(n,t){return n>t?t:n})),Qt.lighten=nr(tr(function(n,t){return n>t?n:t})),Qt.dodge=nr(tr(function(n,t){return 255===n?255:(n=t/255*255/(1-n/255))>255?255:n})),Qt.burn=nr(tr(function(n,t){return 255*(1-(1-t/255)/(n/255))}));for(var rr=Qt,er=o.type,ar=o.clip_rgb,ir=o.TWOPI,ur=Math.pow,or=Math.sin,cr=Math.cos,fr=Math.floor,lr=Math.random,sr=Math.log,hr=Math.pow,pr=Math.floor,vr=Math.abs,gr=function(n,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===i(n)&&(n=Object.values(n)),n.forEach(function(n){t&&"object"===i(n)&&(n=n[t]),null==n||isNaN(n)||(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(n,t){return dr(r,n,t)},r},dr=function(n,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7),"array"==i(n)&&(n=gr(n));var e=n.min,a=n.max,u=n.values.sort(function(n,t){return n-t});if(1===r)return[e,a];var o=[];if("c"===t.substr(0,1)&&(o.push(e),o.push(a)),"e"===t.substr(0,1)){o.push(e);for(var c=1;c<r;c++)o.push(e+c/r*(a-e));o.push(a)}else if("l"===t.substr(0,1)){if(e<=0)throw new Error("Logarithmic scales are only possible for values > 0");var f=Math.LOG10E*sr(e),l=Math.LOG10E*sr(a);o.push(e);for(var s=1;s<r;s++)o.push(hr(10,f+s/r*(l-f)));o.push(a)}else if("q"===t.substr(0,1)){o.push(e);for(var h=1;h<r;h++){var p=(u.length-1)*h/r,v=pr(p);if(v===p)o.push(u[v]);else{var g=p-v;o.push(u[v]*(1-g)+u[v+1]*g)}}o.push(a)}else if("k"===t.substr(0,1)){var d,y=u.length,m=new Array(y),b=new Array(r),_=!0,x=0,w=null;(w=[]).push(e);for(var M=1;M<r;M++)w.push(e+M/r*(a-e));for(w.push(a);_;){for(var k=0;k<r;k++)b[k]=0;for(var A=0;A<y;A++)for(var S=u[A],N=Number.MAX_VALUE,E=void 0,C=0;C<r;C++){var j=vr(w[C]-S);j<N&&(N=j,E=C),b[E]++,m[A]=E}for(var z=new Array(r),L=0;L<r;L++)z[L]=null;for(var O=0;O<y;O++)d=m[O],null===z[d]?z[d]=u[O]:z[d]+=u[O];for(var R=0;R<r;R++)z[R]*=1/b[R];_=!1;for(var T=0;T<r;T++)if(z[T]!==w[T]){_=!0;break}w=z,++x>200&&(_=!1)}for(var q={},I=0;I<r;I++)q[I]=[];for(var D=0;D<y;D++)d=m[D],q[d].push(u[D]);for(var P=[],F=0;F<r;F++)P.push(q[F][0]),P.push(q[F][q[F].length-1]);P=P.sort(function(n,t){return n-t}),o.push(P[0]);for(var U=1;U<P.length;U+=2){var B=P[U];isNaN(B)||-1!==o.indexOf(B)||o.push(B)}}return o},yr={analyze:gr,limits:dr},mr=Math.sqrt,br=Math.atan2,_r=Math.abs,xr=Math.cos,wr=Math.PI,Mr={cool:function(){return Kt([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return Kt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},kr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ar=0,Sr=Object.keys(kr);Ar<Sr.length;Ar+=1){var Nr=Sr[Ar];kr[Nr.toLowerCase()]=kr[Nr]}var Er=kr;return g.average=function(n,t){void 0===t&&(t="lrgb");var r=n.length;if(n=n.map(function(n){return new p(n)}),"lrgb"===t)return Vt(n);for(var e=n.shift(),a=e.get(t),i=[],u=0,o=0,c=0;c<a.length;c++)if(a[c]=a[c]||0,i.push(isNaN(a[c])?0:1),"h"===t.charAt(c)&&!isNaN(a[c])){var f=a[c]/180*Yt;u+=$t(f),o+=Ht(f)}var l=e.alpha();n.forEach(function(n){var r=n.get(t);l+=n.alpha();for(var e=0;e<a.length;e++)if(!isNaN(r[e]))if(i[e]++,"h"===t.charAt(e)){var c=r[e]/180*Yt;u+=$t(c),o+=Ht(c)}else a[e]+=r[e]});for(var s=0;s<a.length;s++)if("h"===t.charAt(s)){for(var h=Zt(o/i[s],u/i[s])/Yt*180;h<0;)h+=360;for(;h>=360;)h-=360;a[s]=h}else a[s]=a[s]/i[s];return l/=r,new p(a,t).alpha(l>.99999?1:l,!0)},g.bezier=function(n){var t=Jt(n);return t.scale=function(){return Kt(t)},t},g.blend=rr,g.cubehelix=function(n,t,r,e,a){void 0===n&&(n=300),void 0===t&&(t=-1.5),void 0===r&&(r=1),void 0===e&&(e=1),void 0===a&&(a=[0,1]);var i,u=0;"array"===er(a)?i=a[1]-a[0]:(i=0,a=[a,a]);var o=function(o){var c=ir*((n+120)/360+t*o),f=ur(a[0]+i*o,e),l=0!==u?r[0]+o*u:r,s=l*f*(1-f)/2,h=cr(c),p=or(c),v=f+s*(-.14861*h+1.78277*p),d=f+s*(-.29227*h-.90649*p),y=f+s*(1.97294*h);return g(ar([255*v,255*d,255*y,1]))};return o.start=function(t){return null==t?n:(n=t,o)},o.rotations=function(n){return null==n?t:(t=n,o)},o.gamma=function(n){return null==n?e:(e=n,o)},o.hue=function(n){return null==n?r:("array"===er(r=n)?0==(u=r[1]-r[0])&&(r=r[1]):u=0,o)},o.lightness=function(n){return null==n?a:("array"===er(n)?(a=n,i=n[1]-n[0]):(a=[n,n],i=0),o)},o.scale=function(){return g.scale(o)},o.hue(r),o},g.mix=g.interpolate=Tt,g.random=function(){for(var n="#",t=0;t<6;t++)n+="0123456789abcdef".charAt(fr(16*lr()));return new p(n,"hex")},g.scale=Kt,g.analyze=yr.analyze,g.contrast=function(n,t){n=new p(n),t=new p(t);var r=n.luminance(),e=t.luminance();return r>e?(r+.05)/(e+.05):(e+.05)/(r+.05)},g.deltaE=function(n,t,r,e){void 0===r&&(r=1),void 0===e&&(e=1),n=new p(n),t=new p(t);for(var a=Array.from(n.lab()),i=a[0],u=a[1],o=a[2],c=Array.from(t.lab()),f=c[0],l=c[1],s=c[2],h=mr(u*u+o*o),v=mr(l*l+s*s),g=i<16?.511:.040975*i/(1+.01765*i),d=.0638*h/(1+.0131*h)+.638,y=h<1e-6?0:180*br(o,u)/wr;y<0;)y+=360;for(;y>=360;)y-=360;var m=y>=164&&y<=345?.56+_r(.2*xr(wr*(y+168)/180)):.36+_r(.4*xr(wr*(y+35)/180)),b=h*h*h*h,_=mr(b/(b+1900)),x=d*(_*m+1-_),w=h-v,M=u-l,k=o-s,A=(i-f)/(r*g),S=w/(e*d);return mr(A*A+S*S+(M*M+k*k-w*w)/(x*x))},g.distance=function(n,t,r){void 0===r&&(r="lab"),n=new p(n),t=new p(t);var e=n.get(r),a=t.get(r),i=0;for(var u in e){var o=(e[u]||0)-(a[u]||0);i+=o*o}return Math.sqrt(i)},g.limits=yr.limits,g.valid=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];try{return new(Function.prototype.bind.apply(p,[null].concat(n))),!0}catch(n){return!1}},g.scales=Mr,g.colors=P,g.brewer=Er,g}()},function(n,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"==typeof window&&(r=window)}n.exports=r},function(n,t,r){"use strict";var e=r(8),a=r.n(e);r(1);t.a=function(){var n;return{getInstance:function(){return n||(n=new a.a(3e5)),n}}}()},function(n,t){n.exports=function(n){var t=this;t.now=function(){return(new Date).getTime()},t.ttl=n||0,t.data={},t.get=function(n){var r=null,e=t.data[n];return e&&(r=e.val,t.now()>=e.expires&&(r=null,delete t.data[n])),r},t.del=function(n){var r=t.get(n);return delete t.data[n],r},t.put=function(n,r,e){void 0===e&&(e=t.ttl);var a=t.del(n);return null!==r&&(t.data[n]={expires:t.now()+e,val:r}),a}}},function(n,t,r){"use strict";r(1);var e=r(5),a=r.n(e),i=r(0),u=r.n(i),o=r(4),c=r.n(o),f=r(2);t.a=function(n,t,r,e){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,o=u.a.select(".indicator-map-legend"),l=o.select("svg").empty()?o.append("svg"):o.select("svg"),s=Object(f.b)(),h=function(n,t,r,e){for(var i=n["background-rear-positive-light"],o=n["background-rear-positive"],f=a.a.scale([c()(i),c()(o)]),l=[f(0)],s=0;s<e;s++)l.push(f(s/e));return l.push(f(e/e)),u.a.scale.ordinal().domain([t,r]).range(l)}(s,r,e,i),p=(function(n,t,r,e){for(var i=n["background-rear-negative-light"],o=n["background-rear-negative"],f=a.a.scale([c()(i),c()(o)]),l=[f(0)],s=0;s<e;s++)l.push(f(s/e));l.push(f(e/e)),u.a.scale.ordinal().domain([t,r]).range(l)}(s,r,e,i),a.a.scale([s["background-rear-negative-light"]]),u.a.values([r,e])),v=u.a.extent(p),g=u.a.scale.linear().domain(v).range([0,1]),d=function(n){return g(n)},y=g.ticks(7),m=(u.a.scale.threshold().domain(y).range(y.map(function(n){return d(n)})),u.a.scale.linear().domain(y).range(y.map(function(n){return d(n)}))),b=m.domain(),_=((v=u.a.extent(b))[1],v[0]),x=window.innerWidth>460?380:window.innerWidth-120,w=u.a.scale.linear().domain(v).range([0,x]),M=u.a.svg.axis().scale(w).orient("bottom").tickSize(13).tickValues(window.innerWidth<500?v:b);l.empty(),l.data([1]).attr("width",n).attr("height",t),_=(n-100)/i;var k=Array.from(Array(i).keys(),function(n){return[n*_]});l.selectAll("g").remove();var A=l.selectAll("g").data([k]).enter().append("g").attr("class","key").attr("transform","translate(50,"+1*t/3+")");A.selectAll("rect").data(k).enter().append("rect").attr("height",8).attr("x",function(n){return n[0]%innerWidth}).attr("width",_).style("fill",function(n,t){return h(n[0])}).style("stroke",function(n){return h(n[0])});return A.selectAll(".caption").remove(),A.call(M).append("text").attr("class","caption").attr("y",-6).text("caption goes here"),h}},function(n,t,r){"use strict";var e=r(0),a=r.n(e);t.a=function(n,t,r){var e=a.a.select(n).select(".d3-attach"),i=e.select("svg").empty()?e.append("svg"):e.select("svg"),u=a.a.time.format("%Y").parse,o=15,c=48,f=225-c-0,l=120-o-30;i.attr("width",225),i.attr("height",120);var s=t.map(function(n){return n[1]}),h=a.a.time.scale().range([0,f]),p=a.a.scale.linear().range([l,0]),v=a.a.svg.axis().scale(h).ticks(5).innerTickSize(3).outerTickSize(0).tickFormat(function(n){return n.getFullYear().toString().replace(/^20/,"'")}).orient("bottom"),g=a.a.svg.axis().scale(p).ticks([4]).outerTickSize(0).innerTickSize(-f).tickFormat(function(n){return"$"+n/1e3+" k"}).orient("left"),d=a.a.svg.line().x(function(n){return h(u(n[0].toString()))}).y(function(n){return p(n[1])}),y=i.selectAll("g").data([s]),m=y.enter().append("g").attr("transform","translate("+c+","+o+")"),b=1e5*Math.ceil(a.a.max(a.a.merge(s),function(n){return n[1]})/1e5);h.domain(a.a.extent(s[0],function(n){return u(n[0].toString())})),p.domain([0,b]),m.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").append("text").attr("x",50).attr("dy","2.5em").text("Year"),y.selectAll("g.x").call(v),m.append("g").attr("class","y axis").attr("transform","translate(-7,0)"),y.selectAll("g.y").call(g);var _=y.selectAll("path.line").data(t);_.enter().append("path"),_.attr("d",function(n){return d(n[1])}).attr("class",function(n,t){return r===n[0]?"line active":"line"}),_.exit().remove()}},function(n,t,r){"use strict";var e=r(0),a=r.n(e),i=r(1),u=r.n(i),o=r(3),c=r(2);t.a=function(n,t){var r=140;window.innerWidth<400?r=100:window.innerWidth<600&&r>140&&(r=180);var e={top:5,right:25,bottom:40,left:r},i=Object(o.a)(n,t,e,"basic-barchart");if(null!==i){var f=window.MBIECacheStorage,l=i.data,s=i.year,h=i.indicator,p=(i.transform,i.area),v=(i.areaLevel,i.feature),g=i.features,d=i.svg,y=i.base,m=i.width,b=i.height;a.a.select(".chart-inner .legend").select("svg").remove();a.a.format(".1f");var _,x=a.a.scale.ordinal(),w=a.a.scale.linear(),M=35;window.innerWidth<400?M=11:window.innerWidth<600&&(M=25);var k=a.a.svg.axis().scale(x).orient("left").outerTickSize(0).tickFormat(function(n){if(0===n.length)return"";var t=n;return u.a.has(g,n)&&(t=g[n]),(t=u.a.capitalize(t)).length>M?t.substring(0,M)+"…":t}),A=a.a.svg.axis(),S=u.a.filter(l,function(n){return n[0][1]===p});if(Object(c.c)(S))return y.classed("svg-loading",!1),!1;S=S[0][0];String(100*Math.random());var N=f.get(h),E=S[3];(null!==v&&Object(c.c)(E)&&"New Zealand"!==p||null===v&&Object(c.c)(E))&&(E=["new-zealand"]);var C=u.a.filter(l,function(n){return u.a.intersection(n[0][3],E).length>0});u.a.isEmpty(C)&&(C=l);var j=u.a.reduce(C,function(n,t,r){var e={name:t[0][1],slug:t[0][0],display:"",value:0,year:s,feature:u.a.last(t[0])},a=u.a.filter(t[1],function(n){return n[0]===s});return u.a.isEmpty(a)||(e.value=Number(a[0][1]),e.display=a[0][3].trim(),n.push(e)),n},[]);if(null!==v){var z=u.a.groupBy(u.a.filter(j,function(n){return n.name===p}),"feature");z=u.a.reduce(z,function(n,t,r){var e={name:t[0].feature,slug:t[0].slug,value:t[0].value,year:t[0].year,display:t[0].display};return n.push(e),n},[]),j=u.a.orderBy(z,"value","desc");var L=u.a.filter(z,function(n){return n.name===v});u.a.isEmpty(L)||(S[0]=L[0].name)}else j=u.a.sortBy(j,["value"]);u.a.hasIn(N,"areas")||(N.areas={}),u.a.hasIn(N,"areas."+p)||(N.areas[p]={}),N.areas[p][s]=j,l=j,_=a.a.select(n).select(".tooltip"),w=w.range([0,m]);var O=d.selectAll("g").data([1]),R=5*(l.length+1),T=Math.min(20*l.length+R,b),q=R/T;O.enter().append("g");O.attr("width",m).attr("height",b).attr("transform","translate("+e.left+","+e.top+")"),A.scale(w).orient("bottom").ticks(window.innerWidth<450?2:5),A.tickSize(-1*T,10),w.domain([0,a.a.max(l,function(n){return n.value})]),O.attr("height",T+e.top+e.bottom),(x=x.rangeRoundBands([0,T],q)).domain(l.map(function(n){return n.name})),A.tickSize(-1*T,10);var I=O.selectAll("g.y.axis").data([l]);I.enter().append("g").attr("class","y axis");I.call(k).selectAll("text").style("text-anchor","end"),I.exit().remove();var D=O.selectAll("g.x.axis").data([l]);D.enter().append("g").attr("class","x axis");D.attr("transform","translate(0,"+(T+3)+")").call(A),D.exit().remove();var P=D.selectAll("text.caption").data(["Caption here..."]);P.enter().append("text");P.attr("class","caption").attr("y",30).attr("x",0).style("text-anchor","start").text("Caption here...");var F=O.selectAll(".bar").data(l),U=F.enter().append("rect").attr("class","bar").attr("data-bailiwick-area",function(n){return n.slug}).attr("data-bailiwick-feature",function(n){return null!==v?n.name:""});Modernizr.touch||U.on("mouseover",function(n){var t=n.name;u.a.has(g,n.name)&&(t=g[n.name]),t=u.a.capitalize(t);var r=_.selectAll("p").data([t,n.display,n.year]);r.enter().append("p");r.text(function(n){return n}).classed("number",function(n,t){return 1===t}).classed("local",function(n,t){return 1===t}),_.style("visibility","visible").style("top",function(){return a.a.event.offsetY+"px"}).style("left",function(){return a.a.event.offsetX+"px"})}).on("mouseout",function(n){_.style("visibility","hidden")}),F.attr("y",function(n){return x(n.name)}).attr("height",Math.abs(x.rangeBand())).attr("x",1).attr("width",function(n){return w(n.value)+1}).classed("active",function(n){return null!==v?n.name===S[0]:n.slug===S[0]}),F.exit().remove(),y.classed("svg-loading",!1)}}},function(n,t,r){"use strict";var e=r(0),a=r.n(e),i=r(1),u=r.n(i),o=r(3),c=r(2),f={top:25,right:15,bottom:40,left:100},l=["Percentage achieved","Percentage not acheived"],s=["Achieved","Not acheived"];t.a=function(n,t){var r=Object(o.a)(n,t,f,"overunder-barchart");if(null!==r){window.MBIECacheStorage;var e=r.data,i=r.year,h=(r.indicator,r.transform),p=r.area,v=(r.areaLevel,r.feature),g=r.features,d=r.chartData,y=r.svg,m=r.base,b=r.width,_=r.height,x=a.a.scale.ordinal(),w=a.a.scale.linear(),M=a.a.svg.axis().scale(x).orient("top"),k=a.a.svg.axis().scale(w).tickFormat(function(n){return Math.abs(n)}).orient("left");x=x.range([0,b]),y.selectAll("g").remove();var A=y.selectAll("g").data([1]),S=A.enter().append("g");A.attr("width",b).attr("height",_).attr("transform","translate("+f.left+","+f.top+")");var N=u.a.filter(e,function(n){return n[0][1]===p});N=u.a.reduce(N,function(n,t,r){var e={name:t[0][1],slug:t[0][0],display:"",value:0,year:i,feature:u.a.last(t[0])},a=u.a.filter(t[1],function(n){return n[0]===i});return u.a.isEmpty(a)||(e.value=Number(a[0][1]),e.display=a[0][3].trim(),n.push(e)),n},[]);var E=u.a.reduce(d.chartMapping,function(n,t,r){var e=u.a.map(t.mappingDimensions,function(n){return{label:n,values:u.a.first(u.a.filter(N,function(t){return t.feature===n}))}}),a={label:t.mappingLabel,values:e};return n.push(a),n},[]);if(N=E,!Object(c.d)(N)){k.tickSize(10-b,0),x.domain(u.a.reduce(N,function(n,t,r){return n.push(t.label),n},[])).rangeRoundBands([0,b],.55,.3);var C=u.a.reduce(N,function(n,t,r){var e=u.a.filter(t.values,function(n){return-1!==n.label.indexOf("above")});return u.a.isEmpty(e)?n:(e=e[0],Math.max(n,e.values.value))},0),j=u.a.reduce(N,function(n,t,r){var e=u.a.filter(t.values,function(n){return-1!==n.label.indexOf("below")});return u.a.isEmpty(e)?n:(e=e[0],Math.max(n,e.values.value))},0);_=(C+j)/C*240,S.attr("height",_),w.domain([-1*j,C]).range([_,0]);var z=S.selectAll("g.y.axis").data([N]);z.enter().append("g").attr("class","y axis");z.call(k),z.exit().remove();var L=z.selectAll("text.caption").data("percentage"===h?l:s);L.enter().append("text").attr("class","caption").attr("y",-60).attr("transform","rotate(270)");L.attr("x",function(n,t){return-1*t*_}).attr("text-anchor",function(n,t){return t?"start":"end"}).text(function(n){return n}),L.exit().remove();var O=S.selectAll("g.x.axis").data([N]);O.enter().append("g").attr("class","x axis");O.call(M),O.exit().remove();var R=u.a.reduce(N,function(n,t,r){var e=u.a.filter(t.values,function(n){return-1!==n.label.indexOf("above")});return u.a.isEmpty(e)||(e=e[0],n.push({value:e.values.value,label:t.label,name:e.values.name,dispValue:e.values.display,feature:e.values.feature})),n},[]),T=u.a.reduce(N,function(n,t,r){var e=u.a.filter(t.values,function(n){return-1!==n.label.indexOf("below")});return u.a.isEmpty(e)||(e=e[0],n.push({value:e.values.value,label:t.label,name:e.values.name,dispValue:e.values.display,feature:e.values.feature})),n},[]),q=S.selectAll("rect.overbar").data(R);q.enter().append("rect").attr("class","overbar").attr("data-bailiwick-feature",function(n){return n.feature}).on("click",function(n){});q.attr("y",function(n){return w(n.value)}).attr("height",function(n){return w(0)-w(n.value)}).attr("x",function(n){return x(n.label)}).attr("width",x.rangeBand()).attr("data-bailiwick-feature",function(n){return n.feature}).classed("active",function(n){return n.feature===v}),q.exit().remove();var I=S.selectAll("rect.underbar").data(T);I.enter().append("rect").attr("class","underbar").attr("data-bailiwick-feature",function(n){return n.feature}).on("click",function(n){});if(I.attr("y",function(n){return w(0)}).attr("height",function(n){return w(-1*n.value)-w(0)}).attr("x",function(n){return x(n.label)}).attr("width",x.rangeBand()).classed("active",function(n){return n.feature===v}),I.exit().remove(),!Modernizr.touch){var D=a.a.select(n).select(".tooltip");S.selectAll("rect").on("mouseover",function(n){var t=D.selectAll("p").data([g[n.feature],n.dispValue]);t.enter().append("p");t.text(function(n){return Object(c.e)(n)&&n.length>=2?n[0].toUpperCase()+n.slice(1):n}).classed("number",function(n,t){return 1===t}).classed("local",function(n,t){return 1===t}),D.style("visibility","visible").style("top",function(){return a.a.event.offsetY+"px"}).style("left",function(){return a.a.event.offsetX+"px"})}).on("mouseout",function(n){D.style("visibility","hidden")})}var P=a.a.svg.line().x(function(n){return n}).y(function(n){return w(0)}),F=S.selectAll("path.zeroline").data([[0,b]]);F.enter().append("path").attr("class","zeroline");F.attr("d",P),F.exit().remove(),m.classed("svg-loading",!1)}}}},function(n,t,r){"use strict";var e=r(1),a=r.n(e),i=r(5),u=r.n(i),o=r(0),c=r.n(o),f=r(4),l=r.n(f),s=r(3),h=r(2),p={top:2,right:2,bottom:2,left:2};t.a=function(n,t){var r,e,i,o=Object(h.b)(),f=o["background-rear-positive-light"],v=o["background-rear-positive"];if(void 0===f)return!1;var g=u.a.scale([l()(f),l()(v)]),d=c.a.scale.ordinal().domain(["international","domestic"]).range([g(.2),g(.8)]),y=Object(s.a)(n,t,p,"area-treemap");if(null!==y){window.MBIECacheStorage;var m=y.data,b=(y.year,y.indicator,y.transform,y.area),_=(y.areaLevel,y.feature,y.features),x=y.svg,w=y.base,M=y.width,k=y.height;e=c.a.select(n).select(".legend"),c.a.select(n).select(".tooltip"),r=c.a.layout.treemap().size([M,k]).value(function(n){return n[3]});var A=x.selectAll("g").data([1]).enter().append("g");A.append("rect").attr("width",M+2).attr("height",k+2).attr("x",-1).attr("y",-1).attr("class","border-rect"),!0;a.a.filter(m,function(n){return n[0][1]===b});i=["International","Domestic"];var S=e.selectAll("svg").data([i]);S.enter().append("svg");S.attr("width",300).attr("height",80);var N=S.selectAll("g.key").data(function(n){return[n]});N.enter().append("g").attr("class","key");N.attr("transform","translate("+p.left+",40)");var E=N.selectAll("rect").data(function(n){return n});E.enter().append("rect").attr("height",8).attr("width",55);E.attr("x",function(n,t){return 95*t}).attr("fill",function(n){return d(n.toLowerCase())});var C=N.selectAll("text").data(function(n){return n});C.enter().append("text").attr("dy","0.71em").attr("y",16);C.attr("x",function(n,t){return 95*t}).text(function(n){return n}),C.exit().remove();var j=A.data(_).selectAll("g").data(r.nodes),z=(j.enter().append("g").attr("class","cell"),j);i=j.data()[0],z.attr("transform",function(n){return"translate(0,0)"});var L=j.selectAll("rect").data(function(n){return[n]});L.enter().append("rect").on("click",function(n,t){});L.style("fill",function(n){return"green"}).attr("pointer-events",function(n){return"all"}).classed("active",function(n){return!1}),w.classed("svg-loading",!1)}}},function(n,t,r){"use strict";var e=r(0),a=r.n(e),i=r(1),u=r.n(i),o=r(2),c=r(3);a.a.format(",g");var f=a.a.time.format("%Y").parse,l=["absolute","indexed","percapita"],s=a.a.time.scale(),h=a.a.scale.linear(),p={top:40,right:40,bottom:40,left:80},v=a.a.svg.line().x(function(n,t){return s(n.date)}).y(function(n){return h(n.v)});t.a=function(n,t){console.log("TS",t);var r=Object(c.a)(n,t,p,"default-timeseries");if(null!==r){var e=window.MBIECacheStorage,i={},g=r.data,d=r.year,y=r.indicator,m=r.transform,b=r.area,_=r.areaLevel,x=r.feature,w=r.chartData,M=r.svg,k=r.base,A=r.width,S=r.height,N=(M.attr("data-year"),M.attr("data-indicator"),M.attr("data-area")),E=(M.attr("data-transform"),M.attr("data-level"),a.a.select(n).select(".legend")),C=window.innerWidth<350?320:420,j=a.a.select(n).select(".tooltip");s.range([0,A]),h.range([S,0]);var z=a.a.geom.voronoi().x(function(n){return s(n.date)}).y(function(n){return h(n.v)}).clipExtent([[-p.left,-p.top],[A+p.right,S+p.bottom]]);M.selectAll("g").remove();var L=M.selectAll("g").data([g]),O=M.select(".g-enter");O.empty()&&(O=L.enter().append("g").attr("class","g-enter")),O.attr("transform","translate("+p.left+","+p.top+")");var R=[];R=u.a.uniq(u.a.reduce(g,function(n,t,r){return u.a.reduce(t[1],function(n,t,r){return n.push(t[0]),n},n)},[])).sort(function(n,t){return a.a.ascending(n,t)}).map(function(n){return f(n.toString())}),i.years=R;var T=b+"-"+_+"-"+m,q=[],I=l.indexOf(m),D=-1===I?1:I+1,P=-1===I?3:I+3;q=g.map(function(n){var t={slug:n[0][0],name:n[0][1],level:n[0][2],dsArea:n[0],feature:u.a.last(n[0]),values:n[1].map(function(n){var t={};return t.date=f(n[0].toString()),t.v=Number(n[D]),t.d=n[P],t}).filter(function(n){return null!==n.v})};return t.values.forEach(function(n){n.area=t}),t}).filter(function(n){var t=-1!==u.a.indexOf([b,"New Zealand"],n.name);return null!==x?n.level===_&&x===n.feature||"New Zealand"===n.name&&x===n.feature:n.level===_||t}),i[String(T)]=q;var F=a.a.extent(R);s.domain(F);var U=a.a.extent(a.a.merge(q.map(function(n){return n.values.map(function(n){return n.v})})));h.domain(U).nice();var B=Math.trunc(R.length/9)+1,W=R.filter(function(n,t){return t%B==0});window.innerWidth<600&&(W=a.a.extent(R));var Y=a.a.svg.axis().scale(s).tickValues(R).orient("bottom"),$=O.select(".axis--x--hidden");$.empty()&&($=O.append("g").attr("class","axis axis--x-hidden").attr("transform","translate(0,"+S+")")),$.call(Y);var H=M.call(Y).selectAll(".tick"),Z=0;H.each(function(n,t){var r=a.a.select(this),e=new Date(n).getFullYear(),i=parseInt(d),u=a.a.transform(r.attr("transform")).translate;i===e&&(Z=u[0])}),Z<=0&&(Z=1);var V=O.select(".year-line");V.empty()&&(V=O.append("line")),V.transition().duration(500).attr("x1",Z).attr("y1",0).attr("x2",Z).attr("y2",393).attr("stroke-width",1).attr("stroke","rgba(0,0,0,.5)").attr("z",100).attr("class","year-line");var G=a.a.svg.axis().scale(s).tickValues(W).orient("bottom"),X=O.select(".axis--x");X.empty()&&(X=O.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+S+")").attr("z",100)),X.call(G).append("text").attr("class","caption").attr("y",5).attr("x",A+10).text("Year"),console.log(w);var K="",J=u.a.filter(w.chartTransforms,function(n){return n.transformName===m});0!==J.length&&(K=(J=J[0]).transformCaption),O.append("g").attr("class","axis axis--y").call(a.a.svg.axis().scale(h).orient("left").ticks(10)).append("text").attr("class","caption title").attr("y",-30).attr("x",0).text(K),M.append("clipPath").attr("id","clipper").append("rect").attr("x",0).attr("y",0).attr("width",363).attr("height",393),M.selectAll(".axis--x g.tick text").attr("data-bailiwick-year",function(n){return new Date(n).getFullYear()});var Q=O.select(".areas").selectAll("path");Q.empty()&&(Q=O.append("g").attr("class","areas").selectAll("path")),(Q=Q.data(q)).enter().append("path"),Q.attr("d",function(n){return n.line=this,v(n.values)}),L.selectAll("g.areas").selectAll("path").attr("class",function(n){var t={"New Zealand":"new-zealand",default:"no-highlight"};return t[b]="current-area",(u.a.hasIn(t,n.name)?t[n.name]:t.default)+" area"}).attr("clip-path","url(#clipper)");var nn=O.append("g").attr("transform","translate(-100,-100)").attr("class","focus");nn.append("circle").attr("r",3.5),nn.append("text").attr("y",-10);var tn=L.selectAll("g.focus"),rn=O.append("g").attr("class","voronoi").attr("clip-path","url(#clipper)").selectAll("path").data(z(a.a.nest().key(function(n){return s(n.date)+","+h(n.v)}).rollup(function(n){return n[0]}).entries(a.a.merge(q.map(function(n){return n.values}))).map(function(n,t){return n.values}))).enter().append("path").attr("d",function(n){return Object(o.e)(n)?"":"M"+n.join("L")+"Z"}).attr("data-bailiwick-year",function(n){return Object(o.e)(n)?"":new Date(n.point.date).getFullYear()}).attr("data-bailiwick-area",function(n){return Object(o.e)(n)?"":n.point.area.slug}).datum(function(n){return Object(o.e)(n)?null:n.point}).on("click",function(n){new Date(n.date).getFullYear(),n.area.slug});if(Modernizr.touch||(rn.on("mouseover",function(n,t){if(!Object(o.d)(n.area)){var r=s(n.date),e=h(n.v);a.a.select(n.area.line).classed("area--hover",!0),n.area.line.parentNode.appendChild(n.area.line),tn.attr("transform","translate("+r+","+e+")").style("visibility","visible"),j.style("top",e-90+"px").style("left",r+"px").style("visibility","inherit");var i=[n.area.name,n.d,n.date.getFullYear()],u=j.selectAll("p").data(i);u.enter().append("p");u.html(function(n){return n}).classed("number",function(n,t){return 1===t}).classed("local",function(n,t){return 0!==t}).classed("extra",function(n,t){return t>1}),u.exit().remove()}}),rn.on("mouseout",function(n){Object(o.d)(n.area)||(a.a.select(n.area.line).classed("area--hover",!1),tn.attr("transform","translate(-100,-100)").style("visibility","hidden"),j.style("visibility","hidden"))})),M.attr("data-year",d).attr("data-area",b).attr("data-transform",m).attr("data-level",_).attr("data-indicator",y),N===b)return k.classed("svg-loading",!1),!1;var en=["active","other"],an=["New Zealand","Other"];"New Zealand"!==b&&(an.push(b),en=["nz","other","active"]);var un=a.a.zip(an,en),on=E.selectAll("svg").data([un]);on.enter().append("svg");on.attr("width",C).attr("height",50);var cn=on.selectAll("g.key").data([un]);cn.enter().append("g").attr("class","key");cn.attr("transform","translate("+(window.innerWidth<350?20:p.left)+","+50/3+")");var fn=cn.selectAll("rect").data(un);fn.enter().append("rect").attr("height",8).attr("width",55);fn.attr("x",function(n,t){return 140*Math.floor(t/2)}).attr("y",function(n,t){return t%2*20}).attr("class",function(n){return n[1]}),fn.exit().remove();var ln=cn.selectAll("text").data(un);ln.enter().append("text").attr("dx","65px").attr("dy","0.7em");if(ln.attr("x",function(n,t){return 140*Math.floor(t/2)}).attr("y",function(n,t){return t%2*20}).text(function(n){return n[0]}),ln.exit().remove(),!u.a.isEmpty(i)){var sn=e.get(y);if(!u.a.hasIn(sn,"years")&&u.a.hasIn(i,"years")&&(sn.years=i.years),u.a.hasIn(i,T)){var hn={};u.a.hasIn(sn,"areas")&&(hn=sn.areas),hn[T]=i[T],sn.areas=hn}}k.classed("svg-loading",!1)}}},function(n,t,r){"use strict";r.r(t),function(n){var e=r(7),a=r(14),i=r(9),u=r(10),o=r(11),c=r(12),f=r(13);n.MBIECacheStorage=e.a.getInstance(),n.updateIndicatorTimeSeries=a.a,n.updateMapLegend=i.a,n.updateTimeSeries=u.a,n.updateAreaBarchart=o.a,n.overUnderBarchart=c.a,n.areaTreeMap=f.a,t.default=n}.call(this,r(6))},function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}}]);
//# sourceMappingURL=bailiwick.bundle.js.map